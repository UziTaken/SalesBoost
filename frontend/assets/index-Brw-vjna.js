const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StudentLayout-rBXynUbB.js","assets/share-2-CK0lfaHj.js","assets/users-mmSJFQp0.js","assets/clock-1DG2O-F9.js","assets/AdminLayout-fUSHs2Am.js","assets/avatar-_yJ2VmTt.js","assets/index-CrbLbUhv.js","assets/chevron-down-DJDYyM-K.js","assets/Dashboard-DQ-s6BvU.js","assets/StatCard-Bq2Lc32v.js","assets/card-CgWuGiW4.js","assets/badge-sqYSPs3A.js","assets/table-CMpLMPln.js","assets/play-CTXE6py1.js","assets/api-BnbAaGdM.js","assets/index-D5GkNzM3.js","assets/CustomerList-BAjBTYiK.js","assets/mockData-DzwW9Ncf.js","assets/plus-DWkTGiUl.js","assets/eye-ZwJF0O9J.js","assets/trash-2-CZOqdUjm.js","assets/History-DOgL5_uO.js","assets/select-DyEzlkgV.js","assets/CourseList-CrlHUMaP.js","assets/useQuery-BLIH4P5b.js","assets/skeleton-DQI6M_d0.js","assets/circle-alert-BeZxWhr5.js","assets/Training-D6YIhD2H.js","assets/session.service-DPmON2dC.js","assets/api-D5CDY86l.js","assets/loader-circle-BsjJ3rbw.js","assets/Evaluation-CghRyEHE.js","assets/CartesianChart-B0iZIDPM.js","assets/RadarChart-JV76oD3O.js","assets/Dashboard-DC1U__P4.js","assets/Courses-BrS9S0b7.js","assets/ellipsis-vertical-CZyY_V7q.js","assets/chevron-right-C34fafZd.js","assets/Tasks-mEhQu1tb.js","assets/Analysis-C73cfBax.js","assets/activity-DLfE3yT7.js","assets/arrow-up-scCygIv5.js","assets/Users-CQIovwGa.js","assets/Settings-sk7jr3In.js","assets/EvolutionTrends-CJBAtaBv.js","assets/KnowledgeBase-Cy0geQIj.js"])))=>i.map(i=>d[i]);
var jA=Object.defineProperty;var Qw=e=>{throw TypeError(e)};var FA=(e,t,n)=>t in e?jA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fn=(e,t,n)=>FA(e,typeof t!="symbol"?t+"":t,n),Vp=(e,t,n)=>t.has(e)||Qw("Cannot "+n);var K=(e,t,n)=>(Vp(e,t,"read from private field"),n?n.call(e):t.get(e)),Ge=(e,t,n)=>t.has(e)?Qw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,r)=>(Vp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),sn=(e,t,n)=>(Vp(e,t,"access private method"),n);var nd=(e,t,n,r)=>({set _(s){Me(e,t,s,n)},get _(){return K(e,t,r)}});function UA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Bb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wp={exports:{}},Ll={},Hp={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function zA(){if(Xw)return We;Xw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function b(P,H,oe){this.props=P,this.context=H,this.refs=S,this.updater=oe||_}b.prototype.isReactComponent={},b.prototype.setState=function(P,H){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,H,"setState")},b.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=b.prototype;function T(P,H,oe){this.props=P,this.context=H,this.refs=S,this.updater=oe||_}var R=T.prototype=new C;R.constructor=T,w(R,b.prototype),R.isPureReactComponent=!0;var O=Array.isArray,z=Object.prototype.hasOwnProperty,B={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function j(P,H,oe){var he,xe={},je=null,Ce=null;if(H!=null)for(he in H.ref!==void 0&&(Ce=H.ref),H.key!==void 0&&(je=""+H.key),H)z.call(H,he)&&!$.hasOwnProperty(he)&&(xe[he]=H[he]);var Ue=arguments.length-2;if(Ue===1)xe.children=oe;else if(1<Ue){for(var He=Array(Ue),it=0;it<Ue;it++)He[it]=arguments[it+2];xe.children=He}if(P&&P.defaultProps)for(he in Ue=P.defaultProps,Ue)xe[he]===void 0&&(xe[he]=Ue[he]);return{$$typeof:e,type:P,key:je,ref:Ce,props:xe,_owner:B.current}}function te(P,H){return{$$typeof:e,type:P.type,key:H,ref:P.ref,props:P.props,_owner:P._owner}}function J(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function ce(P){var H={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return H[oe]})}var ne=/\/+/g;function le(P,H){return typeof P=="object"&&P!==null&&P.key!=null?ce(""+P.key):H.toString(36)}function G(P,H,oe,he,xe){var je=typeof P;(je==="undefined"||je==="boolean")&&(P=null);var Ce=!1;if(P===null)Ce=!0;else switch(je){case"string":case"number":Ce=!0;break;case"object":switch(P.$$typeof){case e:case t:Ce=!0}}if(Ce)return Ce=P,xe=xe(Ce),P=he===""?"."+le(Ce,0):he,O(xe)?(oe="",P!=null&&(oe=P.replace(ne,"$&/")+"/"),G(xe,H,oe,"",function(it){return it})):xe!=null&&(J(xe)&&(xe=te(xe,oe+(!xe.key||Ce&&Ce.key===xe.key?"":(""+xe.key).replace(ne,"$&/")+"/")+P)),H.push(xe)),1;if(Ce=0,he=he===""?".":he+":",O(P))for(var Ue=0;Ue<P.length;Ue++){je=P[Ue];var He=he+le(je,Ue);Ce+=G(je,H,oe,He,xe)}else if(He=v(P),typeof He=="function")for(P=He.call(P),Ue=0;!(je=P.next()).done;)je=je.value,He=he+le(je,Ue++),Ce+=G(je,H,oe,He,xe);else if(je==="object")throw H=String(P),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Ce}function me(P,H,oe){if(P==null)return P;var he=[],xe=0;return G(P,he,"","",function(je){return H.call(oe,je,xe++)}),he}function fe(P){if(P._status===-1){var H=P._result;H=H(),H.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=H)}if(P._status===1)return P._result.default;throw P._result}var de={current:null},N={transition:null},re={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:N,ReactCurrentOwner:B};function q(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:me,forEach:function(P,H,oe){me(P,function(){H.apply(this,arguments)},oe)},count:function(P){var H=0;return me(P,function(){H++}),H},toArray:function(P){return me(P,function(H){return H})||[]},only:function(P){if(!J(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},We.Component=b,We.Fragment=n,We.Profiler=s,We.PureComponent=T,We.StrictMode=r,We.Suspense=d,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,We.act=q,We.cloneElement=function(P,H,oe){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var he=w({},P.props),xe=P.key,je=P.ref,Ce=P._owner;if(H!=null){if(H.ref!==void 0&&(je=H.ref,Ce=B.current),H.key!==void 0&&(xe=""+H.key),P.type&&P.type.defaultProps)var Ue=P.type.defaultProps;for(He in H)z.call(H,He)&&!$.hasOwnProperty(He)&&(he[He]=H[He]===void 0&&Ue!==void 0?Ue[He]:H[He])}var He=arguments.length-2;if(He===1)he.children=oe;else if(1<He){Ue=Array(He);for(var it=0;it<He;it++)Ue[it]=arguments[it+2];he.children=Ue}return{$$typeof:e,type:P.type,key:xe,ref:je,props:he,_owner:Ce}},We.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:o,_context:P},P.Consumer=P},We.createElement=j,We.createFactory=function(P){var H=j.bind(null,P);return H.type=P,H},We.createRef=function(){return{current:null}},We.forwardRef=function(P){return{$$typeof:u,render:P}},We.isValidElement=J,We.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:fe}},We.memo=function(P,H){return{$$typeof:f,type:P,compare:H===void 0?null:H}},We.startTransition=function(P){var H=N.transition;N.transition={};try{P()}finally{N.transition=H}},We.unstable_act=q,We.useCallback=function(P,H){return de.current.useCallback(P,H)},We.useContext=function(P){return de.current.useContext(P)},We.useDebugValue=function(){},We.useDeferredValue=function(P){return de.current.useDeferredValue(P)},We.useEffect=function(P,H){return de.current.useEffect(P,H)},We.useId=function(){return de.current.useId()},We.useImperativeHandle=function(P,H,oe){return de.current.useImperativeHandle(P,H,oe)},We.useInsertionEffect=function(P,H){return de.current.useInsertionEffect(P,H)},We.useLayoutEffect=function(P,H){return de.current.useLayoutEffect(P,H)},We.useMemo=function(P,H){return de.current.useMemo(P,H)},We.useReducer=function(P,H,oe){return de.current.useReducer(P,H,oe)},We.useRef=function(P){return de.current.useRef(P)},We.useState=function(P){return de.current.useState(P)},We.useSyncExternalStore=function(P,H,oe){return de.current.useSyncExternalStore(P,H,oe)},We.useTransition=function(){return de.current.useTransition()},We.version="18.3.1",We}var eS;function zg(){return eS||(eS=1,Hp.exports=zA()),Hp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function BA(){if(tS)return Ll;tS=1;var e=zg(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,g={},v=null,_=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(_=d.ref);for(p in d)r.call(d,p)&&!o.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:t,type:u,key:v,ref:_,props:g,_owner:s.current}}return Ll.Fragment=n,Ll.jsx=l,Ll.jsxs=l,Ll}var nS;function VA(){return nS||(nS=1,Wp.exports=BA()),Wp.exports}var M=VA(),k=zg();const at=Bb(k),Vb=UA({__proto__:null,default:at},[k]);var rd={},qp={exports:{}},kn={},Kp={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function WA(){return rS||(rS=1,(function(e){function t(N,re){var q=N.length;N.push(re);e:for(;0<q;){var P=q-1>>>1,H=N[P];if(0<s(H,re))N[P]=re,N[q]=H,q=P;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var re=N[0],q=N.pop();if(q!==re){N[0]=q;e:for(var P=0,H=N.length,oe=H>>>1;P<oe;){var he=2*(P+1)-1,xe=N[he],je=he+1,Ce=N[je];if(0>s(xe,q))je<H&&0>s(Ce,xe)?(N[P]=Ce,N[je]=q,P=je):(N[P]=xe,N[he]=q,P=he);else if(je<H&&0>s(Ce,q))N[P]=Ce,N[je]=q,P=je;else break e}}return re}function s(N,re){var q=N.sortIndex-re.sortIndex;return q!==0?q:N.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,v=3,_=!1,w=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(N){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=N)r(f),re.sortIndex=re.expirationTime,t(d,re);else break;re=n(f)}}function O(N){if(S=!1,R(N),!w)if(n(d)!==null)w=!0,fe(z);else{var re=n(f);re!==null&&de(O,re.startTime-N)}}function z(N,re){w=!1,S&&(S=!1,C(j),j=-1),_=!0;var q=v;try{for(R(re),g=n(d);g!==null&&(!(g.expirationTime>re)||N&&!ce());){var P=g.callback;if(typeof P=="function"){g.callback=null,v=g.priorityLevel;var H=P(g.expirationTime<=re);re=e.unstable_now(),typeof H=="function"?g.callback=H:g===n(d)&&r(d),R(re)}else r(d);g=n(d)}if(g!==null)var oe=!0;else{var he=n(f);he!==null&&de(O,he.startTime-re),oe=!1}return oe}finally{g=null,v=q,_=!1}}var B=!1,$=null,j=-1,te=5,J=-1;function ce(){return!(e.unstable_now()-J<te)}function ne(){if($!==null){var N=e.unstable_now();J=N;var re=!0;try{re=$(!0,N)}finally{re?le():(B=!1,$=null)}}else B=!1}var le;if(typeof T=="function")le=function(){T(ne)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,me=G.port2;G.port1.onmessage=ne,le=function(){me.postMessage(null)}}else le=function(){b(ne,0)};function fe(N){$=N,B||(B=!0,le())}function de(N,re){j=b(function(){N(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||_||(w=!0,fe(z))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(N){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var q=v;v=re;try{return N()}finally{v=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,re){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var q=v;v=N;try{return re()}finally{v=q}},e.unstable_scheduleCallback=function(N,re,q){var P=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?P+q:P):q=P,N){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=q+H,N={id:p++,callback:re,priorityLevel:N,startTime:q,expirationTime:H,sortIndex:-1},q>P?(N.sortIndex=q,t(f,N),n(d)===null&&N===n(f)&&(S?(C(j),j=-1):S=!0,de(O,q-P))):(N.sortIndex=H,t(d,N),w||_||(w=!0,fe(z))),N},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(N){var re=v;return function(){var q=v;v=re;try{return N.apply(this,arguments)}finally{v=q}}}})(Gp)),Gp}var sS;function HA(){return sS||(sS=1,Kp.exports=WA()),Kp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function qA(){if(iS)return kn;iS=1;var e=zg(),t=HA();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(i){return d.call(g,i)?!0:d.call(p,i)?!1:f.test(i)?g[i]=!0:(p[i]=!0,!1)}function _(i,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,a,c,h){if(a===null||typeof a>"u"||_(i,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(i,a,c,h,m,y,E){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=y,this.removeEmptyString=E}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];b[a]=new S(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(C,T);b[a]=new S(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(C,T);b[a]=new S(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(C,T);b[a]=new S(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,a,c,h){var m=b.hasOwnProperty(a)?b[a]:null;(m!==null?m.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,c,m,h)&&(c=null),h||m===null?v(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):m.mustUseProperty?i[m.propertyName]=c===null?m.type===3?!1:"":c:(a=m.attributeName,h=m.attributeNamespace,c===null?i.removeAttribute(a):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?i.setAttributeNS(h,a,c):i.setAttribute(a,c))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),B=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ce=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),N=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var q=Object.assign,P;function H(i){if(P===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||""}return`
`+P+i}var oe=!1;function he(i,a){if(!i||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(V){var h=V}Reflect.construct(i,[],a)}else{try{a.call()}catch(V){h=V}i.call(a.prototype)}else{try{throw Error()}catch(V){h=V}i()}}catch(V){if(V&&h&&typeof V.stack=="string"){for(var m=V.stack.split(`
`),y=h.stack.split(`
`),E=m.length-1,x=y.length-1;1<=E&&0<=x&&m[E]!==y[x];)x--;for(;1<=E&&0<=x;E--,x--)if(m[E]!==y[x]){if(E!==1||x!==1)do if(E--,x--,0>x||m[E]!==y[x]){var A=`
`+m[E].replace(" at new "," at ");return i.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",i.displayName)),A}while(1<=E&&0<=x);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?H(i):""}function xe(i){switch(i.tag){case 5:return H(i.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return i=he(i.type,!1),i;case 11:return i=he(i.type.render,!1),i;case 1:return i=he(i.type,!0),i;default:return""}}function je(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case $:return"Fragment";case B:return"Portal";case te:return"Profiler";case j:return"StrictMode";case le:return"Suspense";case G:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ce:return(i.displayName||"Context")+".Consumer";case J:return(i._context.displayName||"Context")+".Provider";case ne:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case me:return a=i.displayName||null,a!==null?a:je(i.type)||"Memo";case fe:a=i._payload,i=i._init;try{return je(i(a))}catch{}}return null}function Ce(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(a);case 8:return a===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function it(i){var a=He(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function un(i){i._valueTracker||(i._valueTracker=it(i))}function ar(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return i&&(h=He(i)?i.checked?"true":"false":i.value),i=h,i!==c?(a.setValue(i),!0):!1}function Wr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Pn(i,a){var c=a.checked;return q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Nn(i,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=Ue(a.value!=null?a.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Hr(i,a){a=a.checked,a!=null&&R(i,"checked",a,!1)}function qr(i,a){Hr(i,a);var c=Ue(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Es(i,a.type,c):a.hasOwnProperty("defaultValue")&&Es(i,a.type,Ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Kr(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Es(i,a,c){(a!=="number"||Wr(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var ze=Array.isArray;function I(i,a,c,h){if(i=i.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=a.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Ue(c),a=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function L(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function W(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(ze(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:Ue(c)}}function ae(i,a){var c=Ue(a.value),h=Ue(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function Z(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function se(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ke(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?se(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ze,et=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,m){MSApp.execUnsafeLocalFunction(function(){return i(a,c,h,m)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ze.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function xt(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ir=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(i){Ir.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Ln[a]=Ln[i]})});function Gu(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Ln.hasOwnProperty(i)&&Ln[i]?(""+a).trim():a+"px"}function co(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=Gu(c,a[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,m):i[c]=m}}var Za=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ja(i,a){if(a){if(Za[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function fo(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function ho(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ih=null,po=null,mo=null;function mv(i){if(i=_l(i)){if(typeof ih!="function")throw Error(n(280));var a=i.stateNode;a&&(a=yc(a),ih(i.stateNode,i.type,a))}}function gv(i){po?mo?mo.push(i):mo=[i]:po=i}function yv(){if(po){var i=po,a=mo;if(mo=po=null,mv(i),a)for(i=0;i<a.length;i++)mv(a[i])}}function vv(i,a){return i(a)}function _v(){}var oh=!1;function wv(i,a,c){if(oh)return i(a,c);oh=!0;try{return vv(i,a,c)}finally{oh=!1,(po!==null||mo!==null)&&(_v(),yv())}}function Qa(i,a){var c=i.stateNode;if(c===null)return null;var h=yc(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var ah=!1;if(u)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){ah=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{ah=!1}function WR(i,a,c,h,m,y,E,x,A){var V=Array.prototype.slice.call(arguments,3);try{a.apply(c,V)}catch(X){this.onError(X)}}var el=!1,Zu=null,Ju=!1,lh=null,HR={onError:function(i){el=!0,Zu=i}};function qR(i,a,c,h,m,y,E,x,A){el=!1,Zu=null,WR.apply(HR,arguments)}function KR(i,a,c,h,m,y,E,x,A){if(qR.apply(this,arguments),el){if(el){var V=Zu;el=!1,Zu=null}else throw Error(n(198));Ju||(Ju=!0,lh=V)}}function yi(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Sv(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Ev(i){if(yi(i)!==i)throw Error(n(188))}function GR(i){var a=i.alternate;if(!a){if(a=yi(i),a===null)throw Error(n(188));return a!==i?null:i}for(var c=i,h=a;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return Ev(m),i;if(y===h)return Ev(m),a;y=y.sibling}throw Error(n(188))}if(c.return!==h.return)c=m,h=y;else{for(var E=!1,x=m.child;x;){if(x===c){E=!0,c=m,h=y;break}if(x===h){E=!0,h=m,c=y;break}x=x.sibling}if(!E){for(x=y.child;x;){if(x===c){E=!0,c=y,h=m;break}if(x===h){E=!0,h=y,c=m;break}x=x.sibling}if(!E)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:a}function bv(i){return i=GR(i),i!==null?kv(i):null}function kv(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=kv(i);if(a!==null)return a;i=i.sibling}return null}var Tv=t.unstable_scheduleCallback,Cv=t.unstable_cancelCallback,ZR=t.unstable_shouldYield,JR=t.unstable_requestPaint,Rt=t.unstable_now,YR=t.unstable_getCurrentPriorityLevel,uh=t.unstable_ImmediatePriority,xv=t.unstable_UserBlockingPriority,Yu=t.unstable_NormalPriority,QR=t.unstable_LowPriority,Rv=t.unstable_IdlePriority,Qu=null,Ar=null;function XR(i){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Qu,i,void 0,(i.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:nI,eI=Math.log,tI=Math.LN2;function nI(i){return i>>>=0,i===0?32:31-(eI(i)/tI|0)|0}var Xu=64,ec=4194304;function tl(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function tc(i,a){var c=i.pendingLanes;if(c===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,E=c&268435455;if(E!==0){var x=E&~m;x!==0?h=tl(x):(y&=E,y!==0&&(h=tl(y)))}else E=c&~m,E!==0?h=tl(E):y!==0&&(h=tl(y));if(h===0)return 0;if(a!==0&&a!==h&&(a&m)===0&&(m=h&-h,y=a&-a,m>=y||m===16&&(y&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=h;0<a;)c=31-lr(a),m=1<<c,h|=i[c],a&=~m;return h}function rI(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sI(i,a){for(var c=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var E=31-lr(y),x=1<<E,A=m[E];A===-1?((x&c)===0||(x&h)!==0)&&(m[E]=rI(x,a)):A<=a&&(i.expiredLanes|=x),y&=~x}}function ch(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Iv(){var i=Xu;return Xu<<=1,(Xu&4194240)===0&&(Xu=64),i}function dh(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function nl(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-lr(a),i[a]=c}function iI(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var m=31-lr(c),y=1<<m;a[m]=0,h[m]=-1,i[m]=-1,c&=~y}}function fh(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var h=31-lr(c),m=1<<h;m&a|i[h]&a&&(i[h]|=a),c&=~m}}var rt=0;function Av(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ov,hh,Pv,Nv,Lv,ph=!1,nc=[],bs=null,ks=null,Ts=null,rl=new Map,sl=new Map,Cs=[],oI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dv(i,a){switch(i){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":rl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(a.pointerId)}}function il(i,a,c,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},a!==null&&(a=_l(a),a!==null&&hh(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function aI(i,a,c,h,m){switch(a){case"focusin":return bs=il(bs,i,a,c,h,m),!0;case"dragenter":return ks=il(ks,i,a,c,h,m),!0;case"mouseover":return Ts=il(Ts,i,a,c,h,m),!0;case"pointerover":var y=m.pointerId;return rl.set(y,il(rl.get(y)||null,i,a,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,sl.set(y,il(sl.get(y)||null,i,a,c,h,m)),!0}return!1}function $v(i){var a=vi(i.target);if(a!==null){var c=yi(a);if(c!==null){if(a=c.tag,a===13){if(a=Sv(c),a!==null){i.blockedOn=a,Lv(i.priority,function(){Pv(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rc(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=gh(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Ya=h,c.target.dispatchEvent(h),Ya=null}else return a=_l(c),a!==null&&hh(a),i.blockedOn=c,!1;a.shift()}return!0}function Mv(i,a,c){rc(i)&&c.delete(a)}function lI(){ph=!1,bs!==null&&rc(bs)&&(bs=null),ks!==null&&rc(ks)&&(ks=null),Ts!==null&&rc(Ts)&&(Ts=null),rl.forEach(Mv),sl.forEach(Mv)}function ol(i,a){i.blockedOn===a&&(i.blockedOn=null,ph||(ph=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lI)))}function al(i){function a(m){return ol(m,i)}if(0<nc.length){ol(nc[0],i);for(var c=1;c<nc.length;c++){var h=nc[c];h.blockedOn===i&&(h.blockedOn=null)}}for(bs!==null&&ol(bs,i),ks!==null&&ol(ks,i),Ts!==null&&ol(Ts,i),rl.forEach(a),sl.forEach(a),c=0;c<Cs.length;c++)h=Cs[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<Cs.length&&(c=Cs[0],c.blockedOn===null);)$v(c),c.blockedOn===null&&Cs.shift()}var go=O.ReactCurrentBatchConfig,sc=!0;function uI(i,a,c,h){var m=rt,y=go.transition;go.transition=null;try{rt=1,mh(i,a,c,h)}finally{rt=m,go.transition=y}}function cI(i,a,c,h){var m=rt,y=go.transition;go.transition=null;try{rt=4,mh(i,a,c,h)}finally{rt=m,go.transition=y}}function mh(i,a,c,h){if(sc){var m=gh(i,a,c,h);if(m===null)Nh(i,a,h,ic,c),Dv(i,h);else if(aI(m,i,a,c,h))h.stopPropagation();else if(Dv(i,h),a&4&&-1<oI.indexOf(i)){for(;m!==null;){var y=_l(m);if(y!==null&&Ov(y),y=gh(i,a,c,h),y===null&&Nh(i,a,h,ic,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else Nh(i,a,h,null,c)}}var ic=null;function gh(i,a,c,h){if(ic=null,i=ho(h),i=vi(i),i!==null)if(a=yi(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Sv(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ic=i,null}function jv(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YR()){case uh:return 1;case xv:return 4;case Yu:case QR:return 16;case Rv:return 536870912;default:return 16}default:return 16}}var xs=null,yh=null,oc=null;function Fv(){if(oc)return oc;var i,a=yh,c=a.length,h,m="value"in xs?xs.value:xs.textContent,y=m.length;for(i=0;i<c&&a[i]===m[i];i++);var E=c-i;for(h=1;h<=E&&a[c-h]===m[y-h];h++);return oc=m.slice(i,1<h?1-h:void 0)}function ac(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function lc(){return!0}function Uv(){return!1}function Dn(i){function a(c,h,m,y,E){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(c=i[x],this[x]=c?c(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lc:Uv,this.isPropagationStopped=Uv,this}return q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),a}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vh=Dn(yo),ll=q({},yo,{view:0,detail:0}),dI=Dn(ll),_h,wh,ul,uc=q({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ul&&(ul&&i.type==="mousemove"?(_h=i.screenX-ul.screenX,wh=i.screenY-ul.screenY):wh=_h=0,ul=i),_h)},movementY:function(i){return"movementY"in i?i.movementY:wh}}),zv=Dn(uc),fI=q({},uc,{dataTransfer:0}),hI=Dn(fI),pI=q({},ll,{relatedTarget:0}),Sh=Dn(pI),mI=q({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),gI=Dn(mI),yI=q({},yo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vI=Dn(yI),_I=q({},yo,{data:0}),Bv=Dn(_I),wI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bI(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=EI[i])?!!a[i]:!1}function Eh(){return bI}var kI=q({},ll,{key:function(i){if(i.key){var a=wI[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ac(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?SI[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eh,charCode:function(i){return i.type==="keypress"?ac(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ac(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),TI=Dn(kI),CI=q({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vv=Dn(CI),xI=q({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eh}),RI=Dn(xI),II=q({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),AI=Dn(II),OI=q({},uc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),PI=Dn(OI),NI=[9,13,27,32],bh=u&&"CompositionEvent"in window,cl=null;u&&"documentMode"in document&&(cl=document.documentMode);var LI=u&&"TextEvent"in window&&!cl,Wv=u&&(!bh||cl&&8<cl&&11>=cl),Hv=" ",qv=!1;function Kv(i,a){switch(i){case"keyup":return NI.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vo=!1;function DI(i,a){switch(i){case"compositionend":return Gv(a);case"keypress":return a.which!==32?null:(qv=!0,Hv);case"textInput":return i=a.data,i===Hv&&qv?null:i;default:return null}}function $I(i,a){if(vo)return i==="compositionend"||!bh&&Kv(i,a)?(i=Fv(),oc=yh=xs=null,vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wv&&a.locale!=="ko"?null:a.data;default:return null}}var MI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zv(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!MI[i.type]:a==="textarea"}function Jv(i,a,c,h){gv(h),a=pc(a,"onChange"),0<a.length&&(c=new vh("onChange","change",null,c,h),i.push({event:c,listeners:a}))}var dl=null,fl=null;function jI(i){p_(i,0)}function cc(i){var a=bo(i);if(ar(a))return i}function FI(i,a){if(i==="change")return a}var Yv=!1;if(u){var kh;if(u){var Th="oninput"in document;if(!Th){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),Th=typeof Qv.oninput=="function"}kh=Th}else kh=!1;Yv=kh&&(!document.documentMode||9<document.documentMode)}function Xv(){dl&&(dl.detachEvent("onpropertychange",e_),fl=dl=null)}function e_(i){if(i.propertyName==="value"&&cc(fl)){var a=[];Jv(a,fl,i,ho(i)),wv(jI,a)}}function UI(i,a,c){i==="focusin"?(Xv(),dl=a,fl=c,dl.attachEvent("onpropertychange",e_)):i==="focusout"&&Xv()}function zI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cc(fl)}function BI(i,a){if(i==="click")return cc(a)}function VI(i,a){if(i==="input"||i==="change")return cc(a)}function WI(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ur=typeof Object.is=="function"?Object.is:WI;function hl(i,a){if(ur(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!d.call(a,m)||!ur(i[m],a[m]))return!1}return!0}function t_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function n_(i,a){var c=t_(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=a&&h>=a)return{node:c,offset:a-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=t_(c)}}function r_(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?r_(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function s_(){for(var i=window,a=Wr();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Wr(i.document)}return a}function Ch(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function HI(i){var a=s_(),c=i.focusedElem,h=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&r_(c.ownerDocument.documentElement,c)){if(h!==null&&Ch(c)){if(a=h.start,i=h.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var m=c.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=n_(c,y);var E=n_(c,h);m&&E&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(a),i.extend(E.node,E.offset)):(a.setEnd(E.node,E.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var qI=u&&"documentMode"in document&&11>=document.documentMode,_o=null,xh=null,pl=null,Rh=!1;function i_(i,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rh||_o==null||_o!==Wr(h)||(h=_o,"selectionStart"in h&&Ch(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),pl&&hl(pl,h)||(pl=h,h=pc(xh,"onSelect"),0<h.length&&(a=new vh("onSelect","select",null,a,c),i.push({event:a,listeners:h}),a.target=_o)))}function dc(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var wo={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},Ih={},o_={};u&&(o_=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function fc(i){if(Ih[i])return Ih[i];if(!wo[i])return i;var a=wo[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in o_)return Ih[i]=a[c];return i}var a_=fc("animationend"),l_=fc("animationiteration"),u_=fc("animationstart"),c_=fc("transitionend"),d_=new Map,f_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(i,a){d_.set(i,a),o(a,[i])}for(var Ah=0;Ah<f_.length;Ah++){var Oh=f_[Ah],KI=Oh.toLowerCase(),GI=Oh[0].toUpperCase()+Oh.slice(1);Rs(KI,"on"+GI)}Rs(a_,"onAnimationEnd"),Rs(l_,"onAnimationIteration"),Rs(u_,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(c_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function h_(i,a,c){var h=i.type||"unknown-event";i.currentTarget=c,KR(h,a,void 0,i),i.currentTarget=null}function p_(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],m=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var E=h.length-1;0<=E;E--){var x=h[E],A=x.instance,V=x.currentTarget;if(x=x.listener,A!==y&&m.isPropagationStopped())break e;h_(m,x,V),y=A}else for(E=0;E<h.length;E++){if(x=h[E],A=x.instance,V=x.currentTarget,x=x.listener,A!==y&&m.isPropagationStopped())break e;h_(m,x,V),y=A}}}if(Ju)throw i=lh,Ju=!1,lh=null,i}function ft(i,a){var c=a[Fh];c===void 0&&(c=a[Fh]=new Set);var h=i+"__bubble";c.has(h)||(m_(a,i,2,!1),c.add(h))}function Ph(i,a,c){var h=0;a&&(h|=4),m_(c,i,h,a)}var hc="_reactListening"+Math.random().toString(36).slice(2);function gl(i){if(!i[hc]){i[hc]=!0,r.forEach(function(c){c!=="selectionchange"&&(ZI.has(c)||Ph(c,!1,i),Ph(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[hc]||(a[hc]=!0,Ph("selectionchange",!1,a))}}function m_(i,a,c,h){switch(jv(a)){case 1:var m=uI;break;case 4:m=cI;break;default:m=mh}c=m.bind(null,a,c,i),m=void 0,!ah||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(a,c,{capture:!0,passive:m}):i.addEventListener(a,c,!0):m!==void 0?i.addEventListener(a,c,{passive:m}):i.addEventListener(a,c,!1)}function Nh(i,a,c,h,m){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var x=h.stateNode.containerInfo;if(x===m||x.nodeType===8&&x.parentNode===m)break;if(E===4)for(E=h.return;E!==null;){var A=E.tag;if((A===3||A===4)&&(A=E.stateNode.containerInfo,A===m||A.nodeType===8&&A.parentNode===m))return;E=E.return}for(;x!==null;){if(E=vi(x),E===null)return;if(A=E.tag,A===5||A===6){h=y=E;continue e}x=x.parentNode}}h=h.return}wv(function(){var V=y,X=ho(c),ee=[];e:{var Q=d_.get(i);if(Q!==void 0){var pe=vh,ye=i;switch(i){case"keypress":if(ac(c)===0)break e;case"keydown":case"keyup":pe=TI;break;case"focusin":ye="focus",pe=Sh;break;case"focusout":ye="blur",pe=Sh;break;case"beforeblur":case"afterblur":pe=Sh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=hI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=RI;break;case a_:case l_:case u_:pe=gI;break;case c_:pe=AI;break;case"scroll":pe=dI;break;case"wheel":pe=PI;break;case"copy":case"cut":case"paste":pe=vI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Vv}var Se=(a&4)!==0,It=!Se&&i==="scroll",F=Se?Q!==null?Q+"Capture":null:Q;Se=[];for(var D=V,U;D!==null;){U=D;var ie=U.stateNode;if(U.tag===5&&ie!==null&&(U=ie,F!==null&&(ie=Qa(D,F),ie!=null&&Se.push(yl(D,ie,U)))),It)break;D=D.return}0<Se.length&&(Q=new pe(Q,ye,null,c,X),ee.push({event:Q,listeners:Se}))}}if((a&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",Q&&c!==Ya&&(ye=c.relatedTarget||c.fromElement)&&(vi(ye)||ye[Gr]))break e;if((pe||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,pe?(ye=c.relatedTarget||c.toElement,pe=V,ye=ye?vi(ye):null,ye!==null&&(It=yi(ye),ye!==It||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=V),pe!==ye)){if(Se=zv,ie="onMouseLeave",F="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Vv,ie="onPointerLeave",F="onPointerEnter",D="pointer"),It=pe==null?Q:bo(pe),U=ye==null?Q:bo(ye),Q=new Se(ie,D+"leave",pe,c,X),Q.target=It,Q.relatedTarget=U,ie=null,vi(X)===V&&(Se=new Se(F,D+"enter",ye,c,X),Se.target=U,Se.relatedTarget=It,ie=Se),It=ie,pe&&ye)t:{for(Se=pe,F=ye,D=0,U=Se;U;U=So(U))D++;for(U=0,ie=F;ie;ie=So(ie))U++;for(;0<D-U;)Se=So(Se),D--;for(;0<U-D;)F=So(F),U--;for(;D--;){if(Se===F||F!==null&&Se===F.alternate)break t;Se=So(Se),F=So(F)}Se=null}else Se=null;pe!==null&&g_(ee,Q,pe,Se,!1),ye!==null&&It!==null&&g_(ee,It,ye,Se,!0)}}e:{if(Q=V?bo(V):window,pe=Q.nodeName&&Q.nodeName.toLowerCase(),pe==="select"||pe==="input"&&Q.type==="file")var Ee=FI;else if(Zv(Q))if(Yv)Ee=VI;else{Ee=zI;var Re=UI}else(pe=Q.nodeName)&&pe.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(Ee=BI);if(Ee&&(Ee=Ee(i,V))){Jv(ee,Ee,c,X);break e}Re&&Re(i,Q,V),i==="focusout"&&(Re=Q._wrapperState)&&Re.controlled&&Q.type==="number"&&Es(Q,"number",Q.value)}switch(Re=V?bo(V):window,i){case"focusin":(Zv(Re)||Re.contentEditable==="true")&&(_o=Re,xh=V,pl=null);break;case"focusout":pl=xh=_o=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,i_(ee,c,X);break;case"selectionchange":if(qI)break;case"keydown":case"keyup":i_(ee,c,X)}var Ie;if(bh)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else vo?Kv(i,c)&&(Pe="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(Wv&&c.locale!=="ko"&&(vo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&vo&&(Ie=Fv()):(xs=X,yh="value"in xs?xs.value:xs.textContent,vo=!0)),Re=pc(V,Pe),0<Re.length&&(Pe=new Bv(Pe,i,null,c,X),ee.push({event:Pe,listeners:Re}),Ie?Pe.data=Ie:(Ie=Gv(c),Ie!==null&&(Pe.data=Ie)))),(Ie=LI?DI(i,c):$I(i,c))&&(V=pc(V,"onBeforeInput"),0<V.length&&(X=new Bv("onBeforeInput","beforeinput",null,c,X),ee.push({event:X,listeners:V}),X.data=Ie))}p_(ee,a)})}function yl(i,a,c){return{instance:i,listener:a,currentTarget:c}}function pc(i,a){for(var c=a+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Qa(i,c),y!=null&&h.unshift(yl(i,y,m)),y=Qa(i,a),y!=null&&h.push(yl(i,y,m))),i=i.return}return h}function So(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function g_(i,a,c,h,m){for(var y=a._reactName,E=[];c!==null&&c!==h;){var x=c,A=x.alternate,V=x.stateNode;if(A!==null&&A===h)break;x.tag===5&&V!==null&&(x=V,m?(A=Qa(c,y),A!=null&&E.unshift(yl(c,A,x))):m||(A=Qa(c,y),A!=null&&E.push(yl(c,A,x)))),c=c.return}E.length!==0&&i.push({event:a,listeners:E})}var JI=/\r\n?/g,YI=/\u0000|\uFFFD/g;function y_(i){return(typeof i=="string"?i:""+i).replace(JI,`
`).replace(YI,"")}function mc(i,a,c){if(a=y_(a),y_(i)!==a&&c)throw Error(n(425))}function gc(){}var Lh=null,Dh=null;function $h(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,XI=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(i){return v_.resolve(null).then(i).catch(eA)}:Mh;function eA(i){setTimeout(function(){throw i})}function jh(i,a){var c=a,h=0;do{var m=c.nextSibling;if(i.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){i.removeChild(m),al(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);al(a)}function Is(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function __(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),Or="__reactFiber$"+Eo,vl="__reactProps$"+Eo,Gr="__reactContainer$"+Eo,Fh="__reactEvents$"+Eo,tA="__reactListeners$"+Eo,nA="__reactHandles$"+Eo;function vi(i){var a=i[Or];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Gr]||c[Or]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=__(i);i!==null;){if(c=i[Or])return c;i=__(i)}return a}i=c,c=i.parentNode}return null}function _l(i){return i=i[Or]||i[Gr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function bo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function yc(i){return i[vl]||null}var Uh=[],ko=-1;function As(i){return{current:i}}function ht(i){0>ko||(i.current=Uh[ko],Uh[ko]=null,ko--)}function lt(i,a){ko++,Uh[ko]=i.current,i.current=a}var Os={},en=As(Os),_n=As(!1),_i=Os;function To(i,a){var c=i.type.contextTypes;if(!c)return Os;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=a[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=m),m}function wn(i){return i=i.childContextTypes,i!=null}function vc(){ht(_n),ht(en)}function w_(i,a,c){if(en.current!==Os)throw Error(n(168));lt(en,a),lt(_n,c)}function S_(i,a,c){var h=i.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in a))throw Error(n(108,Ce(i)||"Unknown",m));return q({},c,h)}function _c(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Os,_i=en.current,lt(en,i),lt(_n,_n.current),!0}function E_(i,a,c){var h=i.stateNode;if(!h)throw Error(n(169));c?(i=S_(i,a,_i),h.__reactInternalMemoizedMergedChildContext=i,ht(_n),ht(en),lt(en,i)):ht(_n),lt(_n,c)}var Zr=null,wc=!1,zh=!1;function b_(i){Zr===null?Zr=[i]:Zr.push(i)}function rA(i){wc=!0,b_(i)}function Ps(){if(!zh&&Zr!==null){zh=!0;var i=0,a=rt;try{var c=Zr;for(rt=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}Zr=null,wc=!1}catch(m){throw Zr!==null&&(Zr=Zr.slice(i+1)),Tv(uh,Ps),m}finally{rt=a,zh=!1}}return null}var Co=[],xo=0,Sc=null,Ec=0,qn=[],Kn=0,wi=null,Jr=1,Yr="";function Si(i,a){Co[xo++]=Ec,Co[xo++]=Sc,Sc=i,Ec=a}function k_(i,a,c){qn[Kn++]=Jr,qn[Kn++]=Yr,qn[Kn++]=wi,wi=i;var h=Jr;i=Yr;var m=32-lr(h)-1;h&=~(1<<m),c+=1;var y=32-lr(a)+m;if(30<y){var E=m-m%5;y=(h&(1<<E)-1).toString(32),h>>=E,m-=E,Jr=1<<32-lr(a)+m|c<<m|h,Yr=y+i}else Jr=1<<y|c<<m|h,Yr=i}function Bh(i){i.return!==null&&(Si(i,1),k_(i,1,0))}function Vh(i){for(;i===Sc;)Sc=Co[--xo],Co[xo]=null,Ec=Co[--xo],Co[xo]=null;for(;i===wi;)wi=qn[--Kn],qn[Kn]=null,Yr=qn[--Kn],qn[Kn]=null,Jr=qn[--Kn],qn[Kn]=null}var $n=null,Mn=null,pt=!1,cr=null;function T_(i,a){var c=Yn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function C_(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,$n=i,Mn=Is(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,$n=i,Mn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=wi!==null?{id:Jr,overflow:Yr}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Yn(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,$n=i,Mn=null,!0):!1;default:return!1}}function Wh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Hh(i){if(pt){var a=Mn;if(a){var c=a;if(!C_(i,a)){if(Wh(i))throw Error(n(418));a=Is(c.nextSibling);var h=$n;a&&C_(i,a)?T_(h,c):(i.flags=i.flags&-4097|2,pt=!1,$n=i)}}else{if(Wh(i))throw Error(n(418));i.flags=i.flags&-4097|2,pt=!1,$n=i}}}function x_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;$n=i}function bc(i){if(i!==$n)return!1;if(!pt)return x_(i),pt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!$h(i.type,i.memoizedProps)),a&&(a=Mn)){if(Wh(i))throw R_(),Error(n(418));for(;a;)T_(i,a),a=Is(a.nextSibling)}if(x_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){Mn=Is(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}Mn=null}}else Mn=$n?Is(i.stateNode.nextSibling):null;return!0}function R_(){for(var i=Mn;i;)i=Is(i.nextSibling)}function Ro(){Mn=$n=null,pt=!1}function qh(i){cr===null?cr=[i]:cr.push(i)}var sA=O.ReactCurrentBatchConfig;function wl(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,i));var m=h,y=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(E){var x=m.refs;E===null?delete x[y]:x[y]=E},a._stringRef=y,a)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function kc(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function I_(i){var a=i._init;return a(i._payload)}function A_(i){function a(F,D){if(i){var U=F.deletions;U===null?(F.deletions=[D],F.flags|=16):U.push(D)}}function c(F,D){if(!i)return null;for(;D!==null;)a(F,D),D=D.sibling;return null}function h(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function m(F,D){return F=Us(F,D),F.index=0,F.sibling=null,F}function y(F,D,U){return F.index=U,i?(U=F.alternate,U!==null?(U=U.index,U<D?(F.flags|=2,D):U):(F.flags|=2,D)):(F.flags|=1048576,D)}function E(F){return i&&F.alternate===null&&(F.flags|=2),F}function x(F,D,U,ie){return D===null||D.tag!==6?(D=Mp(U,F.mode,ie),D.return=F,D):(D=m(D,U),D.return=F,D)}function A(F,D,U,ie){var Ee=U.type;return Ee===$?X(F,D,U.props.children,ie,U.key):D!==null&&(D.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===fe&&I_(Ee)===D.type)?(ie=m(D,U.props),ie.ref=wl(F,D,U),ie.return=F,ie):(ie=Gc(U.type,U.key,U.props,null,F.mode,ie),ie.ref=wl(F,D,U),ie.return=F,ie)}function V(F,D,U,ie){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=jp(U,F.mode,ie),D.return=F,D):(D=m(D,U.children||[]),D.return=F,D)}function X(F,D,U,ie,Ee){return D===null||D.tag!==7?(D=Ii(U,F.mode,ie,Ee),D.return=F,D):(D=m(D,U),D.return=F,D)}function ee(F,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Mp(""+D,F.mode,U),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return U=Gc(D.type,D.key,D.props,null,F.mode,U),U.ref=wl(F,null,D),U.return=F,U;case B:return D=jp(D,F.mode,U),D.return=F,D;case fe:var ie=D._init;return ee(F,ie(D._payload),U)}if(ze(D)||re(D))return D=Ii(D,F.mode,U,null),D.return=F,D;kc(F,D)}return null}function Q(F,D,U,ie){var Ee=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return Ee!==null?null:x(F,D,""+U,ie);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return U.key===Ee?A(F,D,U,ie):null;case B:return U.key===Ee?V(F,D,U,ie):null;case fe:return Ee=U._init,Q(F,D,Ee(U._payload),ie)}if(ze(U)||re(U))return Ee!==null?null:X(F,D,U,ie,null);kc(F,U)}return null}function pe(F,D,U,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return F=F.get(U)||null,x(D,F,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case z:return F=F.get(ie.key===null?U:ie.key)||null,A(D,F,ie,Ee);case B:return F=F.get(ie.key===null?U:ie.key)||null,V(D,F,ie,Ee);case fe:var Re=ie._init;return pe(F,D,U,Re(ie._payload),Ee)}if(ze(ie)||re(ie))return F=F.get(U)||null,X(D,F,ie,Ee,null);kc(D,ie)}return null}function ye(F,D,U,ie){for(var Ee=null,Re=null,Ie=D,Pe=D=0,qt=null;Ie!==null&&Pe<U.length;Pe++){Ie.index>Pe?(qt=Ie,Ie=null):qt=Ie.sibling;var tt=Q(F,Ie,U[Pe],ie);if(tt===null){Ie===null&&(Ie=qt);break}i&&Ie&&tt.alternate===null&&a(F,Ie),D=y(tt,D,Pe),Re===null?Ee=tt:Re.sibling=tt,Re=tt,Ie=qt}if(Pe===U.length)return c(F,Ie),pt&&Si(F,Pe),Ee;if(Ie===null){for(;Pe<U.length;Pe++)Ie=ee(F,U[Pe],ie),Ie!==null&&(D=y(Ie,D,Pe),Re===null?Ee=Ie:Re.sibling=Ie,Re=Ie);return pt&&Si(F,Pe),Ee}for(Ie=h(F,Ie);Pe<U.length;Pe++)qt=pe(Ie,F,Pe,U[Pe],ie),qt!==null&&(i&&qt.alternate!==null&&Ie.delete(qt.key===null?Pe:qt.key),D=y(qt,D,Pe),Re===null?Ee=qt:Re.sibling=qt,Re=qt);return i&&Ie.forEach(function(zs){return a(F,zs)}),pt&&Si(F,Pe),Ee}function Se(F,D,U,ie){var Ee=re(U);if(typeof Ee!="function")throw Error(n(150));if(U=Ee.call(U),U==null)throw Error(n(151));for(var Re=Ee=null,Ie=D,Pe=D=0,qt=null,tt=U.next();Ie!==null&&!tt.done;Pe++,tt=U.next()){Ie.index>Pe?(qt=Ie,Ie=null):qt=Ie.sibling;var zs=Q(F,Ie,tt.value,ie);if(zs===null){Ie===null&&(Ie=qt);break}i&&Ie&&zs.alternate===null&&a(F,Ie),D=y(zs,D,Pe),Re===null?Ee=zs:Re.sibling=zs,Re=zs,Ie=qt}if(tt.done)return c(F,Ie),pt&&Si(F,Pe),Ee;if(Ie===null){for(;!tt.done;Pe++,tt=U.next())tt=ee(F,tt.value,ie),tt!==null&&(D=y(tt,D,Pe),Re===null?Ee=tt:Re.sibling=tt,Re=tt);return pt&&Si(F,Pe),Ee}for(Ie=h(F,Ie);!tt.done;Pe++,tt=U.next())tt=pe(Ie,F,Pe,tt.value,ie),tt!==null&&(i&&tt.alternate!==null&&Ie.delete(tt.key===null?Pe:tt.key),D=y(tt,D,Pe),Re===null?Ee=tt:Re.sibling=tt,Re=tt);return i&&Ie.forEach(function(MA){return a(F,MA)}),pt&&Si(F,Pe),Ee}function It(F,D,U,ie){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case z:e:{for(var Ee=U.key,Re=D;Re!==null;){if(Re.key===Ee){if(Ee=U.type,Ee===$){if(Re.tag===7){c(F,Re.sibling),D=m(Re,U.props.children),D.return=F,F=D;break e}}else if(Re.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===fe&&I_(Ee)===Re.type){c(F,Re.sibling),D=m(Re,U.props),D.ref=wl(F,Re,U),D.return=F,F=D;break e}c(F,Re);break}else a(F,Re);Re=Re.sibling}U.type===$?(D=Ii(U.props.children,F.mode,ie,U.key),D.return=F,F=D):(ie=Gc(U.type,U.key,U.props,null,F.mode,ie),ie.ref=wl(F,D,U),ie.return=F,F=ie)}return E(F);case B:e:{for(Re=U.key;D!==null;){if(D.key===Re)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){c(F,D.sibling),D=m(D,U.children||[]),D.return=F,F=D;break e}else{c(F,D);break}else a(F,D);D=D.sibling}D=jp(U,F.mode,ie),D.return=F,F=D}return E(F);case fe:return Re=U._init,It(F,D,Re(U._payload),ie)}if(ze(U))return ye(F,D,U,ie);if(re(U))return Se(F,D,U,ie);kc(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,D!==null&&D.tag===6?(c(F,D.sibling),D=m(D,U),D.return=F,F=D):(c(F,D),D=Mp(U,F.mode,ie),D.return=F,F=D),E(F)):c(F,D)}return It}var Io=A_(!0),O_=A_(!1),Tc=As(null),Cc=null,Ao=null,Kh=null;function Gh(){Kh=Ao=Cc=null}function Zh(i){var a=Tc.current;ht(Tc),i._currentValue=a}function Jh(i,a,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===c)break;i=i.return}}function Oo(i,a){Cc=i,Kh=Ao=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Sn=!0),i.firstContext=null)}function Gn(i){var a=i._currentValue;if(Kh!==i)if(i={context:i,memoizedValue:a,next:null},Ao===null){if(Cc===null)throw Error(n(308));Ao=i,Cc.dependencies={lanes:0,firstContext:i}}else Ao=Ao.next=i;return a}var Ei=null;function Yh(i){Ei===null?Ei=[i]:Ei.push(i)}function P_(i,a,c,h){var m=a.interleaved;return m===null?(c.next=c,Yh(a)):(c.next=m.next,m.next=c),a.interleaved=c,Qr(i,h)}function Qr(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Ns=!1;function Qh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N_(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Xr(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Ls(i,a,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ye&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,Qr(i,c)}return m=h.interleaved,m===null?(a.next=a,Yh(h)):(a.next=m.next,m.next=a),h.interleaved=a,Qr(i,c)}function xc(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,fh(i,c)}}function L_(i,a){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=E:y=y.next=E,c=c.next}while(c!==null);y===null?m=y=a:y=y.next=a}else m=y=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function Rc(i,a,c,h){var m=i.updateQueue;Ns=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var A=x,V=A.next;A.next=null,E===null?y=V:E.next=V,E=A;var X=i.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==E&&(x===null?X.firstBaseUpdate=V:x.next=V,X.lastBaseUpdate=A))}if(y!==null){var ee=m.baseState;E=0,X=V=A=null,x=y;do{var Q=x.lane,pe=x.eventTime;if((h&Q)===Q){X!==null&&(X=X.next={eventTime:pe,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var ye=i,Se=x;switch(Q=a,pe=c,Se.tag){case 1:if(ye=Se.payload,typeof ye=="function"){ee=ye.call(pe,ee,Q);break e}ee=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Se.payload,Q=typeof ye=="function"?ye.call(pe,ee,Q):ye,Q==null)break e;ee=q({},ee,Q);break e;case 2:Ns=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,Q=m.effects,Q===null?m.effects=[x]:Q.push(x))}else pe={eventTime:pe,lane:Q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(V=X=pe,A=ee):X=X.next=pe,E|=Q;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;Q=x,x=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);if(X===null&&(A=ee),m.baseState=A,m.firstBaseUpdate=V,m.lastBaseUpdate=X,a=m.shared.interleaved,a!==null){m=a;do E|=m.lane,m=m.next;while(m!==a)}else y===null&&(m.shared.lanes=0);Ti|=E,i.lanes=E,i.memoizedState=ee}}function D_(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var h=i[a],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Sl={},Pr=As(Sl),El=As(Sl),bl=As(Sl);function bi(i){if(i===Sl)throw Error(n(174));return i}function Xh(i,a){switch(lt(bl,a),lt(El,i),lt(Pr,Sl),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ke(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=ke(a,i)}ht(Pr),lt(Pr,a)}function Po(){ht(Pr),ht(El),ht(bl)}function $_(i){bi(bl.current);var a=bi(Pr.current),c=ke(a,i.type);a!==c&&(lt(El,i),lt(Pr,c))}function ep(i){El.current===i&&(ht(Pr),ht(El))}var yt=As(0);function Ic(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var tp=[];function np(){for(var i=0;i<tp.length;i++)tp[i]._workInProgressVersionPrimary=null;tp.length=0}var Ac=O.ReactCurrentDispatcher,rp=O.ReactCurrentBatchConfig,ki=0,vt=null,Mt=null,Wt=null,Oc=!1,kl=!1,Tl=0,iA=0;function tn(){throw Error(n(321))}function sp(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!ur(i[c],a[c]))return!1;return!0}function ip(i,a,c,h,m,y){if(ki=y,vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ac.current=i===null||i.memoizedState===null?uA:cA,i=c(h,m),kl){y=0;do{if(kl=!1,Tl=0,25<=y)throw Error(n(301));y+=1,Wt=Mt=null,a.updateQueue=null,Ac.current=dA,i=c(h,m)}while(kl)}if(Ac.current=Lc,a=Mt!==null&&Mt.next!==null,ki=0,Wt=Mt=vt=null,Oc=!1,a)throw Error(n(300));return i}function op(){var i=Tl!==0;return Tl=0,i}function Nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?vt.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function Zn(){if(Mt===null){var i=vt.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var a=Wt===null?vt.memoizedState:Wt.next;if(a!==null)Wt=a,Mt=i;else{if(i===null)throw Error(n(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Wt===null?vt.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}function Cl(i,a){return typeof a=="function"?a(i):a}function ap(i){var a=Zn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=Mt,m=h.baseQueue,y=c.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}h.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,h=h.baseState;var x=E=null,A=null,V=y;do{var X=V.lane;if((ki&X)===X)A!==null&&(A=A.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),h=V.hasEagerState?V.eagerState:i(h,V.action);else{var ee={lane:X,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};A===null?(x=A=ee,E=h):A=A.next=ee,vt.lanes|=X,Ti|=X}V=V.next}while(V!==null&&V!==y);A===null?E=h:A.next=x,ur(h,a.memoizedState)||(Sn=!0),a.memoizedState=h,a.baseState=E,a.baseQueue=A,c.lastRenderedState=h}if(i=c.interleaved,i!==null){m=i;do y=m.lane,vt.lanes|=y,Ti|=y,m=m.next;while(m!==i)}else m===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function lp(i){var a=Zn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,m=c.pending,y=a.memoizedState;if(m!==null){c.pending=null;var E=m=m.next;do y=i(y,E.action),E=E.next;while(E!==m);ur(y,a.memoizedState)||(Sn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function M_(){}function j_(i,a){var c=vt,h=Zn(),m=a(),y=!ur(h.memoizedState,m);if(y&&(h.memoizedState=m,Sn=!0),h=h.queue,up(z_.bind(null,c,h,i),[i]),h.getSnapshot!==a||y||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,xl(9,U_.bind(null,c,h,m,a),void 0,null),Ht===null)throw Error(n(349));(ki&30)!==0||F_(c,a,m)}return m}function F_(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=vt.updateQueue,a===null?(a={lastEffect:null,stores:null},vt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function U_(i,a,c,h){a.value=c,a.getSnapshot=h,B_(a)&&V_(i)}function z_(i,a,c){return c(function(){B_(a)&&V_(i)})}function B_(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!ur(i,c)}catch{return!0}}function V_(i){var a=Qr(i,1);a!==null&&pr(a,i,1,-1)}function W_(i){var a=Nr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:i},a.queue=i,i=i.dispatch=lA.bind(null,vt,i),[a.memoizedState,i]}function xl(i,a,c,h){return i={tag:i,create:a,destroy:c,deps:h,next:null},a=vt.updateQueue,a===null?(a={lastEffect:null,stores:null},vt.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,a.lastEffect=i)),i}function H_(){return Zn().memoizedState}function Pc(i,a,c,h){var m=Nr();vt.flags|=i,m.memoizedState=xl(1|a,c,void 0,h===void 0?null:h)}function Nc(i,a,c,h){var m=Zn();h=h===void 0?null:h;var y=void 0;if(Mt!==null){var E=Mt.memoizedState;if(y=E.destroy,h!==null&&sp(h,E.deps)){m.memoizedState=xl(a,c,y,h);return}}vt.flags|=i,m.memoizedState=xl(1|a,c,y,h)}function q_(i,a){return Pc(8390656,8,i,a)}function up(i,a){return Nc(2048,8,i,a)}function K_(i,a){return Nc(4,2,i,a)}function G_(i,a){return Nc(4,4,i,a)}function Z_(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function J_(i,a,c){return c=c!=null?c.concat([i]):null,Nc(4,4,Z_.bind(null,a,i),c)}function cp(){}function Y_(i,a){var c=Zn();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&sp(a,h[1])?h[0]:(c.memoizedState=[i,a],i)}function Q_(i,a){var c=Zn();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&sp(a,h[1])?h[0]:(i=i(),c.memoizedState=[i,a],i)}function X_(i,a,c){return(ki&21)===0?(i.baseState&&(i.baseState=!1,Sn=!0),i.memoizedState=c):(ur(c,a)||(c=Iv(),vt.lanes|=c,Ti|=c,i.baseState=!0),a)}function oA(i,a){var c=rt;rt=c!==0&&4>c?c:4,i(!0);var h=rp.transition;rp.transition={};try{i(!1),a()}finally{rt=c,rp.transition=h}}function ew(){return Zn().memoizedState}function aA(i,a,c){var h=js(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},tw(i))nw(a,c);else if(c=P_(i,a,c,h),c!==null){var m=dn();pr(c,i,h,m),rw(c,a,h)}}function lA(i,a,c){var h=js(i),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(tw(i))nw(a,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,x=y(E,c);if(m.hasEagerState=!0,m.eagerState=x,ur(x,E)){var A=a.interleaved;A===null?(m.next=m,Yh(a)):(m.next=A.next,A.next=m),a.interleaved=m;return}}catch{}finally{}c=P_(i,a,m,h),c!==null&&(m=dn(),pr(c,i,h,m),rw(c,a,h))}}function tw(i){var a=i.alternate;return i===vt||a!==null&&a===vt}function nw(i,a){kl=Oc=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function rw(i,a,c){if((c&4194240)!==0){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,fh(i,c)}}var Lc={readContext:Gn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},uA={readContext:Gn,useCallback:function(i,a){return Nr().memoizedState=[i,a===void 0?null:a],i},useContext:Gn,useEffect:q_,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,Pc(4194308,4,Z_.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Pc(4194308,4,i,a)},useInsertionEffect:function(i,a){return Pc(4,2,i,a)},useMemo:function(i,a){var c=Nr();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var h=Nr();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},h.queue=i,i=i.dispatch=aA.bind(null,vt,i),[h.memoizedState,i]},useRef:function(i){var a=Nr();return i={current:i},a.memoizedState=i},useState:W_,useDebugValue:cp,useDeferredValue:function(i){return Nr().memoizedState=i},useTransition:function(){var i=W_(!1),a=i[0];return i=oA.bind(null,i[1]),Nr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var h=vt,m=Nr();if(pt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Ht===null)throw Error(n(349));(ki&30)!==0||F_(h,a,c)}m.memoizedState=c;var y={value:c,getSnapshot:a};return m.queue=y,q_(z_.bind(null,h,y,i),[i]),h.flags|=2048,xl(9,U_.bind(null,h,y,c,a),void 0,null),c},useId:function(){var i=Nr(),a=Ht.identifierPrefix;if(pt){var c=Yr,h=Jr;c=(h&~(1<<32-lr(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=Tl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=iA++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},cA={readContext:Gn,useCallback:Y_,useContext:Gn,useEffect:up,useImperativeHandle:J_,useInsertionEffect:K_,useLayoutEffect:G_,useMemo:Q_,useReducer:ap,useRef:H_,useState:function(){return ap(Cl)},useDebugValue:cp,useDeferredValue:function(i){var a=Zn();return X_(a,Mt.memoizedState,i)},useTransition:function(){var i=ap(Cl)[0],a=Zn().memoizedState;return[i,a]},useMutableSource:M_,useSyncExternalStore:j_,useId:ew,unstable_isNewReconciler:!1},dA={readContext:Gn,useCallback:Y_,useContext:Gn,useEffect:up,useImperativeHandle:J_,useInsertionEffect:K_,useLayoutEffect:G_,useMemo:Q_,useReducer:lp,useRef:H_,useState:function(){return lp(Cl)},useDebugValue:cp,useDeferredValue:function(i){var a=Zn();return Mt===null?a.memoizedState=i:X_(a,Mt.memoizedState,i)},useTransition:function(){var i=lp(Cl)[0],a=Zn().memoizedState;return[i,a]},useMutableSource:M_,useSyncExternalStore:j_,useId:ew,unstable_isNewReconciler:!1};function dr(i,a){if(i&&i.defaultProps){a=q({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function dp(i,a,c,h){a=i.memoizedState,c=c(h,a),c=c==null?a:q({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Dc={isMounted:function(i){return(i=i._reactInternals)?yi(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var h=dn(),m=js(i),y=Xr(h,m);y.payload=a,c!=null&&(y.callback=c),a=Ls(i,y,m),a!==null&&(pr(a,i,m,h),xc(a,i,m))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var h=dn(),m=js(i),y=Xr(h,m);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Ls(i,y,m),a!==null&&(pr(a,i,m,h),xc(a,i,m))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=dn(),h=js(i),m=Xr(c,h);m.tag=2,a!=null&&(m.callback=a),a=Ls(i,m,h),a!==null&&(pr(a,i,h,c),xc(a,i,h))}};function sw(i,a,c,h,m,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,E):a.prototype&&a.prototype.isPureReactComponent?!hl(c,h)||!hl(m,y):!0}function iw(i,a,c){var h=!1,m=Os,y=a.contextType;return typeof y=="object"&&y!==null?y=Gn(y):(m=wn(a)?_i:en.current,h=a.contextTypes,y=(h=h!=null)?To(i,m):Os),a=new a(c,y),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Dc,i.stateNode=a,a._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),a}function ow(i,a,c,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==i&&Dc.enqueueReplaceState(a,a.state,null)}function fp(i,a,c,h){var m=i.stateNode;m.props=c,m.state=i.memoizedState,m.refs={},Qh(i);var y=a.contextType;typeof y=="object"&&y!==null?m.context=Gn(y):(y=wn(a)?_i:en.current,m.context=To(i,y)),m.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(dp(i,a,y,c),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Dc.enqueueReplaceState(m,m.state,null),Rc(i,c,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function No(i,a){try{var c="",h=a;do c+=xe(h),h=h.return;while(h);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:a,stack:m,digest:null}}function hp(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function pp(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var fA=typeof WeakMap=="function"?WeakMap:Map;function aw(i,a,c){c=Xr(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){Bc||(Bc=!0,Ip=h),pp(i,a)},c}function lw(i,a,c){c=Xr(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=a.value;c.payload=function(){return h(m)},c.callback=function(){pp(i,a)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){pp(i,a),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})}),c}function uw(i,a,c){var h=i.pingCache;if(h===null){h=i.pingCache=new fA;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(m.add(c),i=CA.bind(null,i,a,c),a.then(i,i))}function cw(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function dw(i,a,c,h,m){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Xr(-1,1),a.tag=2,Ls(c,a,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var hA=O.ReactCurrentOwner,Sn=!1;function cn(i,a,c,h){a.child=i===null?O_(a,null,c,h):Io(a,i.child,c,h)}function fw(i,a,c,h,m){c=c.render;var y=a.ref;return Oo(a,m),h=ip(i,a,c,h,y,m),c=op(),i!==null&&!Sn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~m,es(i,a,m)):(pt&&c&&Bh(a),a.flags|=1,cn(i,a,h,m),a.child)}function hw(i,a,c,h,m){if(i===null){var y=c.type;return typeof y=="function"&&!$p(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=y,pw(i,a,y,h,m)):(i=Gc(c.type,null,h,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,(i.lanes&m)===0){var E=y.memoizedProps;if(c=c.compare,c=c!==null?c:hl,c(E,h)&&i.ref===a.ref)return es(i,a,m)}return a.flags|=1,i=Us(y,h),i.ref=a.ref,i.return=a,a.child=i}function pw(i,a,c,h,m){if(i!==null){var y=i.memoizedProps;if(hl(y,h)&&i.ref===a.ref)if(Sn=!1,a.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Sn=!0);else return a.lanes=i.lanes,es(i,a,m)}return mp(i,a,c,h,m)}function mw(i,a,c){var h=a.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Do,jn),jn|=c;else{if((c&1073741824)===0)return i=y!==null?y.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,lt(Do,jn),jn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:c,lt(Do,jn),jn|=h}else y!==null?(h=y.baseLanes|c,a.memoizedState=null):h=c,lt(Do,jn),jn|=h;return cn(i,a,m,c),a.child}function gw(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function mp(i,a,c,h,m){var y=wn(c)?_i:en.current;return y=To(a,y),Oo(a,m),c=ip(i,a,c,h,y,m),h=op(),i!==null&&!Sn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~m,es(i,a,m)):(pt&&h&&Bh(a),a.flags|=1,cn(i,a,c,m),a.child)}function yw(i,a,c,h,m){if(wn(c)){var y=!0;_c(a)}else y=!1;if(Oo(a,m),a.stateNode===null)Mc(i,a),iw(a,c,h),fp(a,c,h,m),h=!0;else if(i===null){var E=a.stateNode,x=a.memoizedProps;E.props=x;var A=E.context,V=c.contextType;typeof V=="object"&&V!==null?V=Gn(V):(V=wn(c)?_i:en.current,V=To(a,V));var X=c.getDerivedStateFromProps,ee=typeof X=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==h||A!==V)&&ow(a,E,h,V),Ns=!1;var Q=a.memoizedState;E.state=Q,Rc(a,h,E,m),A=a.memoizedState,x!==h||Q!==A||_n.current||Ns?(typeof X=="function"&&(dp(a,c,X,h),A=a.memoizedState),(x=Ns||sw(a,c,x,h,Q,A,V))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=A),E.props=h,E.state=A,E.context=V,h=x):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{E=a.stateNode,N_(i,a),x=a.memoizedProps,V=a.type===a.elementType?x:dr(a.type,x),E.props=V,ee=a.pendingProps,Q=E.context,A=c.contextType,typeof A=="object"&&A!==null?A=Gn(A):(A=wn(c)?_i:en.current,A=To(a,A));var pe=c.getDerivedStateFromProps;(X=typeof pe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==ee||Q!==A)&&ow(a,E,h,A),Ns=!1,Q=a.memoizedState,E.state=Q,Rc(a,h,E,m);var ye=a.memoizedState;x!==ee||Q!==ye||_n.current||Ns?(typeof pe=="function"&&(dp(a,c,pe,h),ye=a.memoizedState),(V=Ns||sw(a,c,V,h,Q,ye,A)||!1)?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ye,A),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ye,A)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=ye),E.props=h,E.state=ye,E.context=A,h=V):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),h=!1)}return gp(i,a,c,h,y,m)}function gp(i,a,c,h,m,y){gw(i,a);var E=(a.flags&128)!==0;if(!h&&!E)return m&&E_(a,c,!1),es(i,a,y);h=a.stateNode,hA.current=a;var x=E&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,i!==null&&E?(a.child=Io(a,i.child,null,y),a.child=Io(a,null,x,y)):cn(i,a,x,y),a.memoizedState=h.state,m&&E_(a,c,!0),a.child}function vw(i){var a=i.stateNode;a.pendingContext?w_(i,a.pendingContext,a.pendingContext!==a.context):a.context&&w_(i,a.context,!1),Xh(i,a.containerInfo)}function _w(i,a,c,h,m){return Ro(),qh(m),a.flags|=256,cn(i,a,c,h),a.child}var yp={dehydrated:null,treeContext:null,retryLane:0};function vp(i){return{baseLanes:i,cachePool:null,transitions:null}}function ww(i,a,c){var h=a.pendingProps,m=yt.current,y=!1,E=(a.flags&128)!==0,x;if((x=E)||(x=i!==null&&i.memoizedState===null?!1:(m&2)!==0),x?(y=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),lt(yt,m&1),i===null)return Hh(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(E=h.children,i=h.fallback,y?(h=a.mode,y=a.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Zc(E,h,0,null),i=Ii(i,h,c,null),y.return=a,i.return=a,y.sibling=i,a.child=y,a.child.memoizedState=vp(c),a.memoizedState=yp,i):_p(a,E));if(m=i.memoizedState,m!==null&&(x=m.dehydrated,x!==null))return pA(i,a,E,h,x,m,c);if(y){y=h.fallback,E=a.mode,m=i.child,x=m.sibling;var A={mode:"hidden",children:h.children};return(E&1)===0&&a.child!==m?(h=a.child,h.childLanes=0,h.pendingProps=A,a.deletions=null):(h=Us(m,A),h.subtreeFlags=m.subtreeFlags&14680064),x!==null?y=Us(x,y):(y=Ii(y,E,c,null),y.flags|=2),y.return=a,h.return=a,h.sibling=y,a.child=h,h=y,y=a.child,E=i.child.memoizedState,E=E===null?vp(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=i.childLanes&~c,a.memoizedState=yp,h}return y=i.child,i=y.sibling,h=Us(y,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=h,a.memoizedState=null,h}function _p(i,a){return a=Zc({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function $c(i,a,c,h){return h!==null&&qh(h),Io(a,i.child,null,c),i=_p(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function pA(i,a,c,h,m,y,E){if(c)return a.flags&256?(a.flags&=-257,h=hp(Error(n(422))),$c(i,a,E,h)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(y=h.fallback,m=a.mode,h=Zc({mode:"visible",children:h.children},m,0,null),y=Ii(y,m,E,null),y.flags|=2,h.return=a,y.return=a,h.sibling=y,a.child=h,(a.mode&1)!==0&&Io(a,i.child,null,E),a.child.memoizedState=vp(E),a.memoizedState=yp,y);if((a.mode&1)===0)return $c(i,a,E,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var x=h.dgst;return h=x,y=Error(n(419)),h=hp(y,h,void 0),$c(i,a,E,h)}if(x=(E&i.childLanes)!==0,Sn||x){if(h=Ht,h!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|E))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Qr(i,m),pr(h,i,m,-1))}return Dp(),h=hp(Error(n(421))),$c(i,a,E,h)}return m.data==="$?"?(a.flags|=128,a.child=i.child,a=xA.bind(null,i),m._reactRetry=a,null):(i=y.treeContext,Mn=Is(m.nextSibling),$n=a,pt=!0,cr=null,i!==null&&(qn[Kn++]=Jr,qn[Kn++]=Yr,qn[Kn++]=wi,Jr=i.id,Yr=i.overflow,wi=a),a=_p(a,h.children),a.flags|=4096,a)}function Sw(i,a,c){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Jh(i.return,a,c)}function wp(i,a,c,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function Ew(i,a,c){var h=a.pendingProps,m=h.revealOrder,y=h.tail;if(cn(i,a,h.children,c),h=yt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Sw(i,c,a);else if(i.tag===19)Sw(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(lt(yt,h),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(c=a.child,m=null;c!==null;)i=c.alternate,i!==null&&Ic(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),wp(a,!1,m,c,y);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Ic(i)===null){a.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}wp(a,!0,c,null,y);break;case"together":wp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Mc(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function es(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Ti|=a.lanes,(c&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,c=Us(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Us(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function mA(i,a,c){switch(a.tag){case 3:vw(a),Ro();break;case 5:$_(a);break;case 1:wn(a.type)&&_c(a);break;case 4:Xh(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,m=a.memoizedProps.value;lt(Tc,h._currentValue),h._currentValue=m;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(lt(yt,yt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?ww(i,a,c):(lt(yt,yt.current&1),i=es(i,a,c),i!==null?i.sibling:null);lt(yt,yt.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(i.flags&128)!==0){if(h)return Ew(i,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(yt,yt.current),h)break;return null;case 22:case 23:return a.lanes=0,mw(i,a,c)}return es(i,a,c)}var bw,Sp,kw,Tw;bw=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Sp=function(){},kw=function(i,a,c,h){var m=i.memoizedProps;if(m!==h){i=a.stateNode,bi(Pr.current);var y=null;switch(c){case"input":m=Pn(i,m),h=Pn(i,h),y=[];break;case"select":m=q({},m,{value:void 0}),h=q({},h,{value:void 0}),y=[];break;case"textarea":m=L(i,m),h=L(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=gc)}Ja(c,h);var E;c=null;for(V in m)if(!h.hasOwnProperty(V)&&m.hasOwnProperty(V)&&m[V]!=null)if(V==="style"){var x=m[V];for(E in x)x.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(s.hasOwnProperty(V)?y||(y=[]):(y=y||[]).push(V,null));for(V in h){var A=h[V];if(x=m!=null?m[V]:void 0,h.hasOwnProperty(V)&&A!==x&&(A!=null||x!=null))if(V==="style")if(x){for(E in x)!x.hasOwnProperty(E)||A&&A.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in A)A.hasOwnProperty(E)&&x[E]!==A[E]&&(c||(c={}),c[E]=A[E])}else c||(y||(y=[]),y.push(V,c)),c=A;else V==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,x=x?x.__html:void 0,A!=null&&x!==A&&(y=y||[]).push(V,A)):V==="children"?typeof A!="string"&&typeof A!="number"||(y=y||[]).push(V,""+A):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(s.hasOwnProperty(V)?(A!=null&&V==="onScroll"&&ft("scroll",i),y||x===A||(y=[])):(y=y||[]).push(V,A))}c&&(y=y||[]).push("style",c);var V=y;(a.updateQueue=V)&&(a.flags|=4)}},Tw=function(i,a,c,h){c!==h&&(a.flags|=4)};function Rl(i,a){if(!pt)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function nn(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(a)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=c,a}function gA(i,a,c){var h=a.pendingProps;switch(Vh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return wn(a.type)&&vc(),nn(a),null;case 3:return h=a.stateNode,Po(),ht(_n),ht(en),np(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(bc(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,cr!==null&&(Pp(cr),cr=null))),Sp(i,a),nn(a),null;case 5:ep(a);var m=bi(bl.current);if(c=a.type,i!==null&&a.stateNode!=null)kw(i,a,c,h,m),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(n(166));return nn(a),null}if(i=bi(Pr.current),bc(a)){h=a.stateNode,c=a.type;var y=a.memoizedProps;switch(h[Or]=a,h[vl]=y,i=(a.mode&1)!==0,c){case"dialog":ft("cancel",h),ft("close",h);break;case"iframe":case"object":case"embed":ft("load",h);break;case"video":case"audio":for(m=0;m<ml.length;m++)ft(ml[m],h);break;case"source":ft("error",h);break;case"img":case"image":case"link":ft("error",h),ft("load",h);break;case"details":ft("toggle",h);break;case"input":Nn(h,y),ft("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},ft("invalid",h);break;case"textarea":W(h,y),ft("invalid",h)}Ja(c,y),m=null;for(var E in y)if(y.hasOwnProperty(E)){var x=y[E];E==="children"?typeof x=="string"?h.textContent!==x&&(y.suppressHydrationWarning!==!0&&mc(h.textContent,x,i),m=["children",x]):typeof x=="number"&&h.textContent!==""+x&&(y.suppressHydrationWarning!==!0&&mc(h.textContent,x,i),m=["children",""+x]):s.hasOwnProperty(E)&&x!=null&&E==="onScroll"&&ft("scroll",h)}switch(c){case"input":un(h),Kr(h,y,!0);break;case"textarea":un(h),Z(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=gc)}h=m,a.updateQueue=h,h!==null&&(a.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=se(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(c,{is:h.is}):(i=E.createElement(c),c==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,c),i[Or]=a,i[vl]=h,bw(i,a,!1,!1),a.stateNode=i;e:{switch(E=fo(c,h),c){case"dialog":ft("cancel",i),ft("close",i),m=h;break;case"iframe":case"object":case"embed":ft("load",i),m=h;break;case"video":case"audio":for(m=0;m<ml.length;m++)ft(ml[m],i);m=h;break;case"source":ft("error",i),m=h;break;case"img":case"image":case"link":ft("error",i),ft("load",i),m=h;break;case"details":ft("toggle",i),m=h;break;case"input":Nn(i,h),m=Pn(i,h),ft("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=q({},h,{value:void 0}),ft("invalid",i);break;case"textarea":W(i,h),m=L(i,h),ft("invalid",i);break;default:m=h}Ja(c,m),x=m;for(y in x)if(x.hasOwnProperty(y)){var A=x[y];y==="style"?co(i,A):y==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&et(i,A)):y==="children"?typeof A=="string"?(c!=="textarea"||A!=="")&&xt(i,A):typeof A=="number"&&xt(i,""+A):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?A!=null&&y==="onScroll"&&ft("scroll",i):A!=null&&R(i,y,A,E))}switch(c){case"input":un(i),Kr(i,h,!1);break;case"textarea":un(i),Z(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ue(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?I(i,!!h.multiple,y,!1):h.defaultValue!=null&&I(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=gc)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return nn(a),null;case 6:if(i&&a.stateNode!=null)Tw(i,a,i.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(c=bi(bl.current),bi(Pr.current),bc(a)){if(h=a.stateNode,c=a.memoizedProps,h[Or]=a,(y=h.nodeValue!==c)&&(i=$n,i!==null))switch(i.tag){case 3:mc(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&mc(h.nodeValue,c,(i.mode&1)!==0)}y&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Or]=a,a.stateNode=h}return nn(a),null;case 13:if(ht(yt),h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(pt&&Mn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)R_(),Ro(),a.flags|=98560,y=!1;else if(y=bc(a),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Or]=a}else Ro(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),y=!1}else cr!==null&&(Pp(cr),cr=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(yt.current&1)!==0?jt===0&&(jt=3):Dp())),a.updateQueue!==null&&(a.flags|=4),nn(a),null);case 4:return Po(),Sp(i,a),i===null&&gl(a.stateNode.containerInfo),nn(a),null;case 10:return Zh(a.type._context),nn(a),null;case 17:return wn(a.type)&&vc(),nn(a),null;case 19:if(ht(yt),y=a.memoizedState,y===null)return nn(a),null;if(h=(a.flags&128)!==0,E=y.rendering,E===null)if(h)Rl(y,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(E=Ic(i),E!==null){for(a.flags|=128,Rl(y,!1),h=E.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)y=c,i=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,i=E.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return lt(yt,yt.current&1|2),a.child}i=i.sibling}y.tail!==null&&Rt()>$o&&(a.flags|=128,h=!0,Rl(y,!1),a.lanes=4194304)}else{if(!h)if(i=Ic(E),i!==null){if(a.flags|=128,h=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Rl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!pt)return nn(a),null}else 2*Rt()-y.renderingStartTime>$o&&c!==1073741824&&(a.flags|=128,h=!0,Rl(y,!1),a.lanes=4194304);y.isBackwards?(E.sibling=a.child,a.child=E):(c=y.last,c!==null?c.sibling=E:a.child=E,y.last=E)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Rt(),a.sibling=null,c=yt.current,lt(yt,h?c&1|2:c&1),a):(nn(a),null);case 22:case 23:return Lp(),h=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(jn&1073741824)!==0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function yA(i,a){switch(Vh(a),a.tag){case 1:return wn(a.type)&&vc(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Po(),ht(_n),ht(en),np(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return ep(a),null;case 13:if(ht(yt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ro()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ht(yt),null;case 4:return Po(),null;case 10:return Zh(a.type._context),null;case 22:case 23:return Lp(),null;case 24:return null;default:return null}}var jc=!1,rn=!1,vA=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Lo(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){St(i,a,h)}else c.current=null}function Ep(i,a,c){try{c()}catch(h){St(i,a,h)}}var Cw=!1;function _A(i,a){if(Lh=sc,i=s_(),Ch(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var E=0,x=-1,A=-1,V=0,X=0,ee=i,Q=null;t:for(;;){for(var pe;ee!==c||m!==0&&ee.nodeType!==3||(x=E+m),ee!==y||h!==0&&ee.nodeType!==3||(A=E+h),ee.nodeType===3&&(E+=ee.nodeValue.length),(pe=ee.firstChild)!==null;)Q=ee,ee=pe;for(;;){if(ee===i)break t;if(Q===c&&++V===m&&(x=E),Q===y&&++X===h&&(A=E),(pe=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=pe}c=x===-1||A===-1?null:{start:x,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(Dh={focusedElem:i,selectionRange:c},sc=!1,ge=a;ge!==null;)if(a=ge,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ge=i;else for(;ge!==null;){a=ge;try{var ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var Se=ye.memoizedProps,It=ye.memoizedState,F=a.stateNode,D=F.getSnapshotBeforeUpdate(a.elementType===a.type?Se:dr(a.type,Se),It);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var U=a.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){St(a,a.return,ie)}if(i=a.sibling,i!==null){i.return=a.return,ge=i;break}ge=a.return}return ye=Cw,Cw=!1,ye}function Il(i,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&Ep(a,c,y)}m=m.next}while(m!==h)}}function Fc(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function bp(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function xw(i){var a=i.alternate;a!==null&&(i.alternate=null,xw(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Or],delete a[vl],delete a[Fh],delete a[tA],delete a[nA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Rw(i){return i.tag===5||i.tag===3||i.tag===4}function Iw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kp(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=gc));else if(h!==4&&(i=i.child,i!==null))for(kp(i,a,c),i=i.sibling;i!==null;)kp(i,a,c),i=i.sibling}function Tp(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Tp(i,a,c),i=i.sibling;i!==null;)Tp(i,a,c),i=i.sibling}var Zt=null,fr=!1;function Ds(i,a,c){for(c=c.child;c!==null;)Aw(i,a,c),c=c.sibling}function Aw(i,a,c){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Qu,c)}catch{}switch(c.tag){case 5:rn||Lo(c,a);case 6:var h=Zt,m=fr;Zt=null,Ds(i,a,c),Zt=h,fr=m,Zt!==null&&(fr?(i=Zt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Zt.removeChild(c.stateNode));break;case 18:Zt!==null&&(fr?(i=Zt,c=c.stateNode,i.nodeType===8?jh(i.parentNode,c):i.nodeType===1&&jh(i,c),al(i)):jh(Zt,c.stateNode));break;case 4:h=Zt,m=fr,Zt=c.stateNode.containerInfo,fr=!0,Ds(i,a,c),Zt=h,fr=m;break;case 0:case 11:case 14:case 15:if(!rn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Ep(c,a,E),m=m.next}while(m!==h)}Ds(i,a,c);break;case 1:if(!rn&&(Lo(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(x){St(c,a,x)}Ds(i,a,c);break;case 21:Ds(i,a,c);break;case 22:c.mode&1?(rn=(h=rn)||c.memoizedState!==null,Ds(i,a,c),rn=h):Ds(i,a,c);break;default:Ds(i,a,c)}}function Ow(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new vA),a.forEach(function(h){var m=RA.bind(null,i,h);c.has(h)||(c.add(h),h.then(m,m))})}}function hr(i,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var y=i,E=a,x=E;e:for(;x!==null;){switch(x.tag){case 5:Zt=x.stateNode,fr=!1;break e;case 3:Zt=x.stateNode.containerInfo,fr=!0;break e;case 4:Zt=x.stateNode.containerInfo,fr=!0;break e}x=x.return}if(Zt===null)throw Error(n(160));Aw(y,E,m),Zt=null,fr=!1;var A=m.alternate;A!==null&&(A.return=null),m.return=null}catch(V){St(m,a,V)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Pw(a,i),a=a.sibling}function Pw(i,a){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(hr(a,i),Lr(i),h&4){try{Il(3,i,i.return),Fc(3,i)}catch(Se){St(i,i.return,Se)}try{Il(5,i,i.return)}catch(Se){St(i,i.return,Se)}}break;case 1:hr(a,i),Lr(i),h&512&&c!==null&&Lo(c,c.return);break;case 5:if(hr(a,i),Lr(i),h&512&&c!==null&&Lo(c,c.return),i.flags&32){var m=i.stateNode;try{xt(m,"")}catch(Se){St(i,i.return,Se)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,E=c!==null?c.memoizedProps:y,x=i.type,A=i.updateQueue;if(i.updateQueue=null,A!==null)try{x==="input"&&y.type==="radio"&&y.name!=null&&Hr(m,y),fo(x,E);var V=fo(x,y);for(E=0;E<A.length;E+=2){var X=A[E],ee=A[E+1];X==="style"?co(m,ee):X==="dangerouslySetInnerHTML"?et(m,ee):X==="children"?xt(m,ee):R(m,X,ee,V)}switch(x){case"input":qr(m,y);break;case"textarea":ae(m,y);break;case"select":var Q=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?I(m,!!y.multiple,pe,!1):Q!==!!y.multiple&&(y.defaultValue!=null?I(m,!!y.multiple,y.defaultValue,!0):I(m,!!y.multiple,y.multiple?[]:"",!1))}m[vl]=y}catch(Se){St(i,i.return,Se)}}break;case 6:if(hr(a,i),Lr(i),h&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(Se){St(i,i.return,Se)}}break;case 3:if(hr(a,i),Lr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{al(a.containerInfo)}catch(Se){St(i,i.return,Se)}break;case 4:hr(a,i),Lr(i);break;case 13:hr(a,i),Lr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Rp=Rt())),h&4&&Ow(i);break;case 22:if(X=c!==null&&c.memoizedState!==null,i.mode&1?(rn=(V=rn)||X,hr(a,i),rn=V):hr(a,i),Lr(i),h&8192){if(V=i.memoizedState!==null,(i.stateNode.isHidden=V)&&!X&&(i.mode&1)!==0)for(ge=i,X=i.child;X!==null;){for(ee=ge=X;ge!==null;){switch(Q=ge,pe=Q.child,Q.tag){case 0:case 11:case 14:case 15:Il(4,Q,Q.return);break;case 1:Lo(Q,Q.return);var ye=Q.stateNode;if(typeof ye.componentWillUnmount=="function"){h=Q,c=Q.return;try{a=h,ye.props=a.memoizedProps,ye.state=a.memoizedState,ye.componentWillUnmount()}catch(Se){St(h,c,Se)}}break;case 5:Lo(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Dw(ee);continue}}pe!==null?(pe.return=Q,ge=pe):Dw(ee)}X=X.sibling}e:for(X=null,ee=i;;){if(ee.tag===5){if(X===null){X=ee;try{m=ee.stateNode,V?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(x=ee.stateNode,A=ee.memoizedProps.style,E=A!=null&&A.hasOwnProperty("display")?A.display:null,x.style.display=Gu("display",E))}catch(Se){St(i,i.return,Se)}}}else if(ee.tag===6){if(X===null)try{ee.stateNode.nodeValue=V?"":ee.memoizedProps}catch(Se){St(i,i.return,Se)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===i)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===i)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===i)break e;X===ee&&(X=null),ee=ee.return}X===ee&&(X=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:hr(a,i),Lr(i),h&4&&Ow(i);break;case 21:break;default:hr(a,i),Lr(i)}}function Lr(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(Rw(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(xt(m,""),h.flags&=-33);var y=Iw(i);Tp(i,y,m);break;case 3:case 4:var E=h.stateNode.containerInfo,x=Iw(i);kp(i,x,E);break;default:throw Error(n(161))}}catch(A){St(i,i.return,A)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function wA(i,a,c){ge=i,Nw(i)}function Nw(i,a,c){for(var h=(i.mode&1)!==0;ge!==null;){var m=ge,y=m.child;if(m.tag===22&&h){var E=m.memoizedState!==null||jc;if(!E){var x=m.alternate,A=x!==null&&x.memoizedState!==null||rn;x=jc;var V=rn;if(jc=E,(rn=A)&&!V)for(ge=m;ge!==null;)E=ge,A=E.child,E.tag===22&&E.memoizedState!==null?$w(m):A!==null?(A.return=E,ge=A):$w(m);for(;y!==null;)ge=y,Nw(y),y=y.sibling;ge=m,jc=x,rn=V}Lw(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ge=y):Lw(i)}}function Lw(i){for(;ge!==null;){var a=ge;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:rn||Fc(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!rn)if(c===null)h.componentDidMount();else{var m=a.elementType===a.type?c.memoizedProps:dr(a.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&D_(a,y,h);break;case 3:var E=a.updateQueue;if(E!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}D_(a,E,c)}break;case 5:var x=a.stateNode;if(c===null&&a.flags&4){c=x;var A=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&c.focus();break;case"img":A.src&&(c.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var V=a.alternate;if(V!==null){var X=V.memoizedState;if(X!==null){var ee=X.dehydrated;ee!==null&&al(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||a.flags&512&&bp(a)}catch(Q){St(a,a.return,Q)}}if(a===i){ge=null;break}if(c=a.sibling,c!==null){c.return=a.return,ge=c;break}ge=a.return}}function Dw(i){for(;ge!==null;){var a=ge;if(a===i){ge=null;break}var c=a.sibling;if(c!==null){c.return=a.return,ge=c;break}ge=a.return}}function $w(i){for(;ge!==null;){var a=ge;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Fc(4,a)}catch(A){St(a,c,A)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var m=a.return;try{h.componentDidMount()}catch(A){St(a,m,A)}}var y=a.return;try{bp(a)}catch(A){St(a,y,A)}break;case 5:var E=a.return;try{bp(a)}catch(A){St(a,E,A)}}}catch(A){St(a,a.return,A)}if(a===i){ge=null;break}var x=a.sibling;if(x!==null){x.return=a.return,ge=x;break}ge=a.return}}var SA=Math.ceil,Uc=O.ReactCurrentDispatcher,Cp=O.ReactCurrentOwner,Jn=O.ReactCurrentBatchConfig,Ye=0,Ht=null,At=null,Jt=0,jn=0,Do=As(0),jt=0,Al=null,Ti=0,zc=0,xp=0,Ol=null,En=null,Rp=0,$o=1/0,ts=null,Bc=!1,Ip=null,$s=null,Vc=!1,Ms=null,Wc=0,Pl=0,Ap=null,Hc=-1,qc=0;function dn(){return(Ye&6)!==0?Rt():Hc!==-1?Hc:Hc=Rt()}function js(i){return(i.mode&1)===0?1:(Ye&2)!==0&&Jt!==0?Jt&-Jt:sA.transition!==null?(qc===0&&(qc=Iv()),qc):(i=rt,i!==0||(i=window.event,i=i===void 0?16:jv(i.type)),i)}function pr(i,a,c,h){if(50<Pl)throw Pl=0,Ap=null,Error(n(185));nl(i,c,h),((Ye&2)===0||i!==Ht)&&(i===Ht&&((Ye&2)===0&&(zc|=c),jt===4&&Fs(i,Jt)),bn(i,h),c===1&&Ye===0&&(a.mode&1)===0&&($o=Rt()+500,wc&&Ps()))}function bn(i,a){var c=i.callbackNode;sI(i,a);var h=tc(i,i===Ht?Jt:0);if(h===0)c!==null&&Cv(c),i.callbackNode=null,i.callbackPriority=0;else if(a=h&-h,i.callbackPriority!==a){if(c!=null&&Cv(c),a===1)i.tag===0?rA(jw.bind(null,i)):b_(jw.bind(null,i)),XI(function(){(Ye&6)===0&&Ps()}),c=null;else{switch(Av(h)){case 1:c=uh;break;case 4:c=xv;break;case 16:c=Yu;break;case 536870912:c=Rv;break;default:c=Yu}c=qw(c,Mw.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function Mw(i,a){if(Hc=-1,qc=0,(Ye&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Mo()&&i.callbackNode!==c)return null;var h=tc(i,i===Ht?Jt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||a)a=Kc(i,h);else{a=h;var m=Ye;Ye|=2;var y=Uw();(Ht!==i||Jt!==a)&&(ts=null,$o=Rt()+500,xi(i,a));do try{kA();break}catch(x){Fw(i,x)}while(!0);Gh(),Uc.current=y,Ye=m,At!==null?a=0:(Ht=null,Jt=0,a=jt)}if(a!==0){if(a===2&&(m=ch(i),m!==0&&(h=m,a=Op(i,m))),a===1)throw c=Al,xi(i,0),Fs(i,h),bn(i,Rt()),c;if(a===6)Fs(i,h);else{if(m=i.current.alternate,(h&30)===0&&!EA(m)&&(a=Kc(i,h),a===2&&(y=ch(i),y!==0&&(h=y,a=Op(i,y))),a===1))throw c=Al,xi(i,0),Fs(i,h),bn(i,Rt()),c;switch(i.finishedWork=m,i.finishedLanes=h,a){case 0:case 1:throw Error(n(345));case 2:Ri(i,En,ts);break;case 3:if(Fs(i,h),(h&130023424)===h&&(a=Rp+500-Rt(),10<a)){if(tc(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){dn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Mh(Ri.bind(null,i,En,ts),a);break}Ri(i,En,ts);break;case 4:if(Fs(i,h),(h&4194240)===h)break;for(a=i.eventTimes,m=-1;0<h;){var E=31-lr(h);y=1<<E,E=a[E],E>m&&(m=E),h&=~y}if(h=m,h=Rt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*SA(h/1960))-h,10<h){i.timeoutHandle=Mh(Ri.bind(null,i,En,ts),h);break}Ri(i,En,ts);break;case 5:Ri(i,En,ts);break;default:throw Error(n(329))}}}return bn(i,Rt()),i.callbackNode===c?Mw.bind(null,i):null}function Op(i,a){var c=Ol;return i.current.memoizedState.isDehydrated&&(xi(i,a).flags|=256),i=Kc(i,a),i!==2&&(a=En,En=c,a!==null&&Pp(a)),i}function Pp(i){En===null?En=i:En.push.apply(En,i)}function EA(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!ur(y(),m))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fs(i,a){for(a&=~xp,a&=~zc,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-lr(a),h=1<<c;i[c]=-1,a&=~h}}function jw(i){if((Ye&6)!==0)throw Error(n(327));Mo();var a=tc(i,0);if((a&1)===0)return bn(i,Rt()),null;var c=Kc(i,a);if(i.tag!==0&&c===2){var h=ch(i);h!==0&&(a=h,c=Op(i,h))}if(c===1)throw c=Al,xi(i,0),Fs(i,a),bn(i,Rt()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ri(i,En,ts),bn(i,Rt()),null}function Np(i,a){var c=Ye;Ye|=1;try{return i(a)}finally{Ye=c,Ye===0&&($o=Rt()+500,wc&&Ps())}}function Ci(i){Ms!==null&&Ms.tag===0&&(Ye&6)===0&&Mo();var a=Ye;Ye|=1;var c=Jn.transition,h=rt;try{if(Jn.transition=null,rt=1,i)return i()}finally{rt=h,Jn.transition=c,Ye=a,(Ye&6)===0&&Ps()}}function Lp(){jn=Do.current,ht(Do)}function xi(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,QI(c)),At!==null)for(c=At.return;c!==null;){var h=c;switch(Vh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&vc();break;case 3:Po(),ht(_n),ht(en),np();break;case 5:ep(h);break;case 4:Po();break;case 13:ht(yt);break;case 19:ht(yt);break;case 10:Zh(h.type._context);break;case 22:case 23:Lp()}c=c.return}if(Ht=i,At=i=Us(i.current,null),Jt=jn=a,jt=0,Al=null,xp=zc=Ti=0,En=Ol=null,Ei!==null){for(a=0;a<Ei.length;a++)if(c=Ei[a],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,y=c.pending;if(y!==null){var E=y.next;y.next=m,h.next=E}c.pending=h}Ei=null}return i}function Fw(i,a){do{var c=At;try{if(Gh(),Ac.current=Lc,Oc){for(var h=vt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Oc=!1}if(ki=0,Wt=Mt=vt=null,kl=!1,Tl=0,Cp.current=null,c===null||c.return===null){jt=1,Al=a,At=null;break}e:{var y=i,E=c.return,x=c,A=a;if(a=Jt,x.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=A,X=x,ee=X.tag;if((X.mode&1)===0&&(ee===0||ee===11||ee===15)){var Q=X.alternate;Q?(X.updateQueue=Q.updateQueue,X.memoizedState=Q.memoizedState,X.lanes=Q.lanes):(X.updateQueue=null,X.memoizedState=null)}var pe=cw(E);if(pe!==null){pe.flags&=-257,dw(pe,E,x,y,a),pe.mode&1&&uw(y,V,a),a=pe,A=V;var ye=a.updateQueue;if(ye===null){var Se=new Set;Se.add(A),a.updateQueue=Se}else ye.add(A);break e}else{if((a&1)===0){uw(y,V,a),Dp();break e}A=Error(n(426))}}else if(pt&&x.mode&1){var It=cw(E);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),dw(It,E,x,y,a),qh(No(A,x));break e}}y=A=No(A,x),jt!==4&&(jt=2),Ol===null?Ol=[y]:Ol.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var F=aw(y,A,a);L_(y,F);break e;case 1:x=A;var D=y.type,U=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&($s===null||!$s.has(U)))){y.flags|=65536,a&=-a,y.lanes|=a;var ie=lw(y,x,a);L_(y,ie);break e}}y=y.return}while(y!==null)}Bw(c)}catch(Ee){a=Ee,At===c&&c!==null&&(At=c=c.return);continue}break}while(!0)}function Uw(){var i=Uc.current;return Uc.current=Lc,i===null?Lc:i}function Dp(){(jt===0||jt===3||jt===2)&&(jt=4),Ht===null||(Ti&268435455)===0&&(zc&268435455)===0||Fs(Ht,Jt)}function Kc(i,a){var c=Ye;Ye|=2;var h=Uw();(Ht!==i||Jt!==a)&&(ts=null,xi(i,a));do try{bA();break}catch(m){Fw(i,m)}while(!0);if(Gh(),Ye=c,Uc.current=h,At!==null)throw Error(n(261));return Ht=null,Jt=0,jt}function bA(){for(;At!==null;)zw(At)}function kA(){for(;At!==null&&!ZR();)zw(At)}function zw(i){var a=Hw(i.alternate,i,jn);i.memoizedProps=i.pendingProps,a===null?Bw(i):At=a,Cp.current=null}function Bw(i){var a=i;do{var c=a.alternate;if(i=a.return,(a.flags&32768)===0){if(c=gA(c,a,jn),c!==null){At=c;return}}else{if(c=yA(c,a),c!==null){c.flags&=32767,At=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{jt=6,At=null;return}}if(a=a.sibling,a!==null){At=a;return}At=a=i}while(a!==null);jt===0&&(jt=5)}function Ri(i,a,c){var h=rt,m=Jn.transition;try{Jn.transition=null,rt=1,TA(i,a,c,h)}finally{Jn.transition=m,rt=h}return null}function TA(i,a,c,h){do Mo();while(Ms!==null);if((Ye&6)!==0)throw Error(n(327));c=i.finishedWork;var m=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var y=c.lanes|c.childLanes;if(iI(i,y),i===Ht&&(At=Ht=null,Jt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Vc||(Vc=!0,qw(Yu,function(){return Mo(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Jn.transition,Jn.transition=null;var E=rt;rt=1;var x=Ye;Ye|=4,Cp.current=null,_A(i,c),Pw(c,i),HI(Dh),sc=!!Lh,Dh=Lh=null,i.current=c,wA(c),JR(),Ye=x,rt=E,Jn.transition=y}else i.current=c;if(Vc&&(Vc=!1,Ms=i,Wc=m),y=i.pendingLanes,y===0&&($s=null),XR(c.stateNode),bn(i,Rt()),a!==null)for(h=i.onRecoverableError,c=0;c<a.length;c++)m=a[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Bc)throw Bc=!1,i=Ip,Ip=null,i;return(Wc&1)!==0&&i.tag!==0&&Mo(),y=i.pendingLanes,(y&1)!==0?i===Ap?Pl++:(Pl=0,Ap=i):Pl=0,Ps(),null}function Mo(){if(Ms!==null){var i=Av(Wc),a=Jn.transition,c=rt;try{if(Jn.transition=null,rt=16>i?16:i,Ms===null)var h=!1;else{if(i=Ms,Ms=null,Wc=0,(Ye&6)!==0)throw Error(n(331));var m=Ye;for(Ye|=4,ge=i.current;ge!==null;){var y=ge,E=y.child;if((ge.flags&16)!==0){var x=y.deletions;if(x!==null){for(var A=0;A<x.length;A++){var V=x[A];for(ge=V;ge!==null;){var X=ge;switch(X.tag){case 0:case 11:case 15:Il(8,X,y)}var ee=X.child;if(ee!==null)ee.return=X,ge=ee;else for(;ge!==null;){X=ge;var Q=X.sibling,pe=X.return;if(xw(X),X===V){ge=null;break}if(Q!==null){Q.return=pe,ge=Q;break}ge=pe}}}var ye=y.alternate;if(ye!==null){var Se=ye.child;if(Se!==null){ye.child=null;do{var It=Se.sibling;Se.sibling=null,Se=It}while(Se!==null)}}ge=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ge=E;else e:for(;ge!==null;){if(y=ge,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Il(9,y,y.return)}var F=y.sibling;if(F!==null){F.return=y.return,ge=F;break e}ge=y.return}}var D=i.current;for(ge=D;ge!==null;){E=ge;var U=E.child;if((E.subtreeFlags&2064)!==0&&U!==null)U.return=E,ge=U;else e:for(E=D;ge!==null;){if(x=ge,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Fc(9,x)}}catch(Ee){St(x,x.return,Ee)}if(x===E){ge=null;break e}var ie=x.sibling;if(ie!==null){ie.return=x.return,ge=ie;break e}ge=x.return}}if(Ye=m,Ps(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Qu,i)}catch{}h=!0}return h}finally{rt=c,Jn.transition=a}}return!1}function Vw(i,a,c){a=No(c,a),a=aw(i,a,1),i=Ls(i,a,1),a=dn(),i!==null&&(nl(i,1,a),bn(i,a))}function St(i,a,c){if(i.tag===3)Vw(i,i,c);else for(;a!==null;){if(a.tag===3){Vw(a,i,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&($s===null||!$s.has(h))){i=No(c,i),i=lw(a,i,1),a=Ls(a,i,1),i=dn(),a!==null&&(nl(a,1,i),bn(a,i));break}}a=a.return}}function CA(i,a,c){var h=i.pingCache;h!==null&&h.delete(a),a=dn(),i.pingedLanes|=i.suspendedLanes&c,Ht===i&&(Jt&c)===c&&(jt===4||jt===3&&(Jt&130023424)===Jt&&500>Rt()-Rp?xi(i,0):xp|=c),bn(i,a)}function Ww(i,a){a===0&&((i.mode&1)===0?a=1:(a=ec,ec<<=1,(ec&130023424)===0&&(ec=4194304)));var c=dn();i=Qr(i,a),i!==null&&(nl(i,a,c),bn(i,c))}function xA(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),Ww(i,c)}function RA(i,a){var c=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(a),Ww(i,c)}var Hw;Hw=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||_n.current)Sn=!0;else{if((i.lanes&c)===0&&(a.flags&128)===0)return Sn=!1,mA(i,a,c);Sn=(i.flags&131072)!==0}else Sn=!1,pt&&(a.flags&1048576)!==0&&k_(a,Ec,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Mc(i,a),i=a.pendingProps;var m=To(a,en.current);Oo(a,c),m=ip(null,a,h,i,m,c);var y=op();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,wn(h)?(y=!0,_c(a)):y=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Qh(a),m.updater=Dc,a.stateNode=m,m._reactInternals=a,fp(a,h,i,c),a=gp(null,a,h,!0,y,c)):(a.tag=0,pt&&y&&Bh(a),cn(null,a,m,c),a=a.child),a;case 16:h=a.elementType;e:{switch(Mc(i,a),i=a.pendingProps,m=h._init,h=m(h._payload),a.type=h,m=a.tag=AA(h),i=dr(h,i),m){case 0:a=mp(null,a,h,i,c);break e;case 1:a=yw(null,a,h,i,c);break e;case 11:a=fw(null,a,h,i,c);break e;case 14:a=hw(null,a,h,dr(h.type,i),c);break e}throw Error(n(306,h,""))}return a;case 0:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:dr(h,m),mp(i,a,h,m,c);case 1:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:dr(h,m),yw(i,a,h,m,c);case 3:e:{if(vw(a),i===null)throw Error(n(387));h=a.pendingProps,y=a.memoizedState,m=y.element,N_(i,a),Rc(a,h,null,c);var E=a.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){m=No(Error(n(423)),a),a=_w(i,a,h,c,m);break e}else if(h!==m){m=No(Error(n(424)),a),a=_w(i,a,h,c,m);break e}else for(Mn=Is(a.stateNode.containerInfo.firstChild),$n=a,pt=!0,cr=null,c=O_(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ro(),h===m){a=es(i,a,c);break e}cn(i,a,h,c)}a=a.child}return a;case 5:return $_(a),i===null&&Hh(a),h=a.type,m=a.pendingProps,y=i!==null?i.memoizedProps:null,E=m.children,$h(h,m)?E=null:y!==null&&$h(h,y)&&(a.flags|=32),gw(i,a),cn(i,a,E,c),a.child;case 6:return i===null&&Hh(a),null;case 13:return ww(i,a,c);case 4:return Xh(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=Io(a,null,h,c):cn(i,a,h,c),a.child;case 11:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:dr(h,m),fw(i,a,h,m,c);case 7:return cn(i,a,a.pendingProps,c),a.child;case 8:return cn(i,a,a.pendingProps.children,c),a.child;case 12:return cn(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,m=a.pendingProps,y=a.memoizedProps,E=m.value,lt(Tc,h._currentValue),h._currentValue=E,y!==null)if(ur(y.value,E)){if(y.children===m.children&&!_n.current){a=es(i,a,c);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){E=y.child;for(var A=x.firstContext;A!==null;){if(A.context===h){if(y.tag===1){A=Xr(-1,c&-c),A.tag=2;var V=y.updateQueue;if(V!==null){V=V.shared;var X=V.pending;X===null?A.next=A:(A.next=X.next,X.next=A),V.pending=A}}y.lanes|=c,A=y.alternate,A!==null&&(A.lanes|=c),Jh(y.return,c,a),x.lanes|=c;break}A=A.next}}else if(y.tag===10)E=y.type===a.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=c,x=E.alternate,x!==null&&(x.lanes|=c),Jh(E,c,a),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===a){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}cn(i,a,m.children,c),a=a.child}return a;case 9:return m=a.type,h=a.pendingProps.children,Oo(a,c),m=Gn(m),h=h(m),a.flags|=1,cn(i,a,h,c),a.child;case 14:return h=a.type,m=dr(h,a.pendingProps),m=dr(h.type,m),hw(i,a,h,m,c);case 15:return pw(i,a,a.type,a.pendingProps,c);case 17:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:dr(h,m),Mc(i,a),a.tag=1,wn(h)?(i=!0,_c(a)):i=!1,Oo(a,c),iw(a,h,m),fp(a,h,m,c),gp(null,a,h,!0,i,c);case 19:return Ew(i,a,c);case 22:return mw(i,a,c)}throw Error(n(156,a.tag))};function qw(i,a){return Tv(i,a)}function IA(i,a,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(i,a,c,h){return new IA(i,a,c,h)}function $p(i){return i=i.prototype,!(!i||!i.isReactComponent)}function AA(i){if(typeof i=="function")return $p(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ne)return 11;if(i===me)return 14}return 2}function Us(i,a){var c=i.alternate;return c===null?(c=Yn(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Gc(i,a,c,h,m,y){var E=2;if(h=i,typeof i=="function")$p(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case $:return Ii(c.children,m,y,a);case j:E=8,m|=8;break;case te:return i=Yn(12,c,a,m|2),i.elementType=te,i.lanes=y,i;case le:return i=Yn(13,c,a,m),i.elementType=le,i.lanes=y,i;case G:return i=Yn(19,c,a,m),i.elementType=G,i.lanes=y,i;case de:return Zc(c,m,y,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case J:E=10;break e;case ce:E=9;break e;case ne:E=11;break e;case me:E=14;break e;case fe:E=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Yn(E,c,a,m),a.elementType=i,a.type=h,a.lanes=y,a}function Ii(i,a,c,h){return i=Yn(7,i,h,a),i.lanes=c,i}function Zc(i,a,c,h){return i=Yn(22,i,h,a),i.elementType=de,i.lanes=c,i.stateNode={isHidden:!1},i}function Mp(i,a,c){return i=Yn(6,i,null,a),i.lanes=c,i}function jp(i,a,c){return a=Yn(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function OA(i,a,c,h,m){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dh(0),this.expirationTimes=dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dh(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Fp(i,a,c,h,m,y,E,x,A){return i=new OA(i,a,c,x,A),a===1?(a=1,y===!0&&(a|=8)):a=0,y=Yn(3,null,null,a),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qh(y),i}function PA(i,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:h==null?null:""+h,children:i,containerInfo:a,implementation:c}}function Kw(i){if(!i)return Os;i=i._reactInternals;e:{if(yi(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(wn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(wn(c))return S_(i,c,a)}return a}function Gw(i,a,c,h,m,y,E,x,A){return i=Fp(c,h,!0,i,m,y,E,x,A),i.context=Kw(null),c=i.current,h=dn(),m=js(c),y=Xr(h,m),y.callback=a??null,Ls(c,y,m),i.current.lanes=m,nl(i,m,h),bn(i,h),i}function Jc(i,a,c,h){var m=a.current,y=dn(),E=js(m);return c=Kw(c),a.context===null?a.context=c:a.pendingContext=c,a=Xr(y,E),a.payload={element:i},h=h===void 0?null:h,h!==null&&(a.callback=h),i=Ls(m,a,E),i!==null&&(pr(i,m,E,y),xc(i,m,E)),E}function Yc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Zw(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Up(i,a){Zw(i,a),(i=i.alternate)&&Zw(i,a)}function NA(){return null}var Jw=typeof reportError=="function"?reportError:function(i){console.error(i)};function zp(i){this._internalRoot=i}Qc.prototype.render=zp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Jc(i,a,null,null)},Qc.prototype.unmount=zp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ci(function(){Jc(null,i,null,null)}),a[Gr]=null}};function Qc(i){this._internalRoot=i}Qc.prototype.unstable_scheduleHydration=function(i){if(i){var a=Nv();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Cs.length&&a!==0&&a<Cs[c].priority;c++);Cs.splice(c,0,i),c===0&&$v(i)}};function Bp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Xc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Yw(){}function LA(i,a,c,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var V=Yc(E);y.call(V)}}var E=Gw(a,h,i,0,null,!1,!1,"",Yw);return i._reactRootContainer=E,i[Gr]=E.current,gl(i.nodeType===8?i.parentNode:i),Ci(),E}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var x=h;h=function(){var V=Yc(A);x.call(V)}}var A=Fp(i,0,!1,null,null,!1,!1,"",Yw);return i._reactRootContainer=A,i[Gr]=A.current,gl(i.nodeType===8?i.parentNode:i),Ci(function(){Jc(a,A,c,h)}),A}function ed(i,a,c,h,m){var y=c._reactRootContainer;if(y){var E=y;if(typeof m=="function"){var x=m;m=function(){var A=Yc(E);x.call(A)}}Jc(a,E,i,m)}else E=LA(c,a,i,m,h);return Yc(E)}Ov=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=tl(a.pendingLanes);c!==0&&(fh(a,c|1),bn(a,Rt()),(Ye&6)===0&&($o=Rt()+500,Ps()))}break;case 13:Ci(function(){var h=Qr(i,1);if(h!==null){var m=dn();pr(h,i,1,m)}}),Up(i,1)}},hh=function(i){if(i.tag===13){var a=Qr(i,134217728);if(a!==null){var c=dn();pr(a,i,134217728,c)}Up(i,134217728)}},Pv=function(i){if(i.tag===13){var a=js(i),c=Qr(i,a);if(c!==null){var h=dn();pr(c,i,a,h)}Up(i,a)}},Nv=function(){return rt},Lv=function(i,a){var c=rt;try{return rt=i,a()}finally{rt=c}},ih=function(i,a,c){switch(a){case"input":if(qr(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==i&&h.form===i.form){var m=yc(h);if(!m)throw Error(n(90));ar(h),qr(h,m)}}}break;case"textarea":ae(i,c);break;case"select":a=c.value,a!=null&&I(i,!!c.multiple,a,!1)}},vv=Np,_v=Ci;var DA={usingClientEntryPoint:!1,Events:[_l,bo,yc,gv,yv,Np]},Nl={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$A={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=bv(i),i===null?null:i.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||NA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{Qu=td.inject($A),Ar=td}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DA,kn.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bp(a))throw Error(n(200));return PA(i,a,null,c)},kn.createRoot=function(i,a){if(!Bp(i))throw Error(n(299));var c=!1,h="",m=Jw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Fp(i,1,!1,null,null,c,!1,h,m),i[Gr]=a.current,gl(i.nodeType===8?i.parentNode:i),new zp(a)},kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=bv(a),i=i===null?null:i.stateNode,i},kn.flushSync=function(i){return Ci(i)},kn.hydrate=function(i,a,c){if(!Xc(a))throw Error(n(200));return ed(null,i,a,!0,c)},kn.hydrateRoot=function(i,a,c){if(!Bp(i))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,m=!1,y="",E=Jw;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),a=Gw(a,null,i,1,c??null,m,!1,y,E),i[Gr]=a.current,gl(i),h)for(i=0;i<h.length;i++)c=h[i],m=c._getVersion,m=m(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,m]:a.mutableSourceEagerHydrationData.push(c,m);return new Qc(a)},kn.render=function(i,a,c){if(!Xc(a))throw Error(n(200));return ed(null,i,a,!1,c)},kn.unmountComponentAtNode=function(i){if(!Xc(i))throw Error(n(40));return i._reactRootContainer?(Ci(function(){ed(null,null,i,!1,function(){i._reactRootContainer=null,i[Gr]=null})}),!0):!1},kn.unstable_batchedUpdates=Np,kn.unstable_renderSubtreeIntoContainer=function(i,a,c,h){if(!Xc(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ed(i,a,c,!1,h)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var oS;function Wb(){if(oS)return qp.exports;oS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qp.exports=qA(),qp.exports}var aS;function KA(){if(aS)return rd;aS=1;var e=Wb();return rd.createRoot=e.createRoot,rd.hydrateRoot=e.hydrateRoot,rd}var GA=KA(),bf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ys,Ug,Pb,JA=(Pb=class{constructor(){Ge(this,Ys,ZA);Ge(this,Ug,!1)}setTimeoutProvider(e){Me(this,Ys,e)}setTimeout(e,t){return K(this,Ys).setTimeout(e,t)}clearTimeout(e){K(this,Ys).clearTimeout(e)}setInterval(e,t){return K(this,Ys).setInterval(e,t)}clearInterval(e){K(this,Ys).clearInterval(e)}},Ys=new WeakMap,Ug=new WeakMap,Pb),Pm=new JA;function YA(e){setTimeout(e,0)}var kf=typeof window>"u"||"Deno"in globalThis;function yr(){}function QA(e,t){return typeof e=="function"?e(t):e}function XA(e){return typeof e=="number"&&e>=0&&e!==1/0}function eO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Nm(e,t){return typeof e=="function"?e(t):e}function tO(e,t){return typeof e=="function"?e(t):e}function lS(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==Bg(l,t.options))return!1}else if(!nu(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||o&&!o(t))}function uS(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(tu(t.options.mutationKey)!==tu(o))return!1}else if(!nu(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Bg(e,t){return((t==null?void 0:t.queryKeyHashFn)||tu)(e)}function tu(e){return JSON.stringify(e,(t,n)=>Lm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function nu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>nu(e[n],t[n])):!1}var nO=Object.prototype.hasOwnProperty;function Hb(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=cS(e)&&cS(t);if(!r&&!(Lm(e)&&Lm(t)))return t;const o=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),u=l.length,d=r?new Array(u):{};let f=0;for(let p=0;p<u;p++){const g=r?p:l[p],v=e[g],_=t[g];if(v===_){d[g]=v,(r?p<o:nO.call(e,g))&&f++;continue}if(v===null||_===null||typeof v!="object"||typeof _!="object"){d[g]=_;continue}const w=Hb(v,_,n+1);d[g]=w,w===v&&f++}return o===u&&f===o?e:d}function W9(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function cS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lm(e){if(!dS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!dS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function dS(e){return Object.prototype.toString.call(e)==="[object Object]"}function rO(e){return new Promise(t=>{Pm.setTimeout(t,e)})}function sO(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Hb(e,t):t}function iO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function oO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Vg=Symbol();function qb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Vg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function H9(e,t){return typeof e=="function"?e(...t):!!e}function aO(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var zi,Qs,ha,Nb,lO=(Nb=class extends bf{constructor(){super();Ge(this,zi);Ge(this,Qs);Ge(this,ha);Me(this,ha,t=>{if(!kf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,Qs)||this.setEventListener(K(this,ha))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Qs))==null||t.call(this),Me(this,Qs,void 0))}setEventListener(t){var n;Me(this,ha,t),(n=K(this,Qs))==null||n.call(this),Me(this,Qs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){K(this,zi)!==t&&(Me(this,zi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof K(this,zi)=="boolean"?K(this,zi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zi=new WeakMap,Qs=new WeakMap,ha=new WeakMap,Nb),Kb=new lO;function uO(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var cO=YA;function dO(){let e=[],t=0,n=u=>{u()},r=u=>{u()},s=cO;const o=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var gn=dO(),pa,Xs,ma,Lb,fO=(Lb=class extends bf{constructor(){super();Ge(this,pa,!0);Ge(this,Xs);Ge(this,ma);Me(this,ma,t=>{if(!kf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){K(this,Xs)||this.setEventListener(K(this,ma))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Xs))==null||t.call(this),Me(this,Xs,void 0))}setEventListener(t){var n;Me(this,ma,t),(n=K(this,Xs))==null||n.call(this),Me(this,Xs,t(this.setOnline.bind(this)))}setOnline(t){K(this,pa)!==t&&(Me(this,pa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return K(this,pa)}},pa=new WeakMap,Xs=new WeakMap,ma=new WeakMap,Lb),qd=new fO;function hO(e){return Math.min(1e3*2**e,3e4)}function Gb(e){return(e??"online")==="online"?qd.isOnline():!0}var Dm=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zb(e){let t=!1,n=0,r;const s=uO(),o=()=>s.status!=="pending",l=S=>{var b;if(!o()){const C=new Dm(S);v(C),(b=e.onCancel)==null||b.call(e,C)}},u=()=>{t=!0},d=()=>{t=!1},f=()=>Kb.isFocused()&&(e.networkMode==="always"||qd.isOnline())&&e.canRun(),p=()=>Gb(e.networkMode)&&e.canRun(),g=S=>{o()||(r==null||r(),s.resolve(S))},v=S=>{o()||(r==null||r(),s.reject(S))},_=()=>new Promise(S=>{var b;r=C=>{(o()||f())&&S(C)},(b=e.onPause)==null||b.call(e)}).then(()=>{var S;r=void 0,o()||(S=e.onContinue)==null||S.call(e)}),w=()=>{if(o())return;let S;const b=n===0?e.initialPromise:void 0;try{S=b??e.fn()}catch(C){S=Promise.reject(C)}Promise.resolve(S).then(g).catch(C=>{var B;if(o())return;const T=e.retry??(kf?0:3),R=e.retryDelay??hO,O=typeof R=="function"?R(n,C):R,z=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,C);if(t||!z){v(C);return}n++,(B=e.onFail)==null||B.call(e,n,C),rO(O).then(()=>f()?void 0:_()).then(()=>{t?v(C):w()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?w():_().then(w),s)}}var Bi,Db,Jb=(Db=class{constructor(){Ge(this,Bi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XA(this.gcTime)&&Me(this,Bi,Pm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kf?1/0:300*1e3))}clearGcTimeout(){K(this,Bi)&&(Pm.clearTimeout(K(this,Bi)),Me(this,Bi,void 0))}},Bi=new WeakMap,Db),Vi,ga,er,Wi,Kt,ku,Hi,_r,is,$b,pO=($b=class extends Jb{constructor(t){super();Ge(this,_r);Ge(this,Vi);Ge(this,ga);Ge(this,er);Ge(this,Wi);Ge(this,Kt);Ge(this,ku);Ge(this,Hi);Me(this,Hi,!1),Me(this,ku,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,Wi,t.client),Me(this,er,K(this,Wi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,Vi,hS(this.options)),this.state=t.state??K(this,Vi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,Kt))==null?void 0:t.promise}setOptions(t){if(this.options={...K(this,ku),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=hS(this.options);n.data!==void 0&&(this.setState(fS(n.data,n.dataUpdatedAt)),Me(this,Vi,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,er).remove(this)}setData(t,n){const r=sO(this.state.data,t,this.options);return sn(this,_r,is).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){sn(this,_r,is).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=K(this,Kt))==null?void 0:r.promise;return(s=K(this,Kt))==null||s.cancel(t),n?n.then(yr).catch(yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Vi))}isActive(){return this.observers.some(t=>tO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Nm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!eO(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,Kt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,Kt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(K(this,Kt)&&(K(this,Hi)?K(this,Kt).cancel({revert:!0}):K(this,Kt).cancelRetry()),this.scheduleGc()),K(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||sn(this,_r,is).call(this,{type:"invalidate"})}async fetch(t,n){var d,f,p,g,v,_,w,S,b,C,T,R;if(this.state.fetchStatus!=="idle"&&((d=K(this,Kt))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(K(this,Kt))return K(this,Kt).continueRetry(),K(this,Kt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const O=this.observers.find(z=>z.options.queryFn);O&&this.setOptions(O.options)}const r=new AbortController,s=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(Me(this,Hi,!0),r.signal)})},o=()=>{const O=qb(this.options,n),B=(()=>{const $={client:K(this,Wi),queryKey:this.queryKey,meta:this.meta};return s($),$})();return Me(this,Hi,!1),this.options.persister?this.options.persister(O,B,this):O(B)},u=(()=>{const O={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:K(this,Wi),state:this.state,fetchFn:o};return s(O),O})();(f=this.options.behavior)==null||f.onFetch(u,this),Me(this,ga,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&sn(this,_r,is).call(this,{type:"fetch",meta:(g=u.fetchOptions)==null?void 0:g.meta}),Me(this,Kt,Zb({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:O=>{O instanceof Dm&&O.revert&&this.setState({...K(this,ga),fetchStatus:"idle"}),r.abort()},onFail:(O,z)=>{sn(this,_r,is).call(this,{type:"failed",failureCount:O,error:z})},onPause:()=>{sn(this,_r,is).call(this,{type:"pause"})},onContinue:()=>{sn(this,_r,is).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const O=await K(this,Kt).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(_=(v=K(this,er).config).onSuccess)==null||_.call(v,O,this),(S=(w=K(this,er).config).onSettled)==null||S.call(w,O,this.state.error,this),O}catch(O){if(O instanceof Dm){if(O.silent)return K(this,Kt).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw sn(this,_r,is).call(this,{type:"error",error:O}),(C=(b=K(this,er).config).onError)==null||C.call(b,O,this),(R=(T=K(this,er).config).onSettled)==null||R.call(T,this.state.data,O,this),O}finally{this.scheduleGc()}}},Vi=new WeakMap,ga=new WeakMap,er=new WeakMap,Wi=new WeakMap,Kt=new WeakMap,ku=new WeakMap,Hi=new WeakMap,_r=new WeakSet,is=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...mO(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...fS(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Me(this,ga,t.manual?s:void 0),s;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),gn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),K(this,er).notify({query:this,type:"updated",action:t})})},$b);function mO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fS(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hS(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function pS(e){return{onFetch:(t,n)=>{var p,g,v,_,w;const r=t.options,s=(v=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:v.direction,o=((_=t.state.data)==null?void 0:_.pages)||[],l=((w=t.state.data)==null?void 0:w.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let S=!1;const b=R=>{aO(R,()=>t.signal,()=>S=!0)},C=qb(t.options,t.fetchOptions),T=async(R,O,z)=>{if(S)return Promise.reject();if(O==null&&R.pages.length)return Promise.resolve(R);const $=(()=>{const ce={client:t.client,queryKey:t.queryKey,pageParam:O,direction:z?"backward":"forward",meta:t.options.meta};return b(ce),ce})(),j=await C($),{maxPages:te}=t.options,J=z?oO:iO;return{pages:J(R.pages,j,te),pageParams:J(R.pageParams,O,te)}};if(s&&o.length){const R=s==="backward",O=R?gO:mS,z={pages:o,pageParams:l},B=O(r,z);u=await T(z,B,R)}else{const R=e??o.length;do{const O=d===0?l[0]??r.initialPageParam:mS(r,u);if(d>0&&O==null)break;u=await T(u,O),d++}while(d<R)}return u};t.options.persister?t.fetchFn=()=>{var S,b;return(b=(S=t.options).persister)==null?void 0:b.call(S,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function mS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function gO(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Tu,$r,on,qi,Mr,Ws,Mb,yO=(Mb=class extends Jb{constructor(t){super();Ge(this,Mr);Ge(this,Tu);Ge(this,$r);Ge(this,on);Ge(this,qi);Me(this,Tu,t.client),this.mutationId=t.mutationId,Me(this,on,t.mutationCache),Me(this,$r,[]),this.state=t.state||vO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,$r).includes(t)||(K(this,$r).push(t),this.clearGcTimeout(),K(this,on).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,$r,K(this,$r).filter(n=>n!==t)),this.scheduleGc(),K(this,on).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,$r).length||(this.state.status==="pending"?this.scheduleGc():K(this,on).remove(this))}continue(){var t;return((t=K(this,qi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,f,p,g,v,_,w,S,b,C,T,R,O,z,B,$;const n=()=>{sn(this,Mr,Ws).call(this,{type:"continue"})},r={client:K(this,Tu),meta:this.options.meta,mutationKey:this.options.mutationKey};Me(this,qi,Zb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(j,te)=>{sn(this,Mr,Ws).call(this,{type:"failed",failureCount:j,error:te})},onPause:()=>{sn(this,Mr,Ws).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,on).canRun(this)}));const s=this.state.status==="pending",o=!K(this,qi).canStart();try{if(s)n();else{sn(this,Mr,Ws).call(this,{type:"pending",variables:t,isPaused:o}),K(this,on).config.onMutate&&await K(this,on).config.onMutate(t,this,r);const te=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));te!==this.state.context&&sn(this,Mr,Ws).call(this,{type:"pending",context:te,variables:t,isPaused:o})}const j=await K(this,qi).start();return await((f=(d=K(this,on).config).onSuccess)==null?void 0:f.call(d,j,t,this.state.context,this,r)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,j,t,this.state.context,r)),await((_=(v=K(this,on).config).onSettled)==null?void 0:_.call(v,j,null,this.state.variables,this.state.context,this,r)),await((S=(w=this.options).onSettled)==null?void 0:S.call(w,j,null,t,this.state.context,r)),sn(this,Mr,Ws).call(this,{type:"success",data:j}),j}catch(j){try{await((C=(b=K(this,on).config).onError)==null?void 0:C.call(b,j,t,this.state.context,this,r))}catch(te){Promise.reject(te)}try{await((R=(T=this.options).onError)==null?void 0:R.call(T,j,t,this.state.context,r))}catch(te){Promise.reject(te)}try{await((z=(O=K(this,on).config).onSettled)==null?void 0:z.call(O,void 0,j,this.state.variables,this.state.context,this,r))}catch(te){Promise.reject(te)}try{await(($=(B=this.options).onSettled)==null?void 0:$.call(B,void 0,j,t,this.state.context,r))}catch(te){Promise.reject(te)}throw sn(this,Mr,Ws).call(this,{type:"error",error:j}),j}finally{K(this,on).runNext(this)}}},Tu=new WeakMap,$r=new WeakMap,on=new WeakMap,qi=new WeakMap,Mr=new WeakSet,Ws=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gn.batch(()=>{K(this,$r).forEach(r=>{r.onMutationUpdate(t)}),K(this,on).notify({mutation:this,type:"updated",action:t})})},Mb);function vO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ls,wr,Cu,jb,_O=(jb=class extends bf{constructor(t={}){super();Ge(this,ls);Ge(this,wr);Ge(this,Cu);this.config=t,Me(this,ls,new Set),Me(this,wr,new Map),Me(this,Cu,0)}build(t,n,r){const s=new yO({client:t,mutationCache:this,mutationId:++nd(this,Cu)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){K(this,ls).add(t);const n=sd(t);if(typeof n=="string"){const r=K(this,wr).get(n);r?r.push(t):K(this,wr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(K(this,ls).delete(t)){const n=sd(t);if(typeof n=="string"){const r=K(this,wr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&K(this,wr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=sd(t);if(typeof n=="string"){const r=K(this,wr).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=sd(t);if(typeof n=="string"){const s=(r=K(this,wr).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gn.batch(()=>{K(this,ls).forEach(t=>{this.notify({type:"removed",mutation:t})}),K(this,ls).clear(),K(this,wr).clear()})}getAll(){return Array.from(K(this,ls))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>uS(n,r))}findAll(t={}){return this.getAll().filter(n=>uS(t,n))}notify(t){gn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return gn.batch(()=>Promise.all(t.map(n=>n.continue().catch(yr))))}},ls=new WeakMap,wr=new WeakMap,Cu=new WeakMap,jb);function sd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var jr,Fb,wO=(Fb=class extends bf{constructor(t={}){super();Ge(this,jr);this.config=t,Me(this,jr,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Bg(s,n);let l=this.get(o);return l||(l=new pO({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){K(this,jr).has(t.queryHash)||(K(this,jr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=K(this,jr).get(t.queryHash);n&&(t.destroy(),n===t&&K(this,jr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,jr).get(t)}getAll(){return[...K(this,jr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>lS(t,r)):n}notify(t){gn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},jr=new WeakMap,Fb),kt,ei,ti,ya,va,ni,_a,wa,Ub,SO=(Ub=class{constructor(e={}){Ge(this,kt);Ge(this,ei);Ge(this,ti);Ge(this,ya);Ge(this,va);Ge(this,ni);Ge(this,_a);Ge(this,wa);Me(this,kt,e.queryCache||new wO),Me(this,ei,e.mutationCache||new _O),Me(this,ti,e.defaultOptions||{}),Me(this,ya,new Map),Me(this,va,new Map),Me(this,ni,0)}mount(){nd(this,ni)._++,K(this,ni)===1&&(Me(this,_a,Kb.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,kt).onFocus())})),Me(this,wa,qd.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,kt).onOnline())})))}unmount(){var e,t;nd(this,ni)._--,K(this,ni)===0&&((e=K(this,_a))==null||e.call(this),Me(this,_a,void 0),(t=K(this,wa))==null||t.call(this),Me(this,wa,void 0))}isFetching(e){return K(this,kt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,ei).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,kt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=K(this,kt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Nm(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return K(this,kt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=K(this,kt).get(r.queryHash),o=s==null?void 0:s.state.data,l=QA(t,o);if(l!==void 0)return K(this,kt).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return gn.batch(()=>K(this,kt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,kt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=K(this,kt);gn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=K(this,kt);return gn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=gn.batch(()=>K(this,kt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(yr).catch(yr)}invalidateQueries(e,t={}){return gn.batch(()=>(K(this,kt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=gn.batch(()=>K(this,kt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(yr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=K(this,kt).build(this,t);return n.isStaleByTime(Nm(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yr).catch(yr)}fetchInfiniteQuery(e){return e.behavior=pS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yr).catch(yr)}ensureInfiniteQueryData(e){return e.behavior=pS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qd.isOnline()?K(this,ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,kt)}getMutationCache(){return K(this,ei)}getDefaultOptions(){return K(this,ti)}setDefaultOptions(e){Me(this,ti,e)}setQueryDefaults(e,t){K(this,ya).set(tu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,ya).values()],n={};return t.forEach(r=>{nu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){K(this,va).set(tu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,va).values()],n={};return t.forEach(r=>{nu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,ti).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Vg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,ti).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,kt).clear(),K(this,ei).clear()}},kt=new WeakMap,ei=new WeakMap,ti=new WeakMap,ya=new WeakMap,va=new WeakMap,ni=new WeakMap,_a=new WeakMap,wa=new WeakMap,Ub),Yb=k.createContext(void 0),q9=e=>{const t=k.useContext(Yb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},EO=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),M.jsx(Yb.Provider,{value:e,children:t}));const bO="modulepreload",kO=function(e){return"/"+e},gS={},ln=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(n.map(f=>{if(f=kO(f),f in gS)return;gS[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":bO,p||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((_,w)=>{v.addEventListener("load",_),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};var TO=function(){return null};/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yS="popstate";function CO(e={}){function t(r,s){let{pathname:o,search:l,hash:u}=r.location;return $m("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ru(s)}return RO(t,n,null,e)}function mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xO(){return Math.random().toString(36).substring(2,10)}function vS(e,t){return{usr:e.state,key:e.key,idx:t}}function $m(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Aa(t):t,state:n,key:t&&t.key||r||xO()}}function ru({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Aa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function RO(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let b=p(),C=b==null?null:b-f;f=b,d&&d({action:u,location:S.location,delta:C})}function v(b,C){u="PUSH";let T=$m(S.location,b,C);f=p()+1;let R=vS(T,f),O=S.createHref(T);try{l.pushState(R,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(O)}o&&d&&d({action:u,location:S.location,delta:1})}function _(b,C){u="REPLACE";let T=$m(S.location,b,C);f=p();let R=vS(T,f),O=S.createHref(T);l.replaceState(R,"",O),o&&d&&d({action:u,location:S.location,delta:0})}function w(b){return IO(b)}let S={get action(){return u},get location(){return e(s,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(yS,g),d=b,()=>{s.removeEventListener(yS,g),d=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let C=w(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:_,go(b){return l.go(b)}};return S}function IO(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ru(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qb(e,t,n="/"){return AO(e,t,n,!1)}function AO(e,t,n,r){let s=typeof t=="string"?Aa(t):t,o=ps(s.pathname||"/",n);if(o==null)return null;let l=Xb(e);OO(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=BO(o);u=UO(l[d],f,r)}return u}function Xb(e,t=[],n=[],r="",s=!1){let o=(l,u,d=s,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;mt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=us([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Xb(l.children,t,v,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:jO(g,l.index),routesMeta:v})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of ek(l.path))o(l,u,!0,f)}),t}function ek(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=ek(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function OO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:FO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var PO=/^:[\w-]+$/,NO=3,LO=2,DO=1,$O=10,MO=-2,_S=e=>e==="*";function jO(e,t){let n=e.split("/"),r=n.length;return n.some(_S)&&(r+=MO),t&&(r+=LO),n.filter(s=>!_S(s)).reduce((s,o)=>s+(PO.test(o)?NO:o===""?DO:$O),r)}function FO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function UO(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Kd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=Kd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:us([o,g.pathname]),pathnameBase:qO(us([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=us([o,g.pathnameBase]))}return l}function Kd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zO(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let w=u[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=u[v];return g&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function zO(e,t=!1,n=!0){rr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function BO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ps(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var tk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VO=e=>tk.test(e);function WO(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Aa(e):e,o;if(n)if(VO(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),rr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=wS(n.substring(1),"/"):o=wS(n,t)}else o=t;return{pathname:o,search:KO(r),hash:GO(s)}}function wS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Zp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wg(e){let t=HO(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Hg(e,t,n,r=!1){let s;typeof e=="string"?s=Aa(e):(s={...e},mt(!s.pathname||!s.pathname.includes("?"),Zp("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),Zp("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),Zp("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=WO(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var us=e=>e.join("/").replace(/\/\/+/g,"/"),qO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,GO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ZO=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function JO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function YO(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rk(e,t){let n=e;if(typeof n!="string"||!tk.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(nk)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),u=ps(l.pathname,t);l.origin===o.origin&&u!=null?n=u+l.search+l.hash:s=!0}catch{rr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sk=["POST","PUT","PATCH","DELETE"];new Set(sk);var QO=["GET",...sk];new Set(QO);var Oa=k.createContext(null);Oa.displayName="DataRouter";var Tf=k.createContext(null);Tf.displayName="DataRouterState";var XO=k.createContext(!1),ik=k.createContext({isTransitioning:!1});ik.displayName="ViewTransition";var eP=k.createContext(new Map);eP.displayName="Fetchers";var tP=k.createContext(null);tP.displayName="Await";var Hn=k.createContext(null);Hn.displayName="Navigation";var xu=k.createContext(null);xu.displayName="Location";var ir=k.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var qg=k.createContext(null);qg.displayName="RouteError";var ok="REACT_ROUTER_ERROR",nP="REDIRECT",rP="ROUTE_ERROR_RESPONSE";function sP(e){if(e.startsWith(`${ok}:${nP}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function iP(e){if(e.startsWith(`${ok}:${rP}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new ZO(t.status,t.statusText,t.data)}catch{}}function oP(e,{relative:t}={}){mt(Pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Hn),{hash:s,pathname:o,search:l}=Ru(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:us([n,o])),r.createHref({pathname:u,search:l,hash:s})}function Pa(){return k.useContext(xu)!=null}function ci(){return mt(Pa(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(xu).location}var ak="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lk(e){k.useContext(Hn).static||k.useLayoutEffect(e)}function Kg(){let{isDataRoute:e}=k.useContext(ir);return e?SP():aP()}function aP(){mt(Pa(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Oa),{basename:t,navigator:n}=k.useContext(Hn),{matches:r}=k.useContext(ir),{pathname:s}=ci(),o=JSON.stringify(Wg(r)),l=k.useRef(!1);return lk(()=>{l.current=!0}),k.useCallback((d,f={})=>{if(rr(l.current,ak),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=Hg(d,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:us([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,s,e])}var lP=k.createContext(null);function uP(e){let t=k.useContext(ir).outlet;return k.useMemo(()=>t&&k.createElement(lP.Provider,{value:e},t),[t,e])}function K9(){let{matches:e}=k.useContext(ir),t=e[e.length-1];return t?t.params:{}}function Ru(e,{relative:t}={}){let{matches:n}=k.useContext(ir),{pathname:r}=ci(),s=JSON.stringify(Wg(n));return k.useMemo(()=>Hg(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function cP(e,t){return uk(e,t)}function uk(e,t,n,r,s){var T;mt(Pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Hn),{matches:l}=k.useContext(ir),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let R=g&&g.path||"";dk(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=ci(),_;if(t){let R=typeof t=="string"?Aa(t):t;mt(p==="/"||((T=R.pathname)==null?void 0:T.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=v;let w=_.pathname||"/",S=w;if(p!=="/"){let R=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=Qb(e,{pathname:S});rr(g||b!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),rr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=mP(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:us([p,o.encodeLocation?o.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:us([p,o.encodeLocation?o.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),l,n,r,s);return t&&C?k.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function dP(){let e=wP(),t=JO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,l)}var fP=k.createElement(dP,null),ck=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=iP(e.digest);n&&(e=n)}let t=e!==void 0?k.createElement(ir.Provider,{value:this.props.routeContext},k.createElement(qg.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(hP,{error:e},t):t}};ck.contextType=XO;var Jp=new WeakMap;function hP({children:e,error:t}){let{basename:n}=k.useContext(Hn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=sP(t.digest);if(r){let s=Jp.get(t);if(s)throw s;let o=rk(r.location,n);if(nk&&!Jp.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Jp.set(t,l),l}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function pP({routeContext:e,match:t,children:n}){let r=k.useContext(Oa);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(ir.Provider,{value:e},n)}function mP(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:_}=n,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||w){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=n&&r?(p,g)=>{var v,_;r(p,{location:n.location,params:((_=(v=n.matches)==null?void 0:v[0])==null?void 0:_.params)??{},unstable_pattern:YO(n.matches),errorInfo:g})}:void 0;return o.reduceRight((p,g,v)=>{let _,w=!1,S=null,b=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||fP,u&&(d<0&&v===0?(dk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,b=null):d===v&&(w=!0,b=g.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,v+1)),T=()=>{let R;return _?R=S:w?R=b:g.route.Component?R=k.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=p,k.createElement(pP,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?k.createElement(ck,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):T()},null)}function Gg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gP(e){let t=k.useContext(Oa);return mt(t,Gg(e)),t}function yP(e){let t=k.useContext(Tf);return mt(t,Gg(e)),t}function vP(e){let t=k.useContext(ir);return mt(t,Gg(e)),t}function Zg(e){let t=vP(e),n=t.matches[t.matches.length-1];return mt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _P(){return Zg("useRouteId")}function wP(){var r;let e=k.useContext(qg),t=yP("useRouteError"),n=Zg("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function SP(){let{router:e}=gP("useNavigate"),t=Zg("useNavigate"),n=k.useRef(!1);return lk(()=>{n.current=!0}),k.useCallback(async(s,o={})=>{rr(n.current,ak),n.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var SS={};function dk(e,t,n){!t&&!SS[e]&&(SS[e]=!0,rr(!1,n))}k.memo(EP);function EP({routes:e,future:t,state:n,onError:r}){return uk(e,void 0,n,r,t)}function Hl({to:e,replace:t,state:n,relative:r}){mt(Pa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(Hn);rr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(ir),{pathname:l}=ci(),u=Kg(),d=Hg(e,Wg(o),l,r==="path"),f=JSON.stringify(d);return k.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function G9(e){return uP(e.context)}function bt(e){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bP({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:l}){mt(!Pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:u,navigator:s,static:o,unstable_useTransitions:l,future:{}}),[u,s,o,l]);typeof n=="string"&&(n=Aa(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:_="default"}=n,w=k.useMemo(()=>{let S=ps(f,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:v,key:_},navigationType:r}},[u,f,p,g,v,_,r]);return rr(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(Hn.Provider,{value:d},k.createElement(xu.Provider,{children:t,value:w}))}function kP({children:e,location:t}){return cP(Mm(e),t)}function Mm(e,t=[]){let n=[];return k.Children.forEach(e,(r,s)=>{if(!k.isValidElement(r))return;let o=[...t,s];if(r.type===k.Fragment){n.push.apply(n,Mm(r.props.children,o));return}mt(r.type===bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Mm(r.props.children,o)),n.push(l)}),n}var Od="get",Pd="application/x-www-form-urlencoded";function Cf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function TP(e){return Cf(e)&&e.tagName.toLowerCase()==="button"}function CP(e){return Cf(e)&&e.tagName.toLowerCase()==="form"}function xP(e){return Cf(e)&&e.tagName.toLowerCase()==="input"}function RP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IP(e,t){return e.button===0&&(!t||t==="_self")&&!RP(e)}var id=null;function AP(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var OP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yp(e){return e!=null&&!OP.has(e)?(rr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):e}function PP(e,t){let n,r,s,o,l;if(CP(e)){let u=e.getAttribute("action");r=u?ps(u,t):null,n=e.getAttribute("method")||Od,s=Yp(e.getAttribute("enctype"))||Pd,o=new FormData(e)}else if(TP(e)||xP(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?ps(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Od,s=Yp(e.getAttribute("formenctype"))||Yp(u.getAttribute("enctype"))||Pd,o=new FormData(u,e),!AP()){let{name:f,type:p,value:g}=e;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,g)}}else{if(Cf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Od,r=null,s=Pd,l=e}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NP(e,t,n,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:t&&ps(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function LP(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DP(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $P(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await LP(o,n);return l.links?l.links():[]}return[]}));return UP(r.flat(1).filter(DP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ES(e,t,n,r,s,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var p;return n[f].pathname!==d.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{var g;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function MP(e,t,{includeHydrateFallback:n}={}){return jP(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function jP(e){return[...new Set(e)]}function FP(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function UP(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(FP(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function fk(){let e=k.useContext(Oa);return Jg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function zP(){let e=k.useContext(Tf);return Jg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yg=k.createContext(void 0);Yg.displayName="FrameworkContext";function hk(){let e=k.useContext(Yg);return Jg(e,"You must render this element inside a <HydratedRouter> element"),e}function BP(e,t){let n=k.useContext(Yg),[r,s]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,v=k.useRef(null);k.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=C=>{C.forEach(T=>{l(T.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[e]),k.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{s(!0)},w=()=>{s(!1),l(!1)};return n?e!=="intent"?[o,v,{}]:[o,v,{onFocus:Dl(u,_),onBlur:Dl(d,w),onMouseEnter:Dl(f,_),onMouseLeave:Dl(p,w),onTouchStart:Dl(g,_)}]:[!1,v,{}]}function Dl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function VP({page:e,...t}){let{router:n}=fk(),r=k.useMemo(()=>Qb(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(HP,{page:e,matches:r,...t}):null}function WP(e){let{manifest:t,routeModules:n}=hk(),[r,s]=k.useState([]);return k.useEffect(()=>{let o=!1;return $P(e,t,n).then(l=>{o||s(l)}),()=>{o=!0}},[e,t,n]),r}function HP({page:e,matches:t,...n}){let r=ci(),{future:s,manifest:o,routeModules:l}=hk(),{basename:u}=fk(),{loaderData:d,matches:f}=zP(),p=k.useMemo(()=>ES(e,t,f,o,r,"data"),[e,t,f,o,r]),g=k.useMemo(()=>ES(e,t,f,o,r,"assets"),[e,t,f,o,r]),v=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,b=!1;if(t.forEach(T=>{var O;let R=o.routes[T.route.id];!R||!R.hasLoader||(!p.some(z=>z.route.id===T.route.id)&&T.route.id in d&&((O=l[T.route.id])!=null&&O.shouldRevalidate)||R.hasClientLoader?b=!0:S.add(T.route.id))}),S.size===0)return[];let C=NP(e,u,s.unstable_trailingSlashAwareDataRequests,"data");return b&&S.size>0&&C.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[u,s.unstable_trailingSlashAwareDataRequests,d,r,o,p,t,e,l]),_=k.useMemo(()=>MP(g,o),[g,o]),w=WP(g);return k.createElement(k.Fragment,null,v.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:b})=>k.createElement("link",{key:S,nonce:n.nonce,...b})))}function qP(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var KP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KP&&(window.__reactRouterVersion="7.12.0")}catch{}function GP({basename:e,children:t,unstable_useTransitions:n,window:r}){let s=k.useRef();s.current==null&&(s.current=CO({window:r,v5Compat:!0}));let o=s.current,[l,u]=k.useState({action:o.action,location:o.location}),d=k.useCallback(f=>{n===!1?u(f):k.startTransition(()=>u(f))},[n]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.createElement(bP,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n})}var pk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mk=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v,..._},w){let{basename:S,unstable_useTransitions:b}=k.useContext(Hn),C=typeof f=="string"&&pk.test(f),T=rk(f,S);f=T.to;let R=oP(f,{relative:s}),[O,z,B]=BP(r,_),$=QP(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:b});function j(J){t&&t(J),J.defaultPrevented||$(J)}let te=k.createElement("a",{..._,...B,href:T.absoluteURL||R,onClick:T.isExternal||o?t:j,ref:qP(w,z),target:d,"data-discover":!C&&n==="render"?"true":void 0});return O&&!C?k.createElement(k.Fragment,null,te,k.createElement(VP,{page:R})):te});mk.displayName="Link";var ZP=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let g=Ru(l,{relative:f.relative}),v=ci(),_=k.useContext(Tf),{navigator:w,basename:S}=k.useContext(Hn),b=_!=null&&r1(g)&&u===!0,C=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,T=v.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(T=T.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&S&&(R=ps(R,S)||R);const O=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=T===C||!s&&T.startsWith(C)&&T.charAt(O)==="/",B=R!=null&&(R===C||!s&&R.startsWith(C)&&R.charAt(C.length)==="/"),$={isActive:z,isPending:B,isTransitioning:b},j=z?t:void 0,te;typeof r=="function"?te=r($):te=[r,z?"active":null,B?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let J=typeof o=="function"?o($):o;return k.createElement(mk,{...f,"aria-current":j,className:te,ref:p,style:J,to:l,viewTransition:u},typeof d=="function"?d($):d)});ZP.displayName="NavLink";var JP=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:l=Od,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v,..._},w)=>{let{unstable_useTransitions:S}=k.useContext(Hn),b=t1(),C=n1(u,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&pk.test(u),O=z=>{if(d&&d(z),z.defaultPrevented)return;z.preventDefault();let B=z.nativeEvent.submitter,$=(B==null?void 0:B.getAttribute("formmethod"))||l,j=()=>b(B||z.currentTarget,{fetcherKey:t,method:$,navigate:n,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v});S&&n!==!1?k.startTransition(()=>j()):j()};return k.createElement("form",{ref:w,method:T,action:C,onSubmit:r?d:O,..._,"data-discover":!R&&e==="render"?"true":void 0})});JP.displayName="Form";function YP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gk(e){let t=k.useContext(Oa);return mt(t,YP(e)),t}function QP(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=Kg(),p=ci(),g=Ru(e,{relative:o});return k.useCallback(v=>{if(IP(v,t)){v.preventDefault();let _=n!==void 0?n:ru(p)===ru(g),w=()=>f(e,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?k.startTransition(()=>w()):w()}},[p,f,g,n,r,t,e,s,o,l,u,d])}var XP=0,e1=()=>`__${String(++XP)}__`;function t1(){let{router:e}=gk("useSubmit"),{basename:t}=k.useContext(Hn),n=_P(),r=e.fetch,s=e.navigate;return k.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:p,body:g}=PP(o,t);if(l.navigate===!1){let v=l.fetcherKey||e1();await r(v,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await s(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,s,t,n])}function n1(e,{relative:t}={}){let{basename:n}=k.useContext(Hn),r=k.useContext(ir);mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Ru(e||".",{relative:t})},l=ci();if(e==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:us([n,o.pathname])),ru(o)}function r1(e,{relative:t}={}){let n=k.useContext(ik);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gk("useViewTransitionState"),s=Ru(e,{relative:t});if(!n.isTransitioning)return!1;let o=ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kd(s.pathname,l)!=null||Kd(s.pathname,o)!=null}var xf=Wb();const s1=Bb(xf),bS=e=>{let t;const n=new Set,r=(f,p)=>{const g=typeof f=="function"?f(t):f;if(!Object.is(g,t)){const v=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(_=>_(t,v))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,s,u);return u},i1=(e=>e?bS(e):bS),o1=e=>e;function a1(e,t=o1){const n=at.useSyncExternalStore(e.subscribe,at.useCallback(()=>t(e.getState()),[e,t]),at.useCallback(()=>t(e.getInitialState()),[e,t]));return at.useDebugValue(n),n}const kS=e=>{const t=i1(e),n=r=>a1(t,r);return Object.assign(n,t),n},l1=(e=>e?kS(e):kS);var TS=function(){return TS=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},TS.apply(this,arguments)};function Rf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function u1(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):s(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}function Z9(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const c1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Qg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class d1 extends Qg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class CS extends Qg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xS extends Qg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jm||(jm={}));class f1{constructor(t,{headers:n={},customFetch:r,region:s=jm.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=c1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return u1(this,arguments,void 0,function*(n,r={}){var s;let o,l;try{const{headers:u,method:d,body:f,signal:p,timeout:g}=r;let v={},{region:_}=r;_||(_=this.region);const w=new URL(`${this.url}/${n}`);_&&_!=="any"&&(v["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let S;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(v["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(v["Content-Type"]="application/json",S=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?S=JSON.stringify(f):S=f;let b=p;g&&(l=new AbortController,o=setTimeout(()=>l.abort(),g),p?(b=l.signal,p.addEventListener("abort",()=>l.abort())):b=l.signal);const C=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:S,signal:b}).catch(z=>{throw new d1(z)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new CS(C);if(!C.ok)throw new xS(C);let R=((s=C.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield C.json():R==="application/octet-stream"||R==="application/pdf"?O=yield C.blob():R==="text/event-stream"?O=C:R==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof xS||u instanceof CS?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var h1=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},p1=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,d=null,f=o.status,p=o.statusText;if(o.ok){var g,v;if(n.method!=="HEAD"){var _;const C=await o.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?u=C:u=JSON.parse(C))}const S=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),b=(v=o.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&b&&b.length>1&&(d=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var w;const S=await o.text();try{l=JSON.parse(S),Array.isArray(l)&&o.status===404&&(u=[],l=null,f=200,p="OK")}catch{o.status===404&&S===""?(f=204,p="No Content"):l={message:S}}if(l&&n.isMaybeSingle&&(!(l==null||(w=l.details)===null||w===void 0)&&w.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&n.shouldThrowOnError)throw new h1(l)}return{error:l,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var l;let u="",d="",f="";const p=o==null?void 0:o.cause;if(p){var g,v,_,w;const C=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",T=(v=p==null?void 0:p.code)!==null&&v!==void 0?v:"";u=`${(_=o==null?void 0:o.name)!==null&&_!==void 0?_:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(w=p==null?void 0:p.name)!==null&&w!==void 0?w:"Error"}: ${C}`,T&&(u+=` (${T})`),p!=null&&p.stack&&(u+=`
${p.stack}`)}else{var S;u=(S=o==null?void 0:o.stack)!==null&&S!==void 0?S:""}const b=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(f="",d="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(f="",d="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(d+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:d,code:f},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},m1=class extends p1{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const RS=new RegExp("[,()]");var Zo=class extends m1{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&RS.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&RS.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},g1=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new Zo({method:s,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new Zo({method:s,url:o,headers:l,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new Zo({method:l,url:u,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Zo({method:r,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Zo({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function y1(e,t){if(su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v1(e){var t=y1(e,"string");return su(t)=="symbol"?t:t+""}function _1(e,t,n){return(t=v1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(n),!0).forEach(function(r){_1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var w1=class yk{constructor(t,{headers:n={},schema:r,fetch:s,timeout:o,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=l;const u=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,f)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),o),v=f==null?void 0:f.signal;if(v){if(v.aborted)return clearTimeout(g),u(d,f);const _=()=>{clearTimeout(g),p.abort()};return v.addEventListener("abort",_,{once:!0}),u(d,od(od({},f),{},{signal:p.signal})).finally(()=>{clearTimeout(g),v.removeEventListener("abort",_)})}return u(d,od(od({},f),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new g1(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new yk(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var l;let u;const d=new URL(`${this.url}/rpc/${t}`);let f;const p=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(p)),g=r&&Object.values(n).some(p);g?(u="POST",f=n):r||s?(u=r?"HEAD":"GET",Object.entries(n).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{d.searchParams.append(_,w)})):(u="POST",f=n);const v=new Headers(this.headers);return g?v.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&v.set("Prefer",`count=${o}`),new Zo({method:u,url:d,headers:v,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class S1{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const E1="2.94.1",b1=`realtime-js/${E1}`,k1="1.0.0",vk="2.0.0",AS=vk,Fm=1e4,T1=1e3,C1=100;var Hs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hs||(Hs={}));var zt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(zt||(zt={}));var Sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sr||(Sr={}));var Um;(function(e){e.websocket="websocket"})(Um||(Um={}));var Li;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Li||(Li={}));class x1{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var s,o;const l=t.topic,u=(s=t.ref)!==null&&s!==void 0?s:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",f=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+g.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(_),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,d.length),w.setUint8(S++,u.length),w.setUint8(S++,l.length),w.setUint8(S++,f.length),w.setUint8(S++,g.length),w.setUint8(S++,n),Array.from(d,C=>w.setUint8(S++,C.charCodeAt(0))),Array.from(u,C=>w.setUint8(S++,C.charCodeAt(0))),Array.from(l,C=>w.setUint8(S++,C.charCodeAt(0))),Array.from(f,C=>w.setUint8(S++,C.charCodeAt(0))),Array.from(g,C=>w.setUint8(S++,C.charCodeAt(0)));var b=new Uint8Array(_.byteLength+r.byteLength);return b.set(new Uint8Array(_),0),b.set(new Uint8Array(r),_.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,l,u,d]=r;return n({join_ref:s,ref:o,topic:l,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+s));d=d+s;const p=r.decode(t.slice(d,d+o));d=d+o;const g=r.decode(t.slice(d,d+l));d=d+l;const v=t.slice(d,t.byteLength),_=u===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,w={type:this.BROADCAST_EVENT,event:p,payload:_};return l>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class _k{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ct||(ct={}));const OS=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=R1(l,e,t,s),o),{}):{}},R1=(e,t,n,r)=>{const s=t.find(u=>u.name===e),o=s==null?void 0:s.type,l=n[e];return o&&!r.includes(o)?wk(o,l):zm(l)},wk=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return P1(t,n)}switch(e){case ct.bool:return I1(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return A1(t);case ct.json:case ct.jsonb:return O1(t);case ct.timestamp:return N1(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return zm(t);default:return zm(t)}},zm=e=>e,I1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},A1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},O1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},P1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>wk(t,u))}return e},N1=e=>typeof e=="string"?e.replace(" ","T"):e,Sk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Qp{constructor(t,n,r={},s=Fm){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var PS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(PS||(PS={}));class ql{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ql.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=ql.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ql.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const g=o[f];if(g){const v=p.map(b=>b.presence_ref),_=g.map(b=>b.presence_ref),w=p.filter(b=>_.indexOf(b.presence_ref)<0),S=g.filter(b=>v.indexOf(b.presence_ref)<0);w.length>0&&(u[f]=w),S.length>0&&(d[f]=S)}else u[f]=p}),this.syncDiff(o,{joins:u,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,d)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),p.length>0){const g=t[u].map(_=>_.presence_ref),v=p.filter(_=>g.indexOf(_.presence_ref)<0);t[u].unshift(...v)}r(u,p,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const p=d.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=f,s(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var NS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(NS||(NS={}));var Kl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kl||(Kl={}));var as;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(as||(as={}));class ta{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qp(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new _k(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new ql(this),this.broadcastEndpointURL=Sk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Kl.PRESENCE]&&this.bindings[Kl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(as.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(as.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(as.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,b=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,C=[];for(let T=0;T<b;T++){const R=S[T],{filter:{event:O,schema:z,table:B,filter:$}}=R,j=_&&_[T];if(j&&j.event===O&&ta.isFilterValueEqual(j.schema,z)&&ta.isFilterValueEqual(j.table,B)&&ta.isFilterValueEqual(j.filter,$))C.push(Object.assign(Object.assign({},R),{id:j.id}));else{this.unsubscribe(),this.state=zt.errored,t==null||t(as.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(as.SUBSCRIBED);return}}).receive("error",_=>{this.state=zt.errored,t==null||t(as.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(as.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===zt.joined&&t===Kl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=zt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Qp(this,Sr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Qp(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>C1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=Sr;if(r&&[u,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var w,S,b;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(S=_.filter)===null||S===void 0?void 0:S.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var w,S,b,C,T,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const O=_.id,z=(w=_.filter)===null||w===void 0?void 0:w.event;return O&&((S=n.ids)===null||S===void 0?void 0:S.includes(O))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const O=(T=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return O==="*"||O===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:b,commit_timestamp:C,type:T,errors:R}=w;v=Object.assign(Object.assign({},{schema:S,table:b,commit_timestamp:C,eventType:T,new:{},old:{},errors:R}),this._getPayloadRecords(w))}_.callback(v,r)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&ta.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sr.close,{},t)}_onError(t){this._on(Sr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=OS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=OS(t.columns,t.old_record)),n}}const Xp=()=>{},ad={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L1=[1e3,2e3,5e3,1e4],D1=1e4,$1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class M1{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fm,this.transport=null,this.heartbeatIntervalMs=ad.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xp,this.ref=0,this.reconnectTimer=null,this.vsn=AS,this.logger=Xp,this.conn=null,this.sendBuffer=[],this.serializer=new x1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Um.websocket}`,this.httpEndpoint=Sk(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=S1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hs.connecting:return Li.Connecting;case Hs.open:return Li.Open;case Hs.closing:return Li.Closing;default:return Li.Closed}}isConnected(){return this.connectionState()===Li.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new ta(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(T1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ad.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${s} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Hs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hs.open||this.conn.readyState===Hs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([$1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:b1};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Sr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _k(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ad.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,l,u,d,f,p,g,v,_;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Fm,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ad.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Xp,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:AS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(w=>L1[w-1]||D1),this.vsn){case k1:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((w,S)=>S(JSON.stringify(w))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((w,S)=>S(JSON.parse(w)));break;case vk:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var iu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function j1(e,t,n){const r=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function F1(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function U1(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:l}){const u=j1(e.baseUrl,r,s),d=await F1(e.auth),f=await t(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),p=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),v=g&&p?JSON.parse(p):p;if(!f.ok){const _=g?v:void 0,w=_==null?void 0:_.error;throw new iu((w==null?void 0:w.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:_})}return{status:f.status,headers:f.headers,data:v}}}}function ld(e){return e.join("")}var z1=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ld(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ld(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ld(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ld(e.namespace)}`}),!0}catch(t){if(t instanceof iu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof iu&&n.status===409)return;throw n}}};function jo(e){return e.join("")}var B1=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof iu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof iu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},V1=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=U1({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new z1(this.client,t),this.tableOps=new B1(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},If=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Af(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ud=class extends If{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ek=class extends If{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const W1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),H1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bm=e=>{if(Array.isArray(e))return e.map(n=>Bm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Bm(r)}),t},q1=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function K1(e,t){if(ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1(e){var t=K1(e,"string");return ou(t)=="symbol"?t:t+""}function Z1(e,t,n){return(t=G1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(n),!0).forEach(function(r){Z1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const DS=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},J1=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";t(new ud(DS(l),o,u,r))}).catch(()=>{if(r==="vectors"){const l=o+"";t(new ud(s.statusText||`HTTP ${o} error`,o,l,r))}else{const l=o+"";t(new ud(s.statusText||`HTTP ${o} error`,o,l,r))}});else{const l=o+"";t(new ud(s.statusText||`HTTP ${o} error`,o,l,r))}}else t(new Ek(DS(e),e,r))},Y1=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?Oe(Oe({},s),n):(H1(r)?(s.headers=Oe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Oe(Oe({},s),n))};async function $l(e,t,n,r,s,o,l){return new Promise((u,d)=>{e(n,Y1(t,r,s,o)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;if(l==="vectors"){const p=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!p||!p.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>J1(f,d,r,l))})}function bk(e="storage"){return{get:async(t,n,r,s)=>$l(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,o)=>$l(t,"POST",n,s,o,r,e),put:async(t,n,r,s,o)=>$l(t,"PUT",n,s,o,r,e),head:async(t,n,r,s)=>$l(t,"HEAD",n,Oe(Oe({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,o)=>$l(t,"DELETE",n,s,o,r,e)}}const Q1=bk("storage"),{get:au,post:vr,put:Vm,head:X1,remove:Xg}=Q1,zn=bk("vectors");var Na=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=W1(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Af(n))return{data:null,error:n};throw n}}},eN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Af(t))return{data:null,error:t};throw t}}};let kk;kk=Symbol.toStringTag;var tN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[kk]="BlobDownloadBuilder",this.promise=null}asStream(){return new eN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Af(t))return{data:null,error:t};throw t}}};const nN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$S={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var rN=class extends Na{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let o;const l=Oe(Oe({},$S),r);let u=Oe(Oe({},s.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",s.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(d))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=Oe(Oe({},u),r.headers));const f=s._removeEmptyFolders(t),p=s._getFinalPath(f),g=await(e=="PUT"?Vm:vr)(s.fetch,`${s.url}/object/${p}`,o,Oe({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:f,id:g.Id,fullPath:g.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const o=s._removeEmptyFolders(e),l=s._getFinalPath(o),u=new URL(s.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",t),s.handleOperation(async()=>{let d;const f=Oe({upsert:$S.upsert},r),p=Oe(Oe({},s.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{path:o,fullPath:(await Vm(s.fetch,u.toString(),d,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=Oe({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await vr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(n.url+o.url),u=l.searchParams.get("token");if(!u)throw new If("No token returned by API");return{signedUrl:l.toString(),path:e,token:u}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await vr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await vr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),o=await vr(r.fetch,`${r.url}/object/sign/${s}`,Oe({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await vr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>Oe(Oe({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${o}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",o=this._getFinalPath(e),l=()=>au(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new tN(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Bm(await au(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await X1(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Af(r)&&r instanceof Ek){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Xg(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=Oe(Oe(Oe({},nN),t),{},{prefix:e||""});return await vr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Oe({},e);return await vr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const sN="2.94.1",Iu={"X-Client-Info":`storage-js/${sN}`};var iN=class extends Na{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),l=Oe(Oe({},Iu),t);super(o,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await au(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await au(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await vr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Vm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await vr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Xg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},oN=class extends Na{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Oe(Oe({},Iu),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await vr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await au(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Xg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!q1(e))throw new If("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new V1({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const l=s[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(s,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},aN=class extends Na{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Oe(Oe({},Iu),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await zn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await zn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},lN=class extends Na{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Oe(Oe({},Iu),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},uN=class extends Na{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Oe(Oe({},Iu),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await zn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},cN=class extends uN{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new dN(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},dN=class extends aN{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Oe(Oe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Oe(Oe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new fN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},fN=class extends lN{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Oe(Oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Oe(Oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Oe(Oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Oe(Oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Oe(Oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},hN=class extends iN{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new rN(this.url,this.headers,e,this.fetch)}get vectors(){return new cN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oN(this.url+"/iceberg",this.headers,this.fetch)}};const Tk="2.94.1",Jo=30*1e3,Wm=3,em=Wm*Jo,pN="http://localhost:9999",mN="supabase.auth.token",gN={"X-Client-Info":`gotrue-js/${Tk}`},Hm="X-Supabase-Api-Version",Ck={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vN=600*1e3;class lu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _N extends lu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wN(e){return be(e)&&e.name==="AuthApiError"}class Di extends lu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ws extends lu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Fn extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tm(e){return be(e)&&e.name==="AuthSessionMissingError"}class Fo extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cd extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dd extends ws{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SN(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class MS extends ws{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class EN extends ws{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class qm extends ws{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nm(e){return be(e)&&e.name==="AuthRetryableFetchError"}class jS extends ws{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Km extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FS=` 	
\r=`.split(""),bN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<FS.length;t+=1)e[FS[t].charCodeAt(0)]=-2;for(let t=0;t<Gd.length;t+=1)e[Gd[t].charCodeAt(0)]=t;return e})();function US(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gd[r]),t.queuedBits-=6}}function xk(e,t,n){const r=bN[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zS(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{CN(l,r,n)};for(let l=0;l<e.length;l+=1)xk(e.charCodeAt(l),s,o);return t.join("")}function kN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TN(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}kN(r,t)}}function CN(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ca(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)xk(e.charCodeAt(s),n,r);return new Uint8Array(t)}function xN(e){const t=[];return TN(e,n=>t.push(n)),new Uint8Array(t)}function Mi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>US(s,n,r)),US(null,n,r),t.join("")}function RN(e){return Math.round(Date.now()/1e3)+e}function IN(){return Symbol("auth-callback")}const Qt=()=>typeof window<"u"&&typeof document<"u",Ai={tested:!1,writable:!1},Rk=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ai.tested)return Ai.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ai.tested=!0,Ai.writable=!0}catch{Ai.tested=!0,Ai.writable=!1}return Ai.writable};function AN(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Ik=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ON=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Oi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yt=async(e,t)=>{await e.removeItem(t)};class Of{constructor(){this.promise=new Of.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Of.promiseConstructor=Promise;function fd(e){const t=e.split(".");if(t.length!==3)throw new Km("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!yN.test(t[r]))throw new Km("JWT not in base64url format");return{header:JSON.parse(zS(t[0])),payload:JSON.parse(zS(t[1])),signature:ca(t[2]),raw:{header:t[0],payload:t[1]}}}async function PN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function NN(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function LN(e){return("0"+e.toString(16)).substr(-2)}function DN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,LN).join("")}async function $N(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function MN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await $N(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Uo(e,t,n=!1){const r=DN();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Yo(e,`${t}-code-verifier`,s);const o=await MN(r);return[o,r===o?"plain":"s256"]}const jN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FN(e){const t=e.headers.get(Hm);if(!t||!t.match(jN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function UN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zo(e){if(!BN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VN(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function BS(e){return JSON.parse(JSON.stringify(e))}const Ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WN=[502,503,504];async function VS(e){var t;if(!ON(e))throw new qm(Ni(e),0);if(WN.includes(e.status))throw new qm(Ni(e),e.status);let n;try{n=await e.json()}catch(o){throw new Di(Ni(o),o)}let r;const s=FN(e);if(s&&s.getTime()>=Ck["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jS(Ni(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Fn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new jS(Ni(n),e.status,n.weak_password.reasons);throw new _N(Ni(n),e.status||500,r)}const HN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ae(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Hm]||(o[Hm]=Ck["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await qN(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function qN(e,t,n,r,s,o){const l=HN(t,r,s,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new qm(Ni(d),0)}if(u.ok||await VS(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await VS(d)}}function mr(e){var t;let n=null;ZN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=RN(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function WS(e){const t=mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function KN(e){return{data:e,error:null}}function GN(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,l=Rf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function HS(e){return e}function ZN(e){return e.access_token&&e.refresh_token&&e.expires_in}const sm=["global","local","others"];class JN{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ik(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=sm[0]){if(sm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sm.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Gs})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Rf(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:GN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gs})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:HS});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);f[`${b}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(be(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){zo(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gs})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){zo(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Gs})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){zo(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Gs})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){zo(t.userId);try{const{data:n,error:r}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){zo(t.userId),zo(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:HS});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);f[`${b}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(be(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function qS(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Bo={debug:!!(globalThis&&Rk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ak extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YN extends Ak{}async function QN(e,t,n){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function XN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ok(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function eL(e){return parseInt(e,16)}function tL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function nL(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=Ok(e.address),w=p?`${p}://${r}`:r,S=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${_}

${S}`;let C=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(C+=`
Expiration Time: ${s.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),d&&(C+=`
Request ID: ${d}`),f){let T=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);T+=`
- ${R}`}C+=T}return`${b}
${C}`}class Pt extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Zd extends Pt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function rL({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Pk(l)){if(o.rp.id!==l)return new Pt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function sL({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Pk(r)){if(n.rpId!==r)return new Pt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iL{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const oL=new iL;function aL(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Rf(e,["challenge","user","excludeCredentials"]),o=ca(t).buffer,l=Object.assign(Object.assign({},n),{id:ca(n.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:ca(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function lL(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Rf(e,["challenge","allowCredentials"]),s=ca(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:ca(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function uL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mi(new Uint8Array(s.authenticatorData)),clientDataJSON:Mi(new Uint8Array(s.clientDataJSON)),signature:Mi(new Uint8Array(s.signature)),userHandle:s.userHandle?Mi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Pk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function KS(){var e,t;return!!(Qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function dL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zd("Browser returned unexpected credential type",t)}:{data:null,error:new Zd("Empty credential response",t)}}catch(t){return{data:null,error:rL({error:t,options:e})}}}async function fL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zd("Browser returned unexpected credential type",t)}:{data:null,error:new Zd("Empty credential response",t)}}catch(t){return{data:null,error:sL({error:t,options:e})}}}const hL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Jd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=Jd(u,l):r[o]=Jd(l)}else r[o]=l}return r}function mL(e,t){return Jd(hL,e,t||{})}function gL(e,t){return Jd(pL,e,t||{})}class yL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){var l;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:d};const f=s??oL.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;if(!p.name){const g=r;if(g)p.name=`${p.id}:${g}`;else{const _=(await this.client.getUser()).data.user,w=((l=_==null?void 0:_.user_metadata)===null||l===void 0?void 0:l.name)||(_==null?void 0:_.email)||(_==null?void 0:_.id)||"User";p.name=`${p.id}:${w}`}}p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=mL(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:g,error:v}=await dL({publicKey:p,signal:f});return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=gL(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:g,error:v}=await fL(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(u){return be(u)?{data:null,error:u}:{data:null,error:new Di("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new lu("rpId is required for WebAuthn authentication")};try{if(!KS())return{data:null,error:new Di("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return be(l)?{data:null,error:l}:{data:null,error:new Di("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new lu("rpId is required for WebAuthn registration")};try{if(!KS())return{data:null,error:new Di("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return be(l)?{data:null,error:l}:{data:null,error:new Di("Unexpected error in register",l)}}}}XN();const vL={url:pN,storageKey:mN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function GS(e,t,n){return await n()}const Vo={};class uu{get jwks(){var t,n;return(n=(t=Vo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Vo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},vL),t);if(this.storageKey=o.storageKey,this.instanceID=(n=uu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,uu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Qt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new JN({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ik(o.fetch),this.lock=o.lock||GS,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Qt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=QN:this.lock=GS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Rk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qS(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=qS(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Tk}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Qt()&&(n=AN(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Qt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),SN(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new Di("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:mr}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:p,password:g,options:v}=t;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await Uo(this.storage,this.storageKey)),o=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:w},xform:mr})}else if("phone"in t){const{phone:p,password:g,options:v}=t;o=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:mr})}else throw new cd("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await Yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:WS})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:WS})}else throw new cd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new Fo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,l,u,d,f,p,g,v;let _,w;if("message"in t)_=t.message,w=t.signature;else{const{chain:S,wallet:b,statement:C,options:T}=t;let R;if(Qt())if(typeof b=="object")R=b;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")R=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=b}const O=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href),z=await R.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=Ok(z[0]);let $=(r=T==null?void 0:T.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const te=await R.request({method:"eth_chainId"});$=eL(te)}const j={domain:O.host,address:B,statement:C,uri:O.href,version:"1",chainId:$,nonce:(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=T==null?void 0:T.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=T==null?void 0:T.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=T==null?void 0:T.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=T==null?void 0:T.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=T==null?void 0:T.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=nL(j),w=await R.request({method:"personal_sign",params:[tL(_),B]})}try{const{data:S,error:b}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:mr});if(b)throw b;if(!S||!S.session||!S.user){const C=new Fo;return this._returnResult({data:{user:null,session:null},error:C})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:b})}catch(S){if(be(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,r,s,o,l,u,d,f,p,g,v,_;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:b,wallet:C,statement:T,options:R}=t;let O;if(Qt())if(typeof C=="object")O=C;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))O=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=C}const z=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const B=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),T?{statement:T}:null));let $;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")$=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)$=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)w=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${z.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(s=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((g=(p=R==null?void 0:R.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...R.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const B=await O.signMessage(new TextEncoder().encode(w),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=B}}try{const{data:b,error:C}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Mi(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:mr});if(C)throw C;if(!b||!b.session||!b.user){const T=new Fo;return this._returnResult({data:{user:null,session:null},error:T})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:C})}catch(b){if(be(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await Oi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new EN;const{data:o,error:l}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:mr});if(await Yt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new Fo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:l}=t,u=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mr}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new Fo;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,o,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Uo(this.storage,this.storageKey));const{error:g}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:p}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new cd("You must provide either an email or phone number.")}catch(u){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:mr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Uo(this.storage,this.storageKey));const f=await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:KN});return!((o=f.data)===null||o===void 0)&&o.url&&Qt()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Fn;const{error:s}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:l}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:l,error:u}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new cd("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Oi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<em:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Oi(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=rm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=VN(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gs}):await this._useSession(async n=>{var r,s,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fn}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Gs})})}catch(n){if(be(n))return tm(n)&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Fn;const l=s.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Uo(this.storage,this.storageKey));const{data:f,error:p}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Gs});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:l}=fd(t.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Fn;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Qt())throw new dd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new dd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new MS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new MS("No code detected.");const{data:T,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!o||!u||!l||!f)throw new dd("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let v=p+g;d&&(v=parseInt(d));const _=v-p;_*1e3<=Jo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${g}s`);const w=v-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:S,error:b}=await this._getUser(o);if(b)throw b;const C={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Oi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o&&!tm(o))return this._returnResult({error:o});const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(wN(u)&&(u.status===404||u.status===401||u.status===403)||tm(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=IN(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Uo(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var l,u,d,f,p;const{data:g,error:v}=o;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Qt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:u,token:d,access_token:f,nonce:p}=t,g=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mr}),{data:v,error:_}=g;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Fo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(s){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)throw l;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await NN(async s=>(s>0&&await PN(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mr})),(s,o)=>{const l=200*Math.pow(2,s);return o&&nm(o)&&Date.now()+l-r<Jo})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Oi(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Oi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Yo(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:rm()}else if(s&&!s.user&&!s.user){const l=await Oi(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Yt(this.storage,this.storageKey+"-user"),await Yo(this.storage,this.storageKey,s)):s.user=rm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<em;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${em}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),nm(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(s.access_token);!u&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Of;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Fn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),be(o)){const l={data:null,error:o};return nm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Yt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Yo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=BS(s);await Yo(this.storage,this.storageKey,o)}else{const s=BS(n);await Yo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Yt(this.storage,this.storageKey),await Yt(this.storage,this.storageKey+"-code-verifier"),await Yt(this.storage,this.storageKey+"-user"),this.userStorage&&await Yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Jo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Jo}ms, refresh threshold is ${Wm} ticks`),s<=Wm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ak)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Uo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?uL(t.webauthn.credential_response):cL(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:aL(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:lL(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,o;if(t)try{const{payload:_}=fd(t);let w=null;_.aal&&(w=_.aal);let S=w;const{data:{user:b},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((r=(n=b==null?void 0:b.factors)===null||n===void 0?void 0:n.filter(O=>O.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(S="aal2");const R=_.amr||[];return{data:{currentLevel:w,nextLevel:S,currentAuthenticationMethods:R},error:null}}catch(_){if(be(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=fd(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Fn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Fn});const l=await Ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Qt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Fn});const l=await Ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Qt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Fn})})}catch(t){if(be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await Ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Fn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+vN>s)return r;const{data:o,error:l}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:w}=await this.getSession();if(w||!_.session)return this._returnResult({data:null,error:w});r=_.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:d}}=fd(r);n!=null&&n.allowExpired||UN(o.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:o,header:s,signature:l},error:null}}const p=zN(s.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,xN(`${u}.${d}`)))throw new Km("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}uu.nextInstanceID={};const _L=uu,wL="2.94.1";let Bl="";typeof Deno<"u"?Bl="deno":typeof document<"u"?Bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bl="react-native":Bl="node";const SL={"X-Client-Info":`supabase-js-${Bl}/${wL}`},EL={headers:SL},bL={schema:"public"},kL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TL={};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function CL(e,t){if(cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xL(e){var t=CL(e,"string");return cu(t)=="symbol"?t:t+""}function RL(e,t,n){return(t=xL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(n),!0).forEach(function(r){RL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const IL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AL=()=>Headers,OL=(e,t,n)=>{const r=IL(n),s=AL();return async(o,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Tt(Tt({},l),{},{headers:f}))}};function PL(e){return e.endsWith("/")?e:e+"/"}function NL(e,t){var n,r;const{db:s,auth:o,realtime:l,global:u}=e,{db:d,auth:f,realtime:p,global:g}=t,v={db:Tt(Tt({},d),s),auth:Tt(Tt({},f),o),realtime:Tt(Tt({},p),l),storage:{},global:Tt(Tt(Tt({},g),u),{},{headers:Tt(Tt({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function LL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var DL=class extends _L{constructor(e){super(e)}},$L=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const o=LL(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:bL,realtime:TL,auth:Tt(Tt({},kL),{},{storageKey:l}),global:EL},d=NL(n??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=OL(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Tt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new w1(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new hN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new f1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:l,lock:u,debug:d,throwOnError:f},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new DL({url:this.authUrl.href,headers:Tt(Tt({},v),p),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:l,lock:u,debug:d,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new M1(this.realtimeUrl.href,Tt(Tt({},e),{},{params:Tt(Tt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ML=(e,t,n)=>new $L(e,t,n);function jL(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}jL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function Y(e,t,n){function r(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const f=l.prototype,p=Object.keys(f);for(let g=0;g<p.length;g++){const v=p[g];v in u||(u[v]=f[v].bind(u))}}const s=(n==null?void 0:n.Parent)??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function l(u){var d;const f=n!=null&&n.Parent?new o:this;r(f,u),(d=f._zod).deferred??(d.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>{var d,f;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(f=(d=u==null?void 0:u._zod)==null?void 0:d.traits)==null?void 0:f.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class da extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Nk extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Lk={};function Yi(e){return Lk}function Dk(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function Gm(e,t){return typeof t=="bigint"?t.toString():t}function ey(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ty(e){return e==null}function ny(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const JS=Symbol("evaluating");function st(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==JS)return r===void 0&&(r=JS,r=n()),r},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function io(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function di(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function YS(e){return JSON.stringify(e)}function FL(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const $k="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Yd(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const UL=ey(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function du(e){if(Yd(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Yd(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Mk(e){return du(e)?{...e}:Array.isArray(e)?[...e]:e}const zL=new Set(["string","number","symbol"]);function Pf(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fi(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function $e(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function BL(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function VL(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=di(e._zod.def,{get shape(){const l={};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&(l[u]=n.shape[u])}return io(this,"shape",l),l},checks:[]});return fi(e,o)}function WL(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=di(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&delete l[u]}return io(this,"shape",l),l},checks:[]});return fi(e,o)}function HL(e,t){if(!du(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const o=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(o,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=di(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return io(this,"shape",o),o}});return fi(e,s)}function qL(e,t){if(!du(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=di(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return io(this,"shape",r),r}});return fi(e,n)}function KL(e,t){const n=di(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return io(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return fi(e,n)}function GL(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=di(t._zod.def,{get shape(){const u=t._zod.def.shape,d={...u};if(n)for(const f in n){if(!(f in u))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(d[f]=e?new e({type:"optional",innerType:u[f]}):u[f])}else for(const f in u)d[f]=e?new e({type:"optional",innerType:u[f]}):u[f];return io(this,"shape",d),d},checks:[]});return fi(t,l)}function ZL(e,t,n){const r=di(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(n)for(const l in n){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(o[l]=new e({type:"nonoptional",innerType:s[l]}))}else for(const l in s)o[l]=new e({type:"nonoptional",innerType:s[l]});return io(this,"shape",o),o}});return fi(t,r)}function na(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function jk(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function hd(e){return typeof e=="string"?e:e==null?void 0:e.message}function Qi(e,t,n){var s,o,l,u,d,f;const r={...e,path:e.path??[]};if(!e.message){const p=hd((l=(o=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:o.error)==null?void 0:l.call(o,e))??hd((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??hd((d=n.customError)==null?void 0:d.call(n,e))??hd((f=n.localeError)==null?void 0:f.call(n,e))??"Invalid input";r.message=p}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function ry(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function fu(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Fk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Gm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},sy=Y("$ZodError",Fk),Nf=Y("$ZodError",Fk,{Parent:Error});function JL(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function YL(e,t=n=>n.message){const n={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>r({issues:l}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(t(o));else{let l=n,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return r(e),n}const Lf=e=>(t,n,r,s)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new da;if(l.issues.length){const u=new((s==null?void 0:s.Err)??e)(l.issues.map(d=>Qi(d,o,Yi())));throw $k(u,s==null?void 0:s.callee),u}return l.value},QL=Lf(Nf),Df=e=>async(t,n,r,s)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new((s==null?void 0:s.Err)??e)(l.issues.map(d=>Qi(d,o,Yi())));throw $k(u,s==null?void 0:s.callee),u}return l.value},XL=Df(Nf),$f=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new da;return o.issues.length?{success:!1,error:new(e??sy)(o.issues.map(l=>Qi(l,s,Yi())))}:{success:!0,data:o.value}},eD=$f(Nf),Mf=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(l=>Qi(l,s,Yi())))}:{success:!0,data:o.value}},tD=Mf(Nf),nD=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Lf(e)(t,n,s)},rD=e=>(t,n,r)=>Lf(e)(t,n,r),sD=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Df(e)(t,n,s)},iD=e=>async(t,n,r)=>Df(e)(t,n,r),oD=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return $f(e)(t,n,s)},aD=e=>(t,n,r)=>$f(e)(t,n,r),lD=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Mf(e)(t,n,s)},uD=e=>async(t,n,r)=>Mf(e)(t,n,r),cD=/^[cC][^\s-]{8,}$/,dD=/^[0-9a-z]+$/,fD=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,hD=/^[0-9a-vA-V]{20}$/,pD=/^[A-Za-z0-9]{27}$/,mD=/^[a-zA-Z0-9_-]{21}$/,gD=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,yD=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,QS=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,vD=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_D="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function wD(){return new RegExp(_D,"u")}const SD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ED=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,bD=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,kD=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,TD=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Uk=/^[A-Za-z0-9_-]*$/,CD=/^\+[1-9]\d{6,14}$/,zk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",xD=new RegExp(`^${zk}$`);function Bk(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function RD(e){return new RegExp(`^${Bk(e)}$`)}function ID(e){const t=Bk({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${zk}T(?:${r})$`)}const AD=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},OD=/^(?:true|false)$/i,PD=/^[^A-Z]*$/,ND=/^[^a-z]*$/,Vr=Y("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),LD=Y("$ZodCheckMaxLength",(e,t)=>{var n;Vr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!ty(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const l=ry(s);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),DD=Y("$ZodCheckMinLength",(e,t)=>{var n;Vr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!ty(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const l=ry(s);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),$D=Y("$ZodCheckLengthEquals",(e,t)=>{var n;Vr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!ty(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,o=s.length;if(o===t.length)return;const l=ry(s),u=o>t.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),jf=Y("$ZodCheckStringFormat",(e,t)=>{var n,r;Vr.init(e,t),e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),MD=Y("$ZodCheckRegex",(e,t)=>{jf.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),jD=Y("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=PD),jf.init(e,t)}),FD=Y("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=ND),jf.init(e,t)}),UD=Y("$ZodCheckIncludes",(e,t)=>{Vr.init(e,t);const n=Pf(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),zD=Y("$ZodCheckStartsWith",(e,t)=>{Vr.init(e,t);const n=new RegExp(`^${Pf(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),BD=Y("$ZodCheckEndsWith",(e,t)=>{Vr.init(e,t);const n=new RegExp(`.*${Pf(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),VD=Y("$ZodCheckOverwrite",(e,t)=>{Vr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class WD{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),o=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of o)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,s.join(`
`))}}const HD={major:4,minor:3,patch:6},Dt=Y("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=HD;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const l of o._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const o=(u,d,f)=>{let p=na(u),g;for(const v of d){if(v._zod.def.when){if(!v._zod.def.when(u))continue}else if(p)continue;const _=u.issues.length,w=v._zod.check(u);if(w instanceof Promise&&(f==null?void 0:f.async)===!1)throw new da;if(g||w instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await w,u.issues.length!==_&&(p||(p=na(u,_)))});else{if(u.issues.length===_)continue;p||(p=na(u,_))}}return g?g.then(()=>u):u},l=(u,d,f)=>{if(na(u))return u.aborted=!0,u;const p=o(d,r,f);if(p instanceof Promise){if(f.async===!1)throw new da;return p.then(g=>e._zod.parse(g,f))}return e._zod.parse(p,f)};e._zod.run=(u,d)=>{if(d.skipChecks)return e._zod.parse(u,d);if(d.direction==="backward"){const p=e._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return p instanceof Promise?p.then(g=>l(g,u,d)):l(p,u,d)}const f=e._zod.parse(u,d);if(f instanceof Promise){if(d.async===!1)throw new da;return f.then(p=>o(p,r,d))}return o(f,r,d)}}st(e,"~standard",()=>({validate:o=>{var l;try{const u=eD(e,o);return u.success?{value:u.data}:{issues:(l=u.error)==null?void 0:l.issues}}catch{return tD(e,o).then(d=>{var f;return d.success?{value:d.data}:{issues:(f=d.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}))}),iy=Y("$ZodString",(e,t)=>{var n;Dt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??AD(e._zod.bag),e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),gt=Y("$ZodStringFormat",(e,t)=>{jf.init(e,t),iy.init(e,t)}),qD=Y("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=yD),gt.init(e,t)}),KD=Y("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=QS(r))}else t.pattern??(t.pattern=QS());gt.init(e,t)}),GD=Y("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=vD),gt.init(e,t)}),ZD=Y("$ZodURL",(e,t)=>{gt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),JD=Y("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=wD()),gt.init(e,t)}),YD=Y("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=mD),gt.init(e,t)}),QD=Y("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=cD),gt.init(e,t)}),XD=Y("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=dD),gt.init(e,t)}),e$=Y("$ZodULID",(e,t)=>{t.pattern??(t.pattern=fD),gt.init(e,t)}),t$=Y("$ZodXID",(e,t)=>{t.pattern??(t.pattern=hD),gt.init(e,t)}),n$=Y("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=pD),gt.init(e,t)}),r$=Y("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=ID(t)),gt.init(e,t)}),s$=Y("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=xD),gt.init(e,t)}),i$=Y("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=RD(t)),gt.init(e,t)}),o$=Y("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=gD),gt.init(e,t)}),a$=Y("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=SD),gt.init(e,t),e._zod.bag.format="ipv4"}),l$=Y("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=ED),gt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),u$=Y("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=bD),gt.init(e,t)}),c$=Y("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=kD),gt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,o]=r;if(!o)throw new Error;const l=Number(o);if(`${l}`!==o)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Vk(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const d$=Y("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=TD),gt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Vk(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function f$(e){if(!Uk.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Vk(n)}const h$=Y("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Uk),gt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{f$(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),p$=Y("$ZodE164",(e,t)=>{t.pattern??(t.pattern=CD),gt.init(e,t)});function m$(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const g$=Y("$ZodJWT",(e,t)=>{gt.init(e,t),e._zod.check=n=>{m$(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),y$=Y("$ZodBoolean",(e,t)=>{Dt.init(e,t),e._zod.pattern=OD,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),v$=Y("$ZodUnknown",(e,t)=>{Dt.init(e,t),e._zod.parse=n=>n}),_$=Y("$ZodNever",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function XS(e,t,n){e.issues.length&&t.issues.push(...jk(n,e.issues)),t.value[n]=e.value}const w$=Y("$ZodArray",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const o=[];for(let l=0;l<s.length;l++){const u=s[l],d=t.element._zod.run({value:u,issues:[]},r);d instanceof Promise?o.push(d.then(f=>XS(f,n,l))):XS(d,n,l)}return o.length?Promise.all(o).then(()=>n):n}});function Qd(e,t,n,r,s){if(e.issues.length){if(s&&!(n in r))return;t.issues.push(...jk(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Wk(e){var r,s,o,l;const t=Object.keys(e.shape);for(const u of t)if(!((l=(o=(s=(r=e.shape)==null?void 0:r[u])==null?void 0:s._zod)==null?void 0:o.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=BL(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Hk(e,t,n,r,s,o){const l=[],u=s.keySet,d=s.catchall._zod,f=d.def.type,p=d.optout==="optional";for(const g in t){if(u.has(g))continue;if(f==="never"){l.push(g);continue}const v=d.run({value:t[g],issues:[]},r);v instanceof Promise?e.push(v.then(_=>Qd(_,n,g,t,p))):Qd(v,n,g,t,p)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const S$=Y("$ZodObject",(e,t)=>{Dt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const r=ey(()=>Wk(t));st(e._zod,"propValues",()=>{const u=t.shape,d={};for(const f in u){const p=u[f]._zod;if(p.values){d[f]??(d[f]=new Set);for(const g of p.values)d[f].add(g)}}return d});const s=Yd,o=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=r.value);const f=u.value;if(!s(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u;u.value={};const p=[],g=l.shape;for(const v of l.keys){const _=g[v],w=_._zod.optout==="optional",S=_._zod.run({value:f[v],issues:[]},d);S instanceof Promise?p.push(S.then(b=>Qd(b,u,v,f,w))):Qd(S,u,v,f,w)}return o?Hk(p,f,u,d,r.value,e):p.length?Promise.all(p).then(()=>u):u}}),E$=Y("$ZodObjectJIT",(e,t)=>{S$.init(e,t);const n=e._zod.parse,r=ey(()=>Wk(t)),s=v=>{var R;const _=new WD(["shape","payload","ctx"]),w=r.value,S=O=>{const z=YS(O);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};_.write("const input = payload.value;");const b=Object.create(null);let C=0;for(const O of w.keys)b[O]=`key_${C++}`;_.write("const newResult = {};");for(const O of w.keys){const z=b[O],B=YS(O),$=v[O],j=((R=$==null?void 0:$._zod)==null?void 0:R.optout)==="optional";_.write(`const ${z} = ${S(O)};`),j?_.write(`
        if (${z}.issues.length) {
          if (${B} in input) {
            payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${B}, ...iss.path] : [${B}]
            })));
          }
        }
        
        if (${z}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${z}.value;
        }
        
      `):_.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${B}, ...iss.path] : [${B}]
          })));
        }
        
        if (${z}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${z}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const T=_.compile();return(O,z)=>T(v,O,z)};let o;const l=Yd,u=!Lk.jitless,f=u&&UL.value,p=t.catchall;let g;e._zod.parse=(v,_)=>{g??(g=r.value);const w=v.value;return l(w)?u&&f&&(_==null?void 0:_.async)===!1&&_.jitless!==!0?(o||(o=s(t.shape)),v=o(v,_),p?Hk([],w,v,_,g,e):v):n(v,_):(v.issues.push({expected:"object",code:"invalid_type",input:w,inst:e}),v)}});function e0(e,t,n,r){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const s=e.filter(o=>!na(o));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(l=>Qi(l,r,Yi())))}),t)}const b$=Y("$ZodUnion",(e,t)=>{Dt.init(e,t),st(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),st(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),st(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),st(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>ny(o.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(s,o)=>{if(n)return r(s,o);let l=!1;const u=[];for(const d of t.options){const f=d._zod.run({value:s.value,issues:[]},o);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(d=>e0(d,s,e,o)):e0(u,s,e,o)}}),k$=Y("$ZodIntersection",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,o=t.left._zod.run({value:s,issues:[]},r),l=t.right._zod.run({value:s,issues:[]},r);return o instanceof Promise||l instanceof Promise?Promise.all([o,l]).then(([d,f])=>t0(n,d,f)):t0(n,o,l)}});function Zm(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(du(e)&&du(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),s={...e,...t};for(const o of r){const l=Zm(e[o],t[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};s[o]=l.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r],l=Zm(s,o);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function t0(e,t,n){const r=new Map;let s;for(const u of t.issues)if(u.code==="unrecognized_keys"){s??(s=u);for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else e.issues.push(u);for(const u of n.issues)if(u.code==="unrecognized_keys")for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else e.issues.push(u);const o=[...r].filter(([,u])=>u.l&&u.r).map(([u])=>u);if(o.length&&s&&e.issues.push({...s,keys:o}),na(e))return e;const l=Zm(t.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const T$=Y("$ZodEnum",(e,t)=>{Dt.init(e,t);const n=Dk(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(s=>zL.has(typeof s)).map(s=>typeof s=="string"?Pf(s):s.toString()).join("|")})$`),e._zod.parse=(s,o)=>{const l=s.value;return r.has(l)||s.issues.push({code:"invalid_value",values:n,input:l,inst:e}),s}}),C$=Y("$ZodTransform",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Nk(e.constructor.name);const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(n.value=l,n));if(s instanceof Promise)throw new da;return n.value=s,n}});function n0(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const qk=Y("$ZodOptional",(e,t)=>{Dt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",st(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),st(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ny(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>n0(o,n.value)):n0(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),x$=Y("$ZodExactOptional",(e,t)=>{qk.init(e,t),st(e._zod,"values",()=>t.innerType._zod.values),st(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),R$=Y("$ZodNullable",(e,t)=>{Dt.init(e,t),st(e._zod,"optin",()=>t.innerType._zod.optin),st(e._zod,"optout",()=>t.innerType._zod.optout),st(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ny(n.source)}|null)$`):void 0}),st(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),I$=Y("$ZodDefault",(e,t)=>{Dt.init(e,t),e._zod.optin="optional",st(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>r0(o,t)):r0(s,t)}});function r0(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const A$=Y("$ZodPrefault",(e,t)=>{Dt.init(e,t),e._zod.optin="optional",st(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),O$=Y("$ZodNonOptional",(e,t)=>{Dt.init(e,t),st(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>s0(o,e)):s0(s,e)}});function s0(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const P$=Y("$ZodCatch",(e,t)=>{Dt.init(e,t),st(e._zod,"optin",()=>t.innerType._zod.optin),st(e._zod,"optout",()=>t.innerType._zod.optout),st(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(l=>Qi(l,r,Yi()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>Qi(o,r,Yi()))},input:n.value}),n.issues=[]),n)}}),N$=Y("$ZodPipe",(e,t)=>{Dt.init(e,t),st(e._zod,"values",()=>t.in._zod.values),st(e._zod,"optin",()=>t.in._zod.optin),st(e._zod,"optout",()=>t.out._zod.optout),st(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=t.out._zod.run(n,r);return o instanceof Promise?o.then(l=>pd(l,t.in,r)):pd(o,t.in,r)}const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(o=>pd(o,t.out,r)):pd(s,t.out,r)}});function pd(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const L$=Y("$ZodReadonly",(e,t)=>{Dt.init(e,t),st(e._zod,"propValues",()=>t.innerType._zod.propValues),st(e._zod,"values",()=>t.innerType._zod.values),st(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),st(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i0):i0(s)}});function i0(e){return e.value=Object.freeze(e.value),e}const D$=Y("$ZodCustom",(e,t)=>{Vr.init(e,t),Dt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(o=>o0(o,n,r,e));o0(s,n,r,e)}});function o0(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(fu(s))}}var a0;class $${constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function M$(){return new $$}(a0=globalThis).__zod_globalRegistry??(a0.__zod_globalRegistry=M$());const Vl=globalThis.__zod_globalRegistry;function j$(e,t){return new e({type:"string",...$e(t)})}function F$(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...$e(t)})}function l0(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...$e(t)})}function U$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...$e(t)})}function z$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...$e(t)})}function B$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...$e(t)})}function V$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...$e(t)})}function W$(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...$e(t)})}function H$(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...$e(t)})}function q$(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...$e(t)})}function K$(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...$e(t)})}function G$(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...$e(t)})}function Z$(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...$e(t)})}function J$(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...$e(t)})}function Y$(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...$e(t)})}function Q$(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...$e(t)})}function X$(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...$e(t)})}function eM(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...$e(t)})}function tM(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...$e(t)})}function nM(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...$e(t)})}function rM(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...$e(t)})}function sM(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...$e(t)})}function iM(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...$e(t)})}function oM(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...$e(t)})}function aM(e,t){return new e({type:"string",format:"date",check:"string_format",...$e(t)})}function lM(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...$e(t)})}function uM(e,t){return new e({type:"string",format:"duration",check:"string_format",...$e(t)})}function cM(e,t){return new e({type:"boolean",...$e(t)})}function dM(e){return new e({type:"unknown"})}function fM(e,t){return new e({type:"never",...$e(t)})}function Kk(e,t){return new LD({check:"max_length",...$e(t),maximum:e})}function Xd(e,t){return new DD({check:"min_length",...$e(t),minimum:e})}function Gk(e,t){return new $D({check:"length_equals",...$e(t),length:e})}function hM(e,t){return new MD({check:"string_format",format:"regex",...$e(t),pattern:e})}function pM(e){return new jD({check:"string_format",format:"lowercase",...$e(e)})}function mM(e){return new FD({check:"string_format",format:"uppercase",...$e(e)})}function gM(e,t){return new UD({check:"string_format",format:"includes",...$e(t),includes:e})}function yM(e,t){return new zD({check:"string_format",format:"starts_with",...$e(t),prefix:e})}function vM(e,t){return new BD({check:"string_format",format:"ends_with",...$e(t),suffix:e})}function La(e){return new VD({check:"overwrite",tx:e})}function _M(e){return La(t=>t.normalize(e))}function wM(){return La(e=>e.trim())}function SM(){return La(e=>e.toLowerCase())}function EM(){return La(e=>e.toUpperCase())}function bM(){return La(e=>FL(e))}function kM(e,t,n){return new e({type:"array",element:t,...$e(n)})}function TM(e,t,n){return new e({type:"custom",check:"custom",fn:t,...$e(n)})}function CM(e){const t=xM(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(fu(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(fu(s))}},e(n.value,n)));return t}function xM(e,t){const n=new Vr({check:"custom",...$e(t)});return n._zod.check=e,n}function Zk(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Vl,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function Xt(e,t,n={path:[],schemaPath:[]}){var p,g;var r;const s=e._zod.def,o=t.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const u=(g=(p=e._zod).toJSONSchema)==null?void 0:g.call(p);if(u)l.schema=u;else{const v={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,v);else{const w=l.schema,S=t.processors[s.type];if(!S)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);S(e,t,w,v)}const _=e._zod.parent;_&&(l.ref||(l.ref=_),Xt(_,t,v),t.seen.get(_).isParent=!0)}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&hn(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function Jk(e,t){var l,u,d,f;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const p of e.seen.entries()){const g=(l=e.metadataRegistry.get(p[0]))==null?void 0:l.id;if(g){const v=r.get(g);if(v&&v!==p[0])throw new Error(`Duplicate schema id "${g}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(g,p[0])}}const s=p=>{var S;const g=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const b=(S=e.external.registry.get(p[0]))==null?void 0:S.id,C=e.external.uri??(R=>R);if(b)return{ref:C(b)};const T=p[1].defId??p[1].schema.id??`schema${e.counter++}`;return p[1].defId=T,{defId:T,ref:`${C("__shared")}#/${g}/${T}`}}if(p[1]===n)return{ref:"#"};const _=`#/${g}/`,w=p[1].schema.id??`__schema${e.counter++}`;return{defId:w,ref:_+w}},o=p=>{if(p[1].schema.$ref)return;const g=p[1],{ref:v,defId:_}=s(p);g.def={...g.schema},_&&(g.defId=_);const w=g.schema;for(const S in w)delete w[S];w.$ref=v};if(e.cycles==="throw")for(const p of e.seen.entries()){const g=p[1];if(g.cycle)throw new Error(`Cycle detected: #/${(u=g.cycle)==null?void 0:u.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of e.seen.entries()){const g=p[1];if(t===p[0]){o(p);continue}if(e.external){const _=(d=e.external.registry.get(p[0]))==null?void 0:d.id;if(t!==p[0]&&_){o(p);continue}}if((f=e.metadataRegistry.get(p[0]))==null?void 0:f.id){o(p);continue}if(g.cycle){o(p);continue}if(g.count>1&&e.reused==="ref"){o(p);continue}}}function Yk(e,t){var l,u,d;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=f=>{const p=e.seen.get(f);if(p.ref===null)return;const g=p.def??p.schema,v={...g},_=p.ref;if(p.ref=null,_){r(_);const S=e.seen.get(_),b=S.schema;if(b.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(b)):Object.assign(g,b),Object.assign(g,v),f._zod.parent===_)for(const T in g)T==="$ref"||T==="allOf"||T in v||delete g[T];if(b.$ref&&S.def)for(const T in g)T==="$ref"||T==="allOf"||T in S.def&&JSON.stringify(g[T])===JSON.stringify(S.def[T])&&delete g[T]}const w=f._zod.parent;if(w&&w!==_){r(w);const S=e.seen.get(w);if(S!=null&&S.schema.$ref&&(g.$ref=S.schema.$ref,S.def))for(const b in g)b==="$ref"||b==="allOf"||b in S.def&&JSON.stringify(g[b])===JSON.stringify(S.def[b])&&delete g[b]}e.override({zodSchema:f,jsonSchema:g,path:p.path??[]})};for(const f of[...e.seen.entries()].reverse())r(f[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,(l=e.external)!=null&&l.uri){const f=(u=e.external.registry.get(t))==null?void 0:u.id;if(!f)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(f)}Object.assign(s,n.def??n.schema);const o=((d=e.external)==null?void 0:d.defs)??{};for(const f of e.seen.entries()){const p=f[1];p.def&&p.defId&&(o[p.defId]=p.def)}e.external||Object.keys(o).length>0&&(e.target==="draft-2020-12"?s.$defs=o:s.definitions=o);try{const f=JSON.parse(JSON.stringify(s));return Object.defineProperty(f,"~standard",{value:{...t["~standard"],jsonSchema:{input:ef(t,"input",e.processors),output:ef(t,"output",e.processors)}},enumerable:!1,writable:!1}),f}catch{throw new Error("Error converting schema to JSON.")}}function hn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return hn(r.element,n);if(r.type==="set")return hn(r.valueType,n);if(r.type==="lazy")return hn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return hn(r.innerType,n);if(r.type==="intersection")return hn(r.left,n)||hn(r.right,n);if(r.type==="record"||r.type==="map")return hn(r.keyType,n)||hn(r.valueType,n);if(r.type==="pipe")return hn(r.in,n)||hn(r.out,n);if(r.type==="object"){for(const s in r.shape)if(hn(r.shape[s],n))return!0;return!1}if(r.type==="union"){for(const s of r.options)if(hn(s,n))return!0;return!1}if(r.type==="tuple"){for(const s of r.items)if(hn(s,n))return!0;return!!(r.rest&&hn(r.rest,n))}return!1}const RM=(e,t={})=>n=>{const r=Zk({...n,processors:t});return Xt(e,r),Jk(r,e),Yk(r,e)},ef=(e,t,n={})=>r=>{const{libraryOptions:s,target:o}=r??{},l=Zk({...s??{},target:o,io:t,processors:n});return Xt(e,l),Jk(l,e),Yk(l,e)},IM={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},AM=(e,t,n,r)=>{const s=n;s.type="string";const{minimum:o,maximum:l,format:u,patterns:d,contentEncoding:f}=e._zod.bag;if(typeof o=="number"&&(s.minLength=o),typeof l=="number"&&(s.maxLength=l),u&&(s.format=IM[u]??u,s.format===""&&delete s.format,u==="time"&&delete s.format),f&&(s.contentEncoding=f),d&&d.size>0){const p=[...d];p.length===1?s.pattern=p[0].source:p.length>1&&(s.allOf=[...p.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},OM=(e,t,n,r)=>{n.type="boolean"},PM=(e,t,n,r)=>{n.not={}},NM=(e,t,n,r)=>{},LM=(e,t,n,r)=>{const s=e._zod.def,o=Dk(s.entries);o.every(l=>typeof l=="number")&&(n.type="number"),o.every(l=>typeof l=="string")&&(n.type="string"),n.enum=o},DM=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},$M=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},MM=(e,t,n,r)=>{const s=n,o=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(s.minItems=l),typeof u=="number"&&(s.maxItems=u),s.type="array",s.items=Xt(o.element,t,{...r,path:[...r.path,"items"]})},jM=(e,t,n,r)=>{var f;const s=n,o=e._zod.def;s.type="object",s.properties={};const l=o.shape;for(const p in l)s.properties[p]=Xt(l[p],t,{...r,path:[...r.path,"properties",p]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(p=>{const g=o.shape[p]._zod;return t.io==="input"?g.optin===void 0:g.optout===void 0}));d.size>0&&(s.required=Array.from(d)),((f=o.catchall)==null?void 0:f._zod.def.type)==="never"?s.additionalProperties=!1:o.catchall?o.catchall&&(s.additionalProperties=Xt(o.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},FM=(e,t,n,r)=>{const s=e._zod.def,o=s.inclusive===!1,l=s.options.map((u,d)=>Xt(u,t,{...r,path:[...r.path,o?"oneOf":"anyOf",d]}));o?n.oneOf=l:n.anyOf=l},UM=(e,t,n,r)=>{const s=e._zod.def,o=Xt(s.left,t,{...r,path:[...r.path,"allOf",0]}),l=Xt(s.right,t,{...r,path:[...r.path,"allOf",1]}),u=f=>"allOf"in f&&Object.keys(f).length===1,d=[...u(o)?o.allOf:[o],...u(l)?l.allOf:[l]];n.allOf=d},zM=(e,t,n,r)=>{const s=e._zod.def,o=Xt(s.innerType,t,r),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=s.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},BM=(e,t,n,r)=>{const s=e._zod.def;Xt(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType},VM=(e,t,n,r)=>{const s=e._zod.def;Xt(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},WM=(e,t,n,r)=>{const s=e._zod.def;Xt(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},HM=(e,t,n,r)=>{const s=e._zod.def;Xt(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType;let l;try{l=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},qM=(e,t,n,r)=>{const s=e._zod.def,o=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;Xt(o,t,r);const l=t.seen.get(e);l.ref=o},KM=(e,t,n,r)=>{const s=e._zod.def;Xt(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType,n.readOnly=!0},Qk=(e,t,n,r)=>{const s=e._zod.def;Xt(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType},GM=Y("ZodISODateTime",(e,t)=>{r$.init(e,t),wt.init(e,t)});function ZM(e){return oM(GM,e)}const JM=Y("ZodISODate",(e,t)=>{s$.init(e,t),wt.init(e,t)});function YM(e){return aM(JM,e)}const QM=Y("ZodISOTime",(e,t)=>{i$.init(e,t),wt.init(e,t)});function XM(e){return lM(QM,e)}const e2=Y("ZodISODuration",(e,t)=>{o$.init(e,t),wt.init(e,t)});function t2(e){return uM(e2,e)}const Xk=(e,t)=>{sy.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>YL(e,n)},flatten:{value:n=>JL(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Gm,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Gm,2)}},isEmpty:{get(){return e.issues.length===0}}})},n2=Y("ZodError",Xk),or=Y("ZodError",Xk,{Parent:Error}),r2=Lf(or),s2=Df(or),i2=$f(or),o2=Mf(or),a2=nD(or),l2=rD(or),u2=sD(or),c2=iD(or),d2=oD(or),f2=aD(or),h2=lD(or),p2=uD(or),$t=Y("ZodType",(e,t)=>(Dt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:ef(e,"input"),output:ef(e,"output")}}),e.toJSONSchema=RM(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(di(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>fi(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>r2(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>i2(e,n,r),e.parseAsync=async(n,r)=>s2(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>o2(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>a2(e,n,r),e.decode=(n,r)=>l2(e,n,r),e.encodeAsync=async(n,r)=>u2(e,n,r),e.decodeAsync=async(n,r)=>c2(e,n,r),e.safeEncode=(n,r)=>d2(e,n,r),e.safeDecode=(n,r)=>f2(e,n,r),e.safeEncodeAsync=async(n,r)=>h2(e,n,r),e.safeDecodeAsync=async(n,r)=>p2(e,n,r),e.refine=(n,r)=>e.check(oj(n,r)),e.superRefine=n=>e.check(aj(n)),e.overwrite=n=>e.check(La(n)),e.optional=()=>f0(e),e.exactOptional=()=>K2(e),e.nullable=()=>h0(e),e.nullish=()=>f0(h0(e)),e.nonoptional=n=>X2(e,n),e.array=()=>j2(e),e.or=n=>z2([e,n]),e.and=n=>V2(e,n),e.transform=n=>p0(e,H2(n)),e.default=n=>J2(e,n),e.prefault=n=>Q2(e,n),e.catch=n=>tj(e,n),e.pipe=n=>p0(e,n),e.readonly=()=>sj(e),e.describe=n=>{const r=e.clone();return Vl.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Vl.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Vl.get(e);const r=e.clone();return Vl.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),eT=Y("_ZodString",(e,t)=>{iy.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,s,o)=>AM(e,r,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(hM(...r)),e.includes=(...r)=>e.check(gM(...r)),e.startsWith=(...r)=>e.check(yM(...r)),e.endsWith=(...r)=>e.check(vM(...r)),e.min=(...r)=>e.check(Xd(...r)),e.max=(...r)=>e.check(Kk(...r)),e.length=(...r)=>e.check(Gk(...r)),e.nonempty=(...r)=>e.check(Xd(1,...r)),e.lowercase=r=>e.check(pM(r)),e.uppercase=r=>e.check(mM(r)),e.trim=()=>e.check(wM()),e.normalize=(...r)=>e.check(_M(...r)),e.toLowerCase=()=>e.check(SM()),e.toUpperCase=()=>e.check(EM()),e.slugify=()=>e.check(bM())}),m2=Y("ZodString",(e,t)=>{iy.init(e,t),eT.init(e,t),e.email=n=>e.check(F$(g2,n)),e.url=n=>e.check(W$(y2,n)),e.jwt=n=>e.check(iM(P2,n)),e.emoji=n=>e.check(H$(v2,n)),e.guid=n=>e.check(l0(u0,n)),e.uuid=n=>e.check(U$(md,n)),e.uuidv4=n=>e.check(z$(md,n)),e.uuidv6=n=>e.check(B$(md,n)),e.uuidv7=n=>e.check(V$(md,n)),e.nanoid=n=>e.check(q$(_2,n)),e.guid=n=>e.check(l0(u0,n)),e.cuid=n=>e.check(K$(w2,n)),e.cuid2=n=>e.check(G$(S2,n)),e.ulid=n=>e.check(Z$(E2,n)),e.base64=n=>e.check(nM(I2,n)),e.base64url=n=>e.check(rM(A2,n)),e.xid=n=>e.check(J$(b2,n)),e.ksuid=n=>e.check(Y$(k2,n)),e.ipv4=n=>e.check(Q$(T2,n)),e.ipv6=n=>e.check(X$(C2,n)),e.cidrv4=n=>e.check(eM(x2,n)),e.cidrv6=n=>e.check(tM(R2,n)),e.e164=n=>e.check(sM(O2,n)),e.datetime=n=>e.check(ZM(n)),e.date=n=>e.check(YM(n)),e.time=n=>e.check(XM(n)),e.duration=n=>e.check(t2(n))});function Cn(e){return j$(m2,e)}const wt=Y("ZodStringFormat",(e,t)=>{gt.init(e,t),eT.init(e,t)}),g2=Y("ZodEmail",(e,t)=>{GD.init(e,t),wt.init(e,t)}),u0=Y("ZodGUID",(e,t)=>{qD.init(e,t),wt.init(e,t)}),md=Y("ZodUUID",(e,t)=>{KD.init(e,t),wt.init(e,t)}),y2=Y("ZodURL",(e,t)=>{ZD.init(e,t),wt.init(e,t)}),v2=Y("ZodEmoji",(e,t)=>{JD.init(e,t),wt.init(e,t)}),_2=Y("ZodNanoID",(e,t)=>{YD.init(e,t),wt.init(e,t)}),w2=Y("ZodCUID",(e,t)=>{QD.init(e,t),wt.init(e,t)}),S2=Y("ZodCUID2",(e,t)=>{XD.init(e,t),wt.init(e,t)}),E2=Y("ZodULID",(e,t)=>{e$.init(e,t),wt.init(e,t)}),b2=Y("ZodXID",(e,t)=>{t$.init(e,t),wt.init(e,t)}),k2=Y("ZodKSUID",(e,t)=>{n$.init(e,t),wt.init(e,t)}),T2=Y("ZodIPv4",(e,t)=>{a$.init(e,t),wt.init(e,t)}),C2=Y("ZodIPv6",(e,t)=>{l$.init(e,t),wt.init(e,t)}),x2=Y("ZodCIDRv4",(e,t)=>{u$.init(e,t),wt.init(e,t)}),R2=Y("ZodCIDRv6",(e,t)=>{c$.init(e,t),wt.init(e,t)}),I2=Y("ZodBase64",(e,t)=>{d$.init(e,t),wt.init(e,t)}),A2=Y("ZodBase64URL",(e,t)=>{h$.init(e,t),wt.init(e,t)}),O2=Y("ZodE164",(e,t)=>{p$.init(e,t),wt.init(e,t)}),P2=Y("ZodJWT",(e,t)=>{g$.init(e,t),wt.init(e,t)}),N2=Y("ZodBoolean",(e,t)=>{y$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>OM(e,n,r)});function c0(e){return cM(N2,e)}const L2=Y("ZodUnknown",(e,t)=>{v$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>NM()});function d0(){return dM(L2)}const D2=Y("ZodNever",(e,t)=>{_$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>PM(e,n,r)});function $2(e){return fM(D2,e)}const M2=Y("ZodArray",(e,t)=>{w$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>MM(e,n,r,s),e.element=t.element,e.min=(n,r)=>e.check(Xd(n,r)),e.nonempty=n=>e.check(Xd(1,n)),e.max=(n,r)=>e.check(Kk(n,r)),e.length=(n,r)=>e.check(Gk(n,r)),e.unwrap=()=>e.element});function j2(e,t){return kM(M2,e,t)}const F2=Y("ZodObject",(e,t)=>{E$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>jM(e,n,r,s),st(e,"shape",()=>t.shape),e.keyof=()=>ra(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:d0()}),e.loose=()=>e.clone({...e._zod.def,catchall:d0()}),e.strict=()=>e.clone({...e._zod.def,catchall:$2()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>HL(e,n),e.safeExtend=n=>qL(e,n),e.merge=n=>KL(e,n),e.pick=n=>VL(e,n),e.omit=n=>WL(e,n),e.partial=(...n)=>GL(tT,e,n[0]),e.required=(...n)=>ZL(nT,e,n[0])});function oy(e,t){const n={type:"object",shape:e??{},...$e(t)};return new F2(n)}const U2=Y("ZodUnion",(e,t)=>{b$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>FM(e,n,r,s),e.options=t.options});function z2(e,t){return new U2({type:"union",options:e,...$e(t)})}const B2=Y("ZodIntersection",(e,t)=>{k$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>UM(e,n,r,s)});function V2(e,t){return new B2({type:"intersection",left:e,right:t})}const Jm=Y("ZodEnum",(e,t)=>{T$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,s,o)=>LM(e,r,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const o={};for(const l of r)if(n.has(l))o[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Jm({...t,checks:[],...$e(s),entries:o})},e.exclude=(r,s)=>{const o={...t.entries};for(const l of r)if(n.has(l))delete o[l];else throw new Error(`Key ${l} not found in enum`);return new Jm({...t,checks:[],...$e(s),entries:o})}});function ra(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Jm({type:"enum",entries:n,...$e(t)})}const W2=Y("ZodTransform",(e,t)=>{C$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>$M(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Nk(e.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(fu(o,n.value,t));else{const l=o;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(fu(l))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(o=>(n.value=o,n)):(n.value=s,n)}});function H2(e){return new W2({type:"transform",transform:e})}const tT=Y("ZodOptional",(e,t)=>{qk.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Qk(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function f0(e){return new tT({type:"optional",innerType:e})}const q2=Y("ZodExactOptional",(e,t)=>{x$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Qk(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function K2(e){return new q2({type:"optional",innerType:e})}const G2=Y("ZodNullable",(e,t)=>{R$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>zM(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function h0(e){return new G2({type:"nullable",innerType:e})}const Z2=Y("ZodDefault",(e,t)=>{I$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>VM(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function J2(e,t){return new Z2({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Mk(t)}})}const Y2=Y("ZodPrefault",(e,t)=>{A$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>WM(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function Q2(e,t){return new Y2({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Mk(t)}})}const nT=Y("ZodNonOptional",(e,t)=>{O$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>BM(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function X2(e,t){return new nT({type:"nonoptional",innerType:e,...$e(t)})}const ej=Y("ZodCatch",(e,t)=>{P$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>HM(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function tj(e,t){return new ej({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const nj=Y("ZodPipe",(e,t)=>{N$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>qM(e,n,r,s),e.in=t.in,e.out=t.out});function p0(e,t){return new nj({type:"pipe",in:e,out:t})}const rj=Y("ZodReadonly",(e,t)=>{L$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>KM(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function sj(e){return new rj({type:"readonly",innerType:e})}const ij=Y("ZodCustom",(e,t)=>{D$.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,r,s)=>DM(e,n)});function oj(e,t={}){return TM(ij,e,t)}function aj(e){return CM(e)}const lj=oy({VITE_SUPABASE_URL:Cn().url("VITE_SUPABASE_URL must be a valid URL"),VITE_SUPABASE_ANON_KEY:Cn().min(1,"VITE_SUPABASE_ANON_KEY is required"),VITE_API_URL:Cn().url().optional().default("http://localhost:8000/api/v1"),VITE_WS_URL:Cn().optional().default("ws://localhost:8000/ws"),VITE_DEEPSEEK_API_KEY:Cn().optional(),VITE_DEEPSEEK_BASE_URL:Cn().optional(),VITE_SENTRY_DSN:Cn().url().optional(),VITE_POSTHOG_KEY:Cn().optional(),VITE_POSTHOG_HOST:Cn().url().optional(),VITE_ENABLE_AI_FEATURES:ra(["true","false"]).optional().default("false"),VITE_ENABLE_ANALYTICS:ra(["true","false"]).optional().default("true"),VITE_ENABLE_ERROR_REPORTING:ra(["true","false"]).optional().default("true"),MODE:ra(["development","production","test"]),DEV:c0(),PROD:c0()});function uj(){try{return lj.parse({VITE_SUPABASE_URL:"https://your-project.supabase.co",VITE_SUPABASE_ANON_KEY:"your_supabase_anon_key_here",VITE_API_URL:"/api/v1",VITE_WS_URL:"ws://106.53.168.252:8000/ws",VITE_DEEPSEEK_API_KEY:"",VITE_DEEPSEEK_BASE_URL:"https://api.siliconflow.cn/v1",VITE_SENTRY_DSN:void 0,VITE_POSTHOG_KEY:void 0,VITE_POSTHOG_HOST:void 0,VITE_ENABLE_AI_FEATURES:"true",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_ERROR_REPORTING:"true",MODE:"production",DEV:!1,PROD:!0})}catch(e){if(e instanceof n2){const t=e.issues.map(n=>`  - ${n.path.join(".")}: ${n.message}`).join(`
`);throw new Error(` Invalid environment configuration:

${t}

Please check your .env file and ensure all required variables are set.
See .env.example for reference.`)}throw e}}const tr=uj(),hu={aiEnabled:tr.VITE_ENABLE_AI_FEATURES==="true",analyticsEnabled:tr.VITE_ENABLE_ANALYTICS==="true",errorReportingEnabled:tr.VITE_ENABLE_ERROR_REPORTING==="true"},Wl=tr.MODE==="production";tr.MODE;tr.MODE;const Zs=ML(tr.VITE_SUPABASE_URL,tr.VITE_SUPABASE_ANON_KEY,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),ay=l1(e=>({user:null,session:null,isLoading:!0,isAuthenticated:!1,mockLogin:t=>{const n={id:"mock-user-id",email:t,app_metadata:{provider:"email"},user_metadata:{role:"student"},aud:"authenticated",created_at:new Date().toISOString()};e({user:n,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("salesboost-mock-auth","true")},initialize:async()=>{try{if(localStorage.getItem("salesboost-mock-auth")==="true"){const n={id:"mock-user-id",email:"demo@salesboost.com",app_metadata:{provider:"email"},user_metadata:{role:"student"},aud:"authenticated",created_at:new Date().toISOString()};e({user:n,isAuthenticated:!0,isLoading:!1});return}const{data:{session:t}}=await Zs.auth.getSession();e({session:t,user:(t==null?void 0:t.user)??null,isAuthenticated:!!t,isLoading:!1}),Zs.auth.onAuthStateChange((n,r)=>{e({session:r,user:(r==null?void 0:r.user)??null,isAuthenticated:!!r,isLoading:!1})})}catch(t){console.error("Auth initialization error:",t),e({isLoading:!1})}},signOut:async()=>{try{localStorage.removeItem("salesboost-mock-auth"),await Zs.auth.signOut(),e({session:null,user:null,isAuthenticated:!1})}catch(t){console.error("Sign out error:",t)}}}));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),m0=e=>{const t=dj(e);return t.charAt(0).toUpperCase()+t.slice(1)},rT=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),fj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},d)=>k.createElement("svg",{ref:d,...hj,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:rT("lucide",s),...!o&&!fj(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>k.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=(e,t)=>{const n=k.forwardRef(({className:r,...s},o)=>k.createElement(pj,{ref:o,iconNode:t,className:rT(`lucide-${cj(m0(e))}`,`lucide-${e}`,r),...s}));return n.displayName=m0(e),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],gj=Ff("house",mj);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vj=Ff("refresh-cw",yj);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wj=Ff("triangle-alert",_j);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ej=Ff("x",Sj);class bj extends k.Component{constructor(n){super(n);fn(this,"retryCount",0);fn(this,"maxRetries",3);fn(this,"reportError",(n,r)=>{try{fetch("/api/v1/errors/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({errorId:this.state.errorId,message:n.message,stack:n.stack,componentStack:r.componentStack,userAgent:navigator.userAgent,timestamp:new Date().toISOString(),url:window.location.href})}).catch(s=>{console.error("Failed to report error:",s)})}catch(s){console.error("Error reporting failed:",s)}});fn(this,"handleRetry",()=>{this.retryCount<this.maxRetries&&(this.retryCount++,this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}))});fn(this,"handleGoHome",()=>{window.location.href="/"});fn(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(n){const r=`err_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{hasError:!0,error:n,errorId:r}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({errorInfo:r}),this.props.onError&&this.props.onError(n,r),this.reportError(n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:M.jsx("div",{"trae-inspector-start-line":"117","trae-inspector-start-column":"8","trae-inspector-end-line":"318","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:M.jsxs("div",{"trae-inspector-start-line":"125","trae-inspector-start-column":"10","trae-inspector-end-line":"317","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",style:{maxWidth:"448px",width:"100%",backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",padding:"1.5rem"},children:[M.jsx("div",{"trae-inspector-start-line":"133","trae-inspector-start-column":"12","trae-inspector-end-line":"144","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"3rem",height:"3rem",backgroundColor:"#fee2e2",borderRadius:"50%",margin:"0 auto 1rem"},children:M.jsx(wj,{size:24,color:"#dc2626"})}),M.jsx("h1",{"trae-inspector-start-line":"146","trae-inspector-start-column":"12","trae-inspector-end-line":"154","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%87%BA%E7%8E%B0%E4%BA%86%E6%84%8F%E5%A4%96%E9%94%99%E8%AF%AF%22%2C%22textStartLine%22%3A%22152%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22154%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",style:{fontSize:"1.25rem",fontWeight:"600",color:"#111827",textAlign:"center",marginBottom:"0.5rem"},children:""}),M.jsx("p",{"trae-inspector-start-line":"156","trae-inspector-start-column":"12","trae-inspector-end-line":"162","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%BE%88%E6%8A%B1%E6%AD%89%EF%BC%8C%E5%BA%94%E7%94%A8%E9%81%87%E5%88%B0%E4%BA%86%E4%B8%80%E4%B8%AA%E6%84%8F%E5%A4%96%E9%94%99%E8%AF%AF%E3%80%82%E6%88%91%E4%BB%AC%E5%B7%B2%E7%BB%8F%E8%AE%B0%E5%BD%95%E4%BA%86%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%8C%E6%AD%A3%E5%9C%A8%E5%8A%AA%E5%8A%9B%E4%BF%AE%E5%A4%8D%E3%80%82%22%2C%22textStartLine%22%3A%22160%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22162%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",style:{color:"#6b7280",textAlign:"center",marginBottom:"1.5rem"},children:""}),this.state.errorId&&M.jsx("div",{"trae-inspector-start-line":"165","trae-inspector-start-column":"14","trae-inspector-end-line":"183","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",style:{backgroundColor:"#f3f4f6",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"1.5rem"},children:M.jsxs("p",{"trae-inspector-start-line":"171","trae-inspector-start-column":"16","trae-inspector-end-line":"182","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:["ID: ",M.jsx("code",{"trae-inspector-start-line":"176","trae-inspector-start-column":"24","trae-inspector-end-line":"181","trae-inspector-end-column":"48","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",style:{fontSize:"0.75rem",backgroundColor:"#e5e7eb",padding:"0.125rem 0.25rem",borderRadius:"0.25rem"},children:this.state.errorId})]})}),M.jsxs("div",{"trae-inspector-start-line":"186","trae-inspector-start-column":"12","trae-inspector-end-line":"247","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[this.retryCount<this.maxRetries&&M.jsxs("button",{"trae-inspector-start-line":"192","trae-inspector-start-column":"16","trae-inspector-end-line":"210","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",onClick:this.handleRetry,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",backgroundColor:"#3b82f6",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[M.jsx(vj,{size:16})," (",this.retryCount+1,"/",this.maxRetries,")"]}),M.jsxs("button",{"trae-inspector-start-line":"213","trae-inspector-start-column":"14","trae-inspector-end-line":"231","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",onClick:this.handleGoHome,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",backgroundColor:"#6b7280",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:[M.jsx(gj,{size:16}),""]}),M.jsx("button",{"trae-inspector-start-line":"233","trae-inspector-start-column":"14","trae-inspector-end-line":"246","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\common\\\\ErrorBoundary.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%22%2C%22textStartLine%22%3A%22244%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22246%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",onClick:this.handleReload,style:{color:"#6b7280",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem",backgroundColor:"transparent"},children:""})]}),!1]})}):this.props.children}}function kj(){const[e,t]=k.useState(!0);return null}const Tj=1,Cj=1e6;let im=0;function xj(){return im=(im+1)%Number.MAX_SAFE_INTEGER,im.toString()}const om=new Map,g0=e=>{if(om.has(e))return;const t=setTimeout(()=>{om.delete(e),Gl({type:"REMOVE_TOAST",toastId:e})},Cj);om.set(e,t)},Rj=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Tj)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?g0(n):e.toasts.forEach(r=>{g0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Nd=[];let Ld={toasts:[]};function Gl(e){Ld=Rj(Ld,e),Nd.forEach(t=>{t(Ld)})}function Ij({...e}){const t=xj(),n=s=>Gl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Gl({type:"DISMISS_TOAST",toastId:t});return Gl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Aj(){const[e,t]=k.useState(Ld);return k.useEffect(()=>(Nd.push(t),()=>{const n=Nd.indexOf(t);n>-1&&Nd.splice(n,1)}),[e]),{...e,toast:Ij,dismiss:n=>Gl({type:"DISMISS_TOAST",toastId:n})}}function Bn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function y0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function oo(...e){return t=>{let n=!1;const r=e.map(s=>{const o=y0(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():y0(e[s],null)}}}}function Xi(...e){return k.useCallback(oo(...e),e)}function Oj(e,t=[]){let n=[];function r(o,l){const u=k.createContext(l),d=n.length;n=[...n,l];const f=g=>{var C;const{scope:v,children:_,...w}=g,S=((C=v==null?void 0:v[e])==null?void 0:C[d])||u,b=k.useMemo(()=>w,Object.values(w));return M.jsx(S.Provider,{value:b,children:_})};f.displayName=o+"Provider";function p(g,v){var S;const _=((S=v==null?void 0:v[e])==null?void 0:S[d])||u,w=k.useContext(_);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,p]}const s=()=>{const o=n.map(l=>k.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return k.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,Pj(s,...t)]}function Pj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const g=d(o)[`__scope${f}`];return{...u,...g}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function v0(e){const t=Nj(e),n=k.forwardRef((r,s)=>{const{children:o,...l}=r,u=k.Children.toArray(o),d=u.find(Dj);if(d){const f=d.props.children,p=u.map(g=>g===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:g);return M.jsx(t,{...l,ref:s,children:k.isValidElement(f)?k.cloneElement(f,void 0,p):null})}return M.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Nj(e){const t=k.forwardRef((n,r)=>{const{children:s,...o}=n;if(k.isValidElement(s)){const l=Mj(s),u=$j(o,s.props);return s.type!==k.Fragment&&(u.ref=r?oo(r,l):l),k.cloneElement(s,u)}return k.Children.count(s)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lj=Symbol("radix.slottable");function Dj(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lj}function $j(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Mj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jj(e){const t=e+"CollectionProvider",[n,r]=Oj(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:b,children:C}=S,T=at.useRef(null),R=at.useRef(new Map).current;return M.jsx(s,{scope:b,itemMap:R,collectionRef:T,children:C})};l.displayName=t;const u=e+"CollectionSlot",d=v0(u),f=at.forwardRef((S,b)=>{const{scope:C,children:T}=S,R=o(u,C),O=Xi(b,R.collectionRef);return M.jsx(d,{ref:O,children:T})});f.displayName=u;const p=e+"CollectionItemSlot",g="data-radix-collection-item",v=v0(p),_=at.forwardRef((S,b)=>{const{scope:C,children:T,...R}=S,O=at.useRef(null),z=Xi(b,O),B=o(p,C);return at.useEffect(()=>(B.itemMap.set(O,{ref:O,...R}),()=>void B.itemMap.delete(O))),M.jsx(v,{[g]:"",ref:z,children:T})});_.displayName=p;function w(S){const b=o(e+"CollectionConsumer",S);return at.useCallback(()=>{const T=b.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((B,$)=>R.indexOf(B.ref.current)-R.indexOf($.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:f,ItemSlot:_},w,r]}function Fj(e,t=[]){let n=[];function r(o,l){const u=k.createContext(l),d=n.length;n=[...n,l];const f=g=>{var C;const{scope:v,children:_,...w}=g,S=((C=v==null?void 0:v[e])==null?void 0:C[d])||u,b=k.useMemo(()=>w,Object.values(w));return M.jsx(S.Provider,{value:b,children:_})};f.displayName=o+"Provider";function p(g,v){var S;const _=((S=v==null?void 0:v[e])==null?void 0:S[d])||u,w=k.useContext(_);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,p]}const s=()=>{const o=n.map(l=>k.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return k.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,Uj(s,...t)]}function Uj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const g=d(o)[`__scope${f}`];return{...u,...g}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function zj(e){const t=Bj(e),n=k.forwardRef((r,s)=>{const{children:o,...l}=r,u=k.Children.toArray(o),d=u.find(Wj);if(d){const f=d.props.children,p=u.map(g=>g===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:g);return M.jsx(t,{...l,ref:s,children:k.isValidElement(f)?k.cloneElement(f,void 0,p):null})}return M.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Bj(e){const t=k.forwardRef((n,r)=>{const{children:s,...o}=n;if(k.isValidElement(s)){const l=qj(s),u=Hj(o,s.props);return s.type!==k.Fragment&&(u.ref=r?oo(r,l):l),k.cloneElement(s,u)}return k.Children.count(s)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vj=Symbol("radix.slottable");function Wj(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vj}function Hj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function qj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Kj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sT=Kj.reduce((e,t)=>{const n=zj(`Primitive.${t}`),r=k.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Gj(e,t){e&&xf.flushSync(()=>e.dispatchEvent(t))}function eo(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Zj(e,t=globalThis==null?void 0:globalThis.document){const n=eo(e);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Jj="DismissableLayer",Ym="dismissableLayer.update",Yj="dismissableLayer.pointerDownOutside",Qj="dismissableLayer.focusOutside",_0,iT=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oT=k.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,f=k.useContext(iT),[p,g]=k.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=k.useState({}),w=Xi(t,$=>g($)),S=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=S.indexOf(b),T=p?S.indexOf(p):-1,R=f.layersWithOutsidePointerEventsDisabled.size>0,O=T>=C,z=eF($=>{const j=$.target,te=[...f.branches].some(J=>J.contains(j));!O||te||(s==null||s($),l==null||l($),$.defaultPrevented||u==null||u())},v),B=tF($=>{const j=$.target;[...f.branches].some(J=>J.contains(j))||(o==null||o($),l==null||l($),$.defaultPrevented||u==null||u())},v);return Zj($=>{T===f.layers.size-1&&(r==null||r($),!$.defaultPrevented&&u&&($.preventDefault(),u()))},v),k.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(_0=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),w0(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=_0)}},[p,v,n,f]),k.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),w0())},[p,f]),k.useEffect(()=>{const $=()=>_({});return document.addEventListener(Ym,$),()=>document.removeEventListener(Ym,$)},[]),M.jsx(sT.div,{...d,ref:w,style:{pointerEvents:R?O?"auto":"none":void 0,...e.style},onFocusCapture:Bn(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Bn(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Bn(e.onPointerDownCapture,z.onPointerDownCapture)})});oT.displayName=Jj;var Xj="DismissableLayerBranch",aT=k.forwardRef((e,t)=>{const n=k.useContext(iT),r=k.useRef(null),s=Xi(t,r);return k.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),M.jsx(sT.div,{...e,ref:s})});aT.displayName=Xj;function eF(e,t=globalThis==null?void 0:globalThis.document){const n=eo(e),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){lT(Yj,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function tF(e,t=globalThis==null?void 0:globalThis.document){const n=eo(e),r=k.useRef(!1);return k.useEffect(()=>{const s=o=>{o.target&&!r.current&&lT(Qj,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w0(){const e=new CustomEvent(Ym);document.dispatchEvent(e)}function lT(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Gj(s,o):s.dispatchEvent(o)}var nF=oT,rF=aT;function sF(e){const t=iF(e),n=k.forwardRef((r,s)=>{const{children:o,...l}=r,u=k.Children.toArray(o),d=u.find(aF);if(d){const f=d.props.children,p=u.map(g=>g===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:g);return M.jsx(t,{...l,ref:s,children:k.isValidElement(f)?k.cloneElement(f,void 0,p):null})}return M.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function iF(e){const t=k.forwardRef((n,r)=>{const{children:s,...o}=n;if(k.isValidElement(s)){const l=uF(s),u=lF(o,s.props);return s.type!==k.Fragment&&(u.ref=r?oo(r,l):l),k.cloneElement(s,u)}return k.Children.count(s)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oF=Symbol("radix.slottable");function aF(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oF}function lF(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function uF(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dF=cF.reduce((e,t)=>{const n=sF(`Primitive.${t}`),r=k.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),pu=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},fF="Portal",uT=k.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,o]=k.useState(!1);pu(()=>o(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?s1.createPortal(M.jsx(dF.div,{...r,ref:t}),l):null});uT.displayName=fF;function hF(e,t){return k.useReducer((n,r)=>t[n][r]??n,e)}var cT=e=>{const{present:t,children:n}=e,r=pF(t),s=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),o=Xi(r.ref,mF(s));return typeof n=="function"||r.isPresent?k.cloneElement(s,{ref:o}):null};cT.displayName="Presence";function pF(e){const[t,n]=k.useState(),r=k.useRef(null),s=k.useRef(e),o=k.useRef("none"),l=e?"mounted":"unmounted",[u,d]=hF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const f=gd(r.current);o.current=u==="mounted"?f:"none"},[u]),pu(()=>{const f=r.current,p=s.current;if(p!==e){const v=o.current,_=gd(f);e?d("MOUNT"):_==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(p&&v!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),pu(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,g=_=>{const S=gd(r.current).includes(CSS.escape(_.animationName));if(_.target===t&&S&&(d("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},v=_=>{_.target===t&&(o.current=gd(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:k.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function gd(e){return(e==null?void 0:e.animationName)||"none"}function mF(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function gF(e){const t=yF(e),n=k.forwardRef((r,s)=>{const{children:o,...l}=r,u=k.Children.toArray(o),d=u.find(_F);if(d){const f=d.props.children,p=u.map(g=>g===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:g);return M.jsx(t,{...l,ref:s,children:k.isValidElement(f)?k.cloneElement(f,void 0,p):null})}return M.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function yF(e){const t=k.forwardRef((n,r)=>{const{children:s,...o}=n;if(k.isValidElement(s)){const l=SF(s),u=wF(o,s.props);return s.type!==k.Fragment&&(u.ref=r?oo(r,l):l),k.cloneElement(s,u)}return k.Children.count(s)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vF=Symbol("radix.slottable");function _F(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vF}function wF(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function SF(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var EF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Da=EF.reduce((e,t)=>{const n=gF(`Primitive.${t}`),r=k.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bF(e,t){e&&xf.flushSync(()=>e.dispatchEvent(t))}var kF=Vb[" useInsertionEffect ".trim().toString()]||pu;function TF({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,l]=CF({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:s;{const p=k.useRef(e!==void 0);k.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const f=k.useCallback(p=>{var g;if(u){const v=xF(p)?p(e):p;v!==e&&((g=l.current)==null||g.call(l,v))}else o(p)},[u,e,o,l]);return[d,f]}function CF({defaultProp:e,onChange:t}){const[n,r]=k.useState(e),s=k.useRef(n),o=k.useRef(t);return kF(()=>{o.current=t},[t]),k.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function xF(e){return typeof e=="function"}function RF(e){const t=IF(e),n=k.forwardRef((r,s)=>{const{children:o,...l}=r,u=k.Children.toArray(o),d=u.find(OF);if(d){const f=d.props.children,p=u.map(g=>g===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:g);return M.jsx(t,{...l,ref:s,children:k.isValidElement(f)?k.cloneElement(f,void 0,p):null})}return M.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function IF(e){const t=k.forwardRef((n,r)=>{const{children:s,...o}=n;if(k.isValidElement(s)){const l=NF(s),u=PF(o,s.props);return s.type!==k.Fragment&&(u.ref=r?oo(r,l):l),k.cloneElement(s,u)}return k.Children.count(s)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AF=Symbol("radix.slottable");function OF(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AF}function PF(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function NF(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var LF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DF=LF.reduce((e,t)=>{const n=RF(`Primitive.${t}`),r=k.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),$F=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MF="VisuallyHidden",ly=k.forwardRef((e,t)=>M.jsx(DF.span,{...e,ref:t,style:{...$F,...e.style}}));ly.displayName=MF;var uy="ToastProvider",[cy,jF,FF]=jj("Toast"),[dT]=Fj("Toast",[FF]),[UF,Uf]=dT(uy),fT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=e,[u,d]=k.useState(null),[f,p]=k.useState(0),g=k.useRef(!1),v=k.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uy}\`. Expected non-empty \`string\`.`),M.jsx(cy.Provider,{scope:t,children:M.jsx(UF,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:f,viewport:u,onViewportChange:d,onToastAdd:k.useCallback(()=>p(_=>_+1),[]),onToastRemove:k.useCallback(()=>p(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:l})})};fT.displayName=uy;var hT="ToastViewport",zF=["F8"],Qm="toast.viewportPause",Xm="toast.viewportResume",pT=k.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=zF,label:s="Notifications ({hotkey})",...o}=e,l=Uf(hT,n),u=jF(n),d=k.useRef(null),f=k.useRef(null),p=k.useRef(null),g=k.useRef(null),v=Xi(t,g,l.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=l.toastCount>0;k.useEffect(()=>{const b=C=>{var R;r.length!==0&&r.every(O=>C[O]||C.code===O)&&((R=g.current)==null||R.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),k.useEffect(()=>{const b=d.current,C=g.current;if(w&&b&&C){const T=()=>{if(!l.isClosePausedRef.current){const B=new CustomEvent(Qm);C.dispatchEvent(B),l.isClosePausedRef.current=!0}},R=()=>{if(l.isClosePausedRef.current){const B=new CustomEvent(Xm);C.dispatchEvent(B),l.isClosePausedRef.current=!1}},O=B=>{!b.contains(B.relatedTarget)&&R()},z=()=>{b.contains(document.activeElement)||R()};return b.addEventListener("focusin",T),b.addEventListener("focusout",O),b.addEventListener("pointermove",T),b.addEventListener("pointerleave",z),window.addEventListener("blur",T),window.addEventListener("focus",R),()=>{b.removeEventListener("focusin",T),b.removeEventListener("focusout",O),b.removeEventListener("pointermove",T),b.removeEventListener("pointerleave",z),window.removeEventListener("blur",T),window.removeEventListener("focus",R)}}},[w,l.isClosePausedRef]);const S=k.useCallback(({tabbingDirection:b})=>{const T=u().map(R=>{const O=R.ref.current,z=[O,...eU(O)];return b==="forwards"?z:z.reverse()});return(b==="forwards"?T.reverse():T).flat()},[u]);return k.useEffect(()=>{const b=g.current;if(b){const C=T=>{var z,B,$;const R=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!R){const j=document.activeElement,te=T.shiftKey;if(T.target===b&&te){(z=f.current)==null||z.focus();return}const ne=S({tabbingDirection:te?"backwards":"forwards"}),le=ne.findIndex(G=>G===j);am(ne.slice(le+1))?T.preventDefault():te?(B=f.current)==null||B.focus():($=p.current)==null||$.focus()}};return b.addEventListener("keydown",C),()=>b.removeEventListener("keydown",C)}},[u,S]),M.jsxs(rF,{ref:d,role:"region","aria-label":s.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&M.jsx(eg,{ref:f,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"forwards"});am(b)}}),M.jsx(cy.Slot,{scope:n,children:M.jsx(Da.ol,{tabIndex:-1,...o,ref:v})}),w&&M.jsx(eg,{ref:p,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"backwards"});am(b)}})]})});pT.displayName=hT;var mT="ToastFocusProxy",eg=k.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Uf(mT,n);return M.jsx(ly,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:l=>{var f;const u=l.relatedTarget;!((f=o.viewport)!=null&&f.contains(u))&&r()}})});eg.displayName=mT;var Au="Toast",BF="toast.swipeStart",VF="toast.swipeMove",WF="toast.swipeCancel",HF="toast.swipeEnd",gT=k.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...l}=e,[u,d]=TF({prop:r,defaultProp:s??!0,onChange:o,caller:Au});return M.jsx(cT,{present:n||u,children:M.jsx(GF,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:eo(e.onPause),onResume:eo(e.onResume),onSwipeStart:Bn(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Bn(e.onSwipeMove,f=>{const{x:p,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Bn(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Bn(e.onSwipeEnd,f=>{const{x:p,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});gT.displayName=Au;var[qF,KF]=dT(Au,{onClose(){}}),GF=k.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:f,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:_,...w}=e,S=Uf(Au,n),[b,C]=k.useState(null),T=Xi(t,G=>C(G)),R=k.useRef(null),O=k.useRef(null),z=s||S.duration,B=k.useRef(0),$=k.useRef(z),j=k.useRef(0),{onToastAdd:te,onToastRemove:J}=S,ce=eo(()=>{var me;(b==null?void 0:b.contains(document.activeElement))&&((me=S.viewport)==null||me.focus()),l()}),ne=k.useCallback(G=>{!G||G===1/0||(window.clearTimeout(j.current),B.current=new Date().getTime(),j.current=window.setTimeout(ce,G))},[ce]);k.useEffect(()=>{const G=S.viewport;if(G){const me=()=>{ne($.current),f==null||f()},fe=()=>{const de=new Date().getTime()-B.current;$.current=$.current-de,window.clearTimeout(j.current),d==null||d()};return G.addEventListener(Qm,fe),G.addEventListener(Xm,me),()=>{G.removeEventListener(Qm,fe),G.removeEventListener(Xm,me)}}},[S.viewport,z,d,f,ne]),k.useEffect(()=>{o&&!S.isClosePausedRef.current&&ne(z)},[o,z,S.isClosePausedRef,ne]),k.useEffect(()=>(te(),()=>J()),[te,J]);const le=k.useMemo(()=>b?bT(b):null,[b]);return S.viewport?M.jsxs(M.Fragment,{children:[le&&M.jsx(ZF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:le}),M.jsx(qF,{scope:n,onClose:ce,children:xf.createPortal(M.jsx(cy.ItemSlot,{scope:n,children:M.jsx(nF,{asChild:!0,onEscapeKeyDown:Bn(u,()=>{S.isFocusedToastEscapeKeyDownRef.current||ce(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:M.jsx(Da.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":S.swipeDirection,...w,ref:T,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Bn(e.onKeyDown,G=>{G.key==="Escape"&&(u==null||u(G.nativeEvent),G.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,ce()))}),onPointerDown:Bn(e.onPointerDown,G=>{G.button===0&&(R.current={x:G.clientX,y:G.clientY})}),onPointerMove:Bn(e.onPointerMove,G=>{if(!R.current)return;const me=G.clientX-R.current.x,fe=G.clientY-R.current.y,de=!!O.current,N=["left","right"].includes(S.swipeDirection),re=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,q=N?re(0,me):0,P=N?0:re(0,fe),H=G.pointerType==="touch"?10:2,oe={x:q,y:P},he={originalEvent:G,delta:oe};de?(O.current=oe,yd(VF,g,he,{discrete:!1})):S0(oe,S.swipeDirection,H)?(O.current=oe,yd(BF,p,he,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(me)>H||Math.abs(fe)>H)&&(R.current=null)}),onPointerUp:Bn(e.onPointerUp,G=>{const me=O.current,fe=G.target;if(fe.hasPointerCapture(G.pointerId)&&fe.releasePointerCapture(G.pointerId),O.current=null,R.current=null,me){const de=G.currentTarget,N={originalEvent:G,delta:me};S0(me,S.swipeDirection,S.swipeThreshold)?yd(HF,_,N,{discrete:!0}):yd(WF,v,N,{discrete:!0}),de.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),ZF=e=>{const{__scopeToast:t,children:n,...r}=e,s=Uf(Au,t),[o,l]=k.useState(!1),[u,d]=k.useState(!1);return QF(()=>l(!0)),k.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:M.jsx(uT,{asChild:!0,children:M.jsx(ly,{...r,children:o&&M.jsxs(M.Fragment,{children:[s.label," ",n]})})})},JF="ToastTitle",yT=k.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return M.jsx(Da.div,{...r,ref:t})});yT.displayName=JF;var YF="ToastDescription",vT=k.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return M.jsx(Da.div,{...r,ref:t})});vT.displayName=YF;var _T="ToastAction",wT=k.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?M.jsx(ET,{altText:n,asChild:!0,children:M.jsx(dy,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_T}\`. Expected non-empty \`string\`.`),null)});wT.displayName=_T;var ST="ToastClose",dy=k.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=KF(ST,n);return M.jsx(ET,{asChild:!0,children:M.jsx(Da.button,{type:"button",...r,ref:t,onClick:Bn(e.onClick,s.onClose)})})});dy.displayName=ST;var ET=k.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return M.jsx(Da.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function bT(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),XF(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...bT(r))}}),t}function yd(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?bF(s,o):s.dispatchEvent(o)}var S0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function QF(e=()=>{}){const t=eo(e);pu(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function XF(e){return e.nodeType===e.ELEMENT_NODE}function eU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function am(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var tU=fT,kT=pT,TT=gT,CT=yT,xT=vT,RT=wT,IT=dy;function AT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=AT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function OT(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=AT(e))&&(r&&(r+=" "),r+=t);return r}const E0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,b0=OT,fy=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return b0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(f=>{const p=n==null?void 0:n[f],g=o==null?void 0:o[f];if(p===null)return null;const v=E0(p)||E0(g);return s[f][v]}),u=n&&Object.entries(n).reduce((f,p)=>{let[g,v]=p;return v===void 0||(f[g]=v),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:g,className:v,..._}=p;return Object.entries(_).every(w=>{let[S,b]=w;return Array.isArray(b)?b.includes({...o,...u}[S]):{...o,...u}[S]===b})?[...f,g,v]:f},[]);return b0(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},nU=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},rU=(e,t)=>({classGroupId:e,validator:t}),PT=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),tf="-",k0=[],sU="arbitrary..",iU=e=>{const t=aU(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return oU(l);const u=l.split(tf),d=u[0]===""&&u.length>1?1:0;return NT(u,d,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const d=r[l],f=n[l];return d?f?nU(f,d):d:f||k0}return n[l]||k0}}},NT=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const f=NT(e,t+1,o);if(f)return f}const l=n.validators;if(l===null)return;const u=t===0?e.join(tf):e.slice(t).join(tf),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(u))return p.classGroupId}},oU=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?sU+r:void 0})(),aU=e=>{const{theme:t,classGroups:n}=e;return lU(n,t)},lU=(e,t)=>{const n=PT();for(const r in e){const s=e[r];hy(s,n,r,t)}return n},hy=(e,t,n,r)=>{const s=e.length;for(let o=0;o<s;o++){const l=e[o];uU(l,t,n,r)}},uU=(e,t,n,r)=>{if(typeof e=="string"){cU(e,t,n);return}if(typeof e=="function"){dU(e,t,n,r);return}fU(e,t,n,r)},cU=(e,t,n)=>{const r=e===""?t:LT(t,e);r.classGroupId=n},dU=(e,t,n,r)=>{if(hU(e)){hy(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(rU(n,e))},fU=(e,t,n,r)=>{const s=Object.entries(e),o=s.length;for(let l=0;l<o;l++){const[u,d]=s[l];hy(d,LT(t,u),n,r)}},LT=(e,t)=>{let n=e;const r=t.split(tf),s=r.length;for(let o=0;o<s;o++){const l=r[o];let u=n.nextPart.get(l);u||(u=PT(),n.nextPart.set(l,u)),n=u}return n},hU=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,pU=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(o,l)=>{n[o]=l,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return s(o,l),l},set(o,l){o in n?n[o]=l:s(o,l)}}},tg="!",T0=":",mU=[],C0=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),gU=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const o=[];let l=0,u=0,d=0,f;const p=s.length;for(let S=0;S<p;S++){const b=s[S];if(l===0&&u===0){if(b===T0){o.push(s.slice(d,S)),d=S+1;continue}if(b==="/"){f=S;continue}}b==="["?l++:b==="]"?l--:b==="("?u++:b===")"&&u--}const g=o.length===0?s:s.slice(d);let v=g,_=!1;g.endsWith(tg)?(v=g.slice(0,-1),_=!0):g.startsWith(tg)&&(v=g.slice(1),_=!0);const w=f&&f>d?f-d:void 0;return C0(o,_,v,w)};if(t){const s=t+T0,o=r;r=l=>l.startsWith(s)?o(l.slice(s.length)):C0(mU,!1,l,void 0,!0)}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},yU=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let o=0;o<n.length;o++){const l=n[o],u=l[0]==="[",d=t.has(l);u||d?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(l)):s.push(l)}return s.length>0&&(s.sort(),r.push(...s)),r}},vU=e=>({cache:pU(e.cacheSize),parseClassName:gU(e),sortModifiers:yU(e),...iU(e)}),_U=/\s+/,wU=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=t,l=[],u=e.trim().split(_U);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:g,modifiers:v,hasImportantModifier:_,baseClassName:w,maybePostfixModifierPosition:S}=n(p);if(g){d=p+(d.length>0?" "+d:d);continue}let b=!!S,C=r(b?w.substring(0,S):w);if(!C){if(!b){d=p+(d.length>0?" "+d:d);continue}if(C=r(w),!C){d=p+(d.length>0?" "+d:d);continue}b=!1}const T=v.length===0?"":v.length===1?v[0]:o(v).join(":"),R=_?T+tg:T,O=R+C;if(l.indexOf(O)>-1)continue;l.push(O);const z=s(C,b);for(let B=0;B<z.length;++B){const $=z[B];l.push(R+$)}d=p+(d.length>0?" "+d:d)}return d},SU=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=DT(n))&&(s&&(s+=" "),s+=r);return s},DT=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=DT(e[r]))&&(n&&(n+=" "),n+=t);return n},EU=(e,...t)=>{let n,r,s,o;const l=d=>{const f=t.reduce((p,g)=>g(p),e());return n=vU(f),r=n.cache.get,s=n.cache.set,o=u,u(d)},u=d=>{const f=r(d);if(f)return f;const p=wU(d,n);return s(d,p),p};return o=l,(...d)=>o(SU(...d))},bU=[],Ft=e=>{const t=n=>n[e]||bU;return t.isThemeGetter=!0,t},$T=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,MT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kU=/^\d+\/\d+$/,TU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,RU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wo=e=>kU.test(e),Be=e=>!!e&&!Number.isNaN(Number(e)),Bs=e=>!!e&&Number.isInteger(Number(e)),lm=e=>e.endsWith("%")&&Be(e.slice(0,-1)),ns=e=>TU.test(e),AU=()=>!0,OU=e=>CU.test(e)&&!xU.test(e),jT=()=>!1,PU=e=>RU.test(e),NU=e=>IU.test(e),LU=e=>!ve(e)&&!_e(e),DU=e=>$a(e,zT,jT),ve=e=>$T.test(e),Pi=e=>$a(e,BT,OU),um=e=>$a(e,UU,Be),x0=e=>$a(e,FT,jT),$U=e=>$a(e,UT,NU),vd=e=>$a(e,VT,PU),_e=e=>MT.test(e),Ml=e=>Ma(e,BT),MU=e=>Ma(e,zU),R0=e=>Ma(e,FT),jU=e=>Ma(e,zT),FU=e=>Ma(e,UT),_d=e=>Ma(e,VT,!0),$a=(e,t,n)=>{const r=$T.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Ma=(e,t,n=!1)=>{const r=MT.exec(e);return r?r[1]?t(r[1]):n:!1},FT=e=>e==="position"||e==="percentage",UT=e=>e==="image"||e==="url",zT=e=>e==="length"||e==="size"||e==="bg-size",BT=e=>e==="length",UU=e=>e==="number",zU=e=>e==="family-name",VT=e=>e==="shadow",BU=()=>{const e=Ft("color"),t=Ft("font"),n=Ft("text"),r=Ft("font-weight"),s=Ft("tracking"),o=Ft("leading"),l=Ft("breakpoint"),u=Ft("container"),d=Ft("spacing"),f=Ft("radius"),p=Ft("shadow"),g=Ft("inset-shadow"),v=Ft("text-shadow"),_=Ft("drop-shadow"),w=Ft("blur"),S=Ft("perspective"),b=Ft("aspect"),C=Ft("ease"),T=Ft("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...O(),_e,ve],B=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],j=()=>[_e,ve,d],te=()=>[Wo,"full","auto",...j()],J=()=>[Bs,"none","subgrid",_e,ve],ce=()=>["auto",{span:["full",Bs,_e,ve]},Bs,_e,ve],ne=()=>[Bs,"auto",_e,ve],le=()=>["auto","min","max","fr",_e,ve],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],fe=()=>["auto",...j()],de=()=>[Wo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],N=()=>[e,_e,ve],re=()=>[...O(),R0,x0,{position:[_e,ve]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",jU,DU,{size:[_e,ve]}],H=()=>[lm,Ml,Pi],oe=()=>["","none","full",f,_e,ve],he=()=>["",Be,Ml,Pi],xe=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[Be,lm,R0,x0],Ue=()=>["","none",w,_e,ve],He=()=>["none",Be,_e,ve],it=()=>["none",Be,_e,ve],un=()=>[Be,_e,ve],ar=()=>[Wo,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ns],breakpoint:[ns],color:[AU],container:[ns],"drop-shadow":[ns],ease:["in","out","in-out"],font:[LU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ns],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ns],shadow:[ns],spacing:["px",Be],text:[ns],"text-shadow":[ns],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wo,ve,_e,b]}],container:["container"],columns:[{columns:[Be,ve,_e,u]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:te()}],"inset-x":[{"inset-x":te()}],"inset-y":[{"inset-y":te()}],start:[{start:te()}],end:[{end:te()}],top:[{top:te()}],right:[{right:te()}],bottom:[{bottom:te()}],left:[{left:te()}],visibility:["visible","invisible","collapse"],z:[{z:[Bs,"auto",_e,ve]}],basis:[{basis:[Wo,"full","auto",u,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Wo,"auto","initial","none",ve]}],grow:[{grow:["",Be,_e,ve]}],shrink:[{shrink:["",Be,_e,ve]}],order:[{order:[Bs,"first","last","none",_e,ve]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:fe()}],mx:[{mx:fe()}],my:[{my:fe()}],ms:[{ms:fe()}],me:[{me:fe()}],mt:[{mt:fe()}],mr:[{mr:fe()}],mb:[{mb:fe()}],ml:[{ml:fe()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[u,"screen",...de()]}],"min-w":[{"min-w":[u,"screen","none",...de()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",n,Ml,Pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,_e,um]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lm,ve]}],"font-family":[{font:[MU,ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,_e,ve]}],"line-clamp":[{"line-clamp":[Be,"none",_e,um]}],leading:[{leading:[o,...j()]}],"list-image":[{"list-image":["none",_e,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",_e,Pi]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[Be,"auto",_e,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bs,_e,ve],radial:["",_e,ve],conic:[Bs,_e,ve]},FU,$U]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,_e,ve]}],"outline-w":[{outline:["",Be,Ml,Pi]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",p,_d,vd]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",g,_d,vd]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[Be,Pi]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",v,_d,vd]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[Be,_e,ve]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[_e,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,ve]}],filter:[{filter:["","none",_e,ve]}],blur:[{blur:Ue()}],brightness:[{brightness:[Be,_e,ve]}],contrast:[{contrast:[Be,_e,ve]}],"drop-shadow":[{"drop-shadow":["","none",_,_d,vd]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",Be,_e,ve]}],"hue-rotate":[{"hue-rotate":[Be,_e,ve]}],invert:[{invert:["",Be,_e,ve]}],saturate:[{saturate:[Be,_e,ve]}],sepia:[{sepia:["",Be,_e,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,ve]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[Be,_e,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Be,_e,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,_e,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,_e,ve]}],"backdrop-invert":[{"backdrop-invert":["",Be,_e,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Be,_e,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Be,_e,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,_e,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",_e,ve]}],ease:[{ease:["linear","initial",C,_e,ve]}],delay:[{delay:[Be,_e,ve]}],animate:[{animate:["none",T,_e,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,_e,ve]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:it()}],"scale-x":[{"scale-x":it()}],"scale-y":[{"scale-y":it()}],"scale-z":[{"scale-z":it()}],"scale-3d":["scale-3d"],skew:[{skew:un()}],"skew-x":[{"skew-x":un()}],"skew-y":[{"skew-y":un()}],transform:[{transform:[_e,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ar()}],"translate-x":[{"translate-x":ar()}],"translate-y":[{"translate-y":ar()}],"translate-z":[{"translate-z":ar()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,ve]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[Be,Ml,Pi,um]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},VU=EU(BU);function Ss(...e){return VU(OT(e))}const WU=tU,WT=k.forwardRef(({className:e,...t},n)=>M.jsx(kT,{ref:n,className:Ss("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));WT.displayName=kT.displayName;const HU=fy("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HT=k.forwardRef(({className:e,variant:t,...n},r)=>M.jsx(TT,{ref:r,className:Ss(HU({variant:t}),e),...n}));HT.displayName=TT.displayName;const qU=k.forwardRef(({className:e,...t},n)=>M.jsx(RT,{ref:n,className:Ss("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));qU.displayName=RT.displayName;const qT=k.forwardRef(({className:e,...t},n)=>M.jsx(IT,{ref:n,className:Ss("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:M.jsx(Ej,{className:"h-4 w-4"})}));qT.displayName=IT.displayName;const KT=k.forwardRef(({className:e,...t},n)=>M.jsx(CT,{ref:n,className:Ss("text-sm font-semibold [&+div]:text-xs",e),...t}));KT.displayName=CT.displayName;const GT=k.forwardRef(({className:e,...t},n)=>M.jsx(xT,{ref:n,className:Ss("text-sm opacity-90",e),...t}));GT.displayName=xT.displayName;function KU(){const{toasts:e}=Aj();return M.jsxs(WU,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return M.jsxs(HT,{...o,children:[M.jsxs("div",{"trae-inspector-start-line":"19","trae-inspector-start-column":"12","trae-inspector-end-line":"24","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\ui\\\\toaster.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"grid gap-1",children:[n&&M.jsx(KT,{children:n}),r&&M.jsx(GT,{children:r})]}),s,M.jsx(qT,{})]},t)}),M.jsx(WT,{})]})}var Ou=e=>e.type==="checkbox",ji=e=>e instanceof Date,xn=e=>e==null;const ZT=e=>typeof e=="object";var Lt=e=>!xn(e)&&!Array.isArray(e)&&ZT(e)&&!ji(e),GU=e=>Lt(e)&&e.target?Ou(e.target)?e.target.checked:e.target.value:e,ZU=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,JU=(e,t)=>e.has(ZU(t)),YU=e=>{const t=e.constructor&&e.constructor.prototype;return Lt(t)&&t.hasOwnProperty("isPrototypeOf")},py=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ut(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(py&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(Lt(e)&&YU(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=Ut(e[s]));return r}var zf=e=>/^\w*$/.test(e),_t=e=>e===void 0,my=e=>Array.isArray(e)?e.filter(Boolean):[],gy=e=>my(e.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(e,t,n)=>{if(!t||!Lt(e))return n;const r=(zf(t)?[t]:gy(t)).reduce((s,o)=>xn(s)?s:s[o],e);return _t(r)||r===e?_t(e[t])?n:e[t]:r},Dr=e=>typeof e=="boolean",kr=e=>typeof e=="function",ot=(e,t,n)=>{let r=-1;const s=zf(t)?[t]:gy(t),o=s.length,l=o-1;for(;++r<o;){const u=s[r];let d=n;if(r!==l){const f=e[u];d=Lt(f)||Array.isArray(f)?f:isNaN(+s[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=d,e=e[u]}};const I0={BLUR:"blur",FOCUS_OUT:"focusout"},Tr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QU=at.createContext(null);QU.displayName="HookFormControlContext";var XU=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const l=o;return t._proxyFormState[l]!==Tr.all&&(t._proxyFormState[l]=!r||Tr.all),e[l]}});return s};const ez=typeof window<"u"?at.useLayoutEffect:at.useEffect;var Vn=e=>typeof e=="string",tz=(e,t,n,r,s)=>Vn(e)?(r&&t.watch.add(e),we(n,e,s)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),we(n,o))):(r&&(t.watchAll=!0),n),ng=e=>xn(e)||!ZT(e);function Js(e,t,n=new WeakSet){if(ng(e)||ng(t))return Object.is(e,t);if(ji(e)&&ji(t))return Object.is(e.getTime(),t.getTime());const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of r){const l=e[o];if(!s.includes(o))return!1;if(o!=="ref"){const u=t[o];if(ji(l)&&ji(u)||Lt(l)&&Lt(u)||Array.isArray(l)&&Array.isArray(u)?!Js(l,u,n):!Object.is(l,u))return!1}}return!0}const nz=at.createContext(null);nz.displayName="HookFormContext";var yy=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Zl=e=>Array.isArray(e)?e:[e],A0=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}};function JT(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],o=t[r];if(s&&Lt(s)&&o){const l=JT(s,o);Lt(l)&&(n[r]=l)}else e[r]&&(n[r]=o)}return n}var mn=e=>Lt(e)&&!Object.keys(e).length,vy=e=>e.type==="file",nf=e=>{if(!py)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},YT=e=>e.type==="select-multiple",_y=e=>e.type==="radio",rz=e=>_y(e)||Ou(e),cm=e=>nf(e)&&e.isConnected;function sz(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=_t(e)?r++:e[t[r++]];return e}function iz(e){for(const t in e)if(e.hasOwnProperty(t)&&!_t(e[t]))return!1;return!0}function Ot(e,t){const n=Array.isArray(t)?t:zf(t)?[t]:gy(t),r=n.length===1?e:sz(e,n),s=n.length-1,o=n[s];return r&&delete r[o],s!==0&&(Lt(r)&&mn(r)||Array.isArray(r)&&iz(r))&&Ot(e,n.slice(0,-1)),e}var oz=e=>{for(const t in e)if(kr(e[t]))return!0;return!1};function QT(e){return Array.isArray(e)||Lt(e)&&!oz(e)}function rg(e,t={}){for(const n in e){const r=e[n];QT(r)?(t[n]=Array.isArray(r)?[]:{},rg(r,t[n])):_t(r)||(t[n]=!0)}return t}function Qo(e,t,n){n||(n=rg(t));for(const r in e){const s=e[r];if(QT(s))_t(t)||ng(n[r])?n[r]=rg(s,Array.isArray(s)?[]:{}):Qo(s,xn(t)?{}:t[r],n[r]);else{const o=t[r];n[r]=!Js(s,o)}}return n}const O0={value:!1,isValid:!1},P0={value:!0,isValid:!0};var XT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_t(e[0].attributes.value)?_t(e[0].value)||e[0].value===""?P0:{value:e[0].value,isValid:!0}:P0:O0}return O0},eC=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>_t(e)?e:t?e===""?NaN:e&&+e:n&&Vn(e)?new Date(e):r?r(e):e;const N0={isValid:!1,value:null};var tC=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,N0):N0;function L0(e){const t=e.ref;return vy(t)?t.files:_y(t)?tC(e.refs).value:YT(t)?[...t.selectedOptions].map(({value:n})=>n):Ou(t)?XT(e.refs).value:eC(_t(t.value)?e.ref.value:t.value,e)}var az=(e,t,n,r)=>{const s={};for(const o of e){const l=we(t,o);l&&ot(s,o,l._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},rf=e=>e instanceof RegExp,jl=e=>_t(e)?e:rf(e)?e.source:Lt(e)?rf(e.value)?e.value.source:e.value:e,D0=e=>({isOnSubmit:!e||e===Tr.onSubmit,isOnBlur:e===Tr.onBlur,isOnChange:e===Tr.onChange,isOnAll:e===Tr.all,isOnTouch:e===Tr.onTouched});const $0="AsyncFunction";var lz=e=>!!e&&!!e.validate&&!!(kr(e.validate)&&e.validate.constructor.name===$0||Lt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===$0)),uz=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),M0=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Jl=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const o=we(e,s);if(o){const{_f:l,...u}=o;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],s)&&!r)return!0;if(l.ref&&t(l.ref,l.name)&&!r)return!0;if(Jl(u,t))break}else if(Lt(u)&&Jl(u,t))break}}};function j0(e,t,n){const r=we(e,n);if(r||zf(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const o=s.join("."),l=we(t,o),u=we(e,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};s.pop()}return{name:n}}var cz=(e,t,n,r)=>{n(e);const{name:s,...o}=e;return mn(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(l=>t[l]===(!r||Tr.all))},dz=(e,t,n)=>!e||!t||e===t||Zl(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),fz=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,hz=(e,t)=>!my(we(e,t)).length&&Ot(e,t),pz=(e,t,n)=>{const r=Zl(we(e,n));return ot(r,"root",t[n]),ot(e,n,r),e};function F0(e,t,n="validate"){if(Vn(e)||Array.isArray(e)&&e.every(Vn)||Dr(e)&&!e)return{type:n,message:Vn(e)?e:"",ref:t}}var Ho=e=>Lt(e)&&!rf(e)?e:{value:e,message:""},U0=async(e,t,n,r,s,o)=>{const{ref:l,refs:u,required:d,maxLength:f,minLength:p,min:g,max:v,pattern:_,validate:w,name:S,valueAsNumber:b,mount:C}=e._f,T=we(n,S);if(!C||t.has(S))return{};const R=u?u[0]:l,O=ne=>{s&&R.reportValidity&&(R.setCustomValidity(Dr(ne)?"":ne||""),R.reportValidity())},z={},B=_y(l),$=Ou(l),j=B||$,te=(b||vy(l))&&_t(l.value)&&_t(T)||nf(l)&&l.value===""||T===""||Array.isArray(T)&&!T.length,J=yy.bind(null,S,r,z),ce=(ne,le,G,me=rs.maxLength,fe=rs.minLength)=>{const de=ne?le:G;z[S]={type:ne?me:fe,message:de,ref:l,...J(ne?me:fe,de)}};if(o?!Array.isArray(T)||!T.length:d&&(!j&&(te||xn(T))||Dr(T)&&!T||$&&!XT(u).isValid||B&&!tC(u).isValid)){const{value:ne,message:le}=Vn(d)?{value:!!d,message:d}:Ho(d);if(ne&&(z[S]={type:rs.required,message:le,ref:R,...J(rs.required,le)},!r))return O(le),z}if(!te&&(!xn(g)||!xn(v))){let ne,le;const G=Ho(v),me=Ho(g);if(!xn(T)&&!isNaN(T)){const fe=l.valueAsNumber||T&&+T;xn(G.value)||(ne=fe>G.value),xn(me.value)||(le=fe<me.value)}else{const fe=l.valueAsDate||new Date(T),de=q=>new Date(new Date().toDateString()+" "+q),N=l.type=="time",re=l.type=="week";Vn(G.value)&&T&&(ne=N?de(T)>de(G.value):re?T>G.value:fe>new Date(G.value)),Vn(me.value)&&T&&(le=N?de(T)<de(me.value):re?T<me.value:fe<new Date(me.value))}if((ne||le)&&(ce(!!ne,G.message,me.message,rs.max,rs.min),!r))return O(z[S].message),z}if((f||p)&&!te&&(Vn(T)||o&&Array.isArray(T))){const ne=Ho(f),le=Ho(p),G=!xn(ne.value)&&T.length>+ne.value,me=!xn(le.value)&&T.length<+le.value;if((G||me)&&(ce(G,ne.message,le.message),!r))return O(z[S].message),z}if(_&&!te&&Vn(T)){const{value:ne,message:le}=Ho(_);if(rf(ne)&&!T.match(ne)&&(z[S]={type:rs.pattern,message:le,ref:l,...J(rs.pattern,le)},!r))return O(le),z}if(w){if(kr(w)){const ne=await w(T,n),le=F0(ne,R);if(le&&(z[S]={...le,...J(rs.validate,le.message)},!r))return O(le.message),z}else if(Lt(w)){let ne={};for(const le in w){if(!mn(ne)&&!r)break;const G=F0(await w[le](T,n),R,le);G&&(ne={...G,...J(le,G.message)},O(G.message),r&&(z[S]=ne))}if(!mn(ne)&&(z[S]={ref:R,...ne},!r))return z}}return O(!0),z};const mz={mode:Tr.onSubmit,reValidateMode:Tr.onChange,shouldFocusError:!0};function gz(e={}){let t={...mz,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:kr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=Lt(t.defaultValues)||Lt(t.values)?Ut(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Ut(s),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={...p};let v={...g};const _={array:A0(),state:A0()},w=t.criteriaMode===Tr.all,S=I=>L=>{clearTimeout(f),f=setTimeout(I,L)},b=async I=>{if(!l.keepIsValid&&!t.disabled&&(g.isValid||v.isValid||I)){let L;t.resolver?(L=mn((await j()).errors),C()):L=await J(r,!0),L!==n.isValid&&_.state.next({isValid:L})}},C=(I,L)=>{!t.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((I||Array.from(u.mount)).forEach(W=>{W&&(L?ot(n.validatingFields,W,L):Ot(n.validatingFields,W))}),_.state.next({validatingFields:n.validatingFields,isValidating:!mn(n.validatingFields)}))},T=(I,L=[],W,ae,Z=!0,se=!0)=>{if(ae&&W&&!t.disabled){if(l.action=!0,se&&Array.isArray(we(r,I))){const ke=W(we(r,I),ae.argA,ae.argB);Z&&ot(r,I,ke)}if(se&&Array.isArray(we(n.errors,I))){const ke=W(we(n.errors,I),ae.argA,ae.argB);Z&&ot(n.errors,I,ke),hz(n.errors,I)}if((g.touchedFields||v.touchedFields)&&se&&Array.isArray(we(n.touchedFields,I))){const ke=W(we(n.touchedFields,I),ae.argA,ae.argB);Z&&ot(n.touchedFields,I,ke)}(g.dirtyFields||v.dirtyFields)&&(n.dirtyFields=Qo(s,o)),_.state.next({name:I,isDirty:ne(I,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ot(o,I,L)},R=(I,L)=>{ot(n.errors,I,L),_.state.next({errors:n.errors})},O=I=>{n.errors=I,_.state.next({errors:n.errors,isValid:!1})},z=(I,L,W,ae)=>{const Z=we(r,I);if(Z){const se=we(o,I,_t(W)?we(s,I):W);_t(se)||ae&&ae.defaultChecked||L?ot(o,I,L?se:L0(Z._f)):me(I,se),l.mount&&!l.action&&b()}},B=(I,L,W,ae,Z)=>{let se=!1,ke=!1;const Ze={name:I};if(!t.disabled){if(!W||ae){(g.isDirty||v.isDirty)&&(ke=n.isDirty,n.isDirty=Ze.isDirty=ne(),se=ke!==Ze.isDirty);const et=Js(we(s,I),L);ke=!!we(n.dirtyFields,I),et?Ot(n.dirtyFields,I):ot(n.dirtyFields,I,!0),Ze.dirtyFields=n.dirtyFields,se=se||(g.dirtyFields||v.dirtyFields)&&ke!==!et}if(W){const et=we(n.touchedFields,I);et||(ot(n.touchedFields,I,W),Ze.touchedFields=n.touchedFields,se=se||(g.touchedFields||v.touchedFields)&&et!==W)}se&&Z&&_.state.next(Ze)}return se?Ze:{}},$=(I,L,W,ae)=>{const Z=we(n.errors,I),se=(g.isValid||v.isValid)&&Dr(L)&&n.isValid!==L;if(t.delayError&&W?(d=S(()=>R(I,W)),d(t.delayError)):(clearTimeout(f),d=null,W?ot(n.errors,I,W):Ot(n.errors,I)),(W?!Js(Z,W):Z)||!mn(ae)||se){const ke={...ae,...se&&Dr(L)?{isValid:L}:{},errors:n.errors,name:I};n={...n,...ke},_.state.next(ke)}},j=async I=>(C(I,!0),await t.resolver(o,t.context,az(I||u.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),te=async I=>{const{errors:L}=await j(I);if(C(I),I)for(const W of I){const ae=we(L,W);ae?ot(n.errors,W,ae):Ot(n.errors,W)}else n.errors=L;return L},J=async(I,L,W={valid:!0})=>{for(const ae in I){const Z=I[ae];if(Z){const{_f:se,...ke}=Z;if(se){const Ze=u.array.has(se.name),et=Z._f&&lz(Z._f);et&&g.validatingFields&&C([se.name],!0);const xt=await U0(Z,u.disabled,o,w,t.shouldUseNativeValidation&&!L,Ze);if(et&&g.validatingFields&&C([se.name]),xt[se.name]&&(W.valid=!1,L||e.shouldUseNativeValidation))break;!L&&(we(xt,se.name)?Ze?pz(n.errors,xt,se.name):ot(n.errors,se.name,xt[se.name]):Ot(n.errors,se.name))}!mn(ke)&&await J(ke,L,W)}}return W.valid},ce=()=>{for(const I of u.unMount){const L=we(r,I);L&&(L._f.refs?L._f.refs.every(W=>!cm(W)):!cm(L._f.ref))&&Ue(I)}u.unMount=new Set},ne=(I,L)=>!t.disabled&&(I&&L&&ot(o,I,L),!Js(P(),s)),le=(I,L,W)=>tz(I,u,{...l.mount?o:_t(L)?s:Vn(I)?{[I]:L}:L},W,L),G=I=>my(we(l.mount?o:s,I,t.shouldUnregister?we(s,I,[]):[])),me=(I,L,W={})=>{const ae=we(r,I);let Z=L;if(ae){const se=ae._f;se&&(!se.disabled&&ot(o,I,eC(L,se)),Z=nf(se.ref)&&xn(L)?"":L,YT(se.ref)?[...se.ref.options].forEach(ke=>ke.selected=Z.includes(ke.value)):se.refs?Ou(se.ref)?se.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(Z)?ke.checked=!!Z.find(Ze=>Ze===ke.value):ke.checked=Z===ke.value||!!Z)}):se.refs.forEach(ke=>ke.checked=ke.value===Z):vy(se.ref)?se.ref.value="":(se.ref.value=Z,se.ref.type||_.state.next({name:I,values:Ut(o)})))}(W.shouldDirty||W.shouldTouch)&&B(I,Z,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&q(I)},fe=(I,L,W)=>{for(const ae in L){if(!L.hasOwnProperty(ae))return;const Z=L[ae],se=I+"."+ae,ke=we(r,se);(u.array.has(I)||Lt(Z)||ke&&!ke._f)&&!ji(Z)?fe(se,Z,W):me(se,Z,W)}},de=(I,L,W={})=>{const ae=we(r,I),Z=u.array.has(I),se=Ut(L);ot(o,I,se),Z?(_.array.next({name:I,values:Ut(o)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&W.shouldDirty&&_.state.next({name:I,dirtyFields:Qo(s,o),isDirty:ne(I,se)})):ae&&!ae._f&&!xn(se)?fe(I,se,W):me(I,se,W),M0(I,u)?_.state.next({...n,name:I,values:Ut(o)}):_.state.next({name:l.mount?I:void 0,values:Ut(o)})},N=async I=>{l.mount=!0;const L=I.target;let W=L.name,ae=!0;const Z=we(r,W),se=et=>{ae=Number.isNaN(et)||ji(et)&&isNaN(et.getTime())||Js(et,we(o,W,et))},ke=D0(t.mode),Ze=D0(t.reValidateMode);if(Z){let et,xt;const Ln=L.type?L0(Z._f):GU(I),Ir=I.type===I0.BLUR||I.type===I0.FOCUS_OUT,Gu=!uz(Z._f)&&!t.resolver&&!we(n.errors,W)&&!Z._f.deps||fz(Ir,we(n.touchedFields,W),n.isSubmitted,Ze,ke),co=M0(W,u,Ir);ot(o,W,Ln),Ir?(!L||!L.readOnly)&&(Z._f.onBlur&&Z._f.onBlur(I),d&&d(0)):Z._f.onChange&&Z._f.onChange(I);const Za=B(W,Ln,Ir),Ja=!mn(Za)||co;if(!Ir&&_.state.next({name:W,type:I.type,values:Ut(o)}),Gu)return(g.isValid||v.isValid)&&(t.mode==="onBlur"?Ir&&b():Ir||b()),Ja&&_.state.next({name:W,...co?{}:Za});if(!Ir&&co&&_.state.next({...n}),t.resolver){const{errors:fo}=await j([W]);if(C([W]),se(Ln),ae){const Ya=j0(n.errors,r,W),ho=j0(fo,r,Ya.name||W);et=ho.error,W=ho.name,xt=mn(fo)}}else C([W],!0),et=(await U0(Z,u.disabled,o,w,t.shouldUseNativeValidation))[W],C([W]),se(Ln),ae&&(et?xt=!1:(g.isValid||v.isValid)&&(xt=await J(r,!0)));ae&&(Z._f.deps&&(!Array.isArray(Z._f.deps)||Z._f.deps.length>0)&&q(Z._f.deps),$(W,xt,et,Za))}},re=(I,L)=>{if(we(n.errors,L)&&I.focus)return I.focus(),1},q=async(I,L={})=>{let W,ae;const Z=Zl(I);if(t.resolver){const se=await te(_t(I)?I:Z);W=mn(se),ae=I?!Z.some(ke=>we(se,ke)):W}else I?(ae=(await Promise.all(Z.map(async se=>{const ke=we(r,se);return await J(ke&&ke._f?{[se]:ke}:ke)}))).every(Boolean),!(!ae&&!n.isValid)&&b()):ae=W=await J(r);return _.state.next({...!Vn(I)||(g.isValid||v.isValid)&&W!==n.isValid?{}:{name:I},...t.resolver||!I?{isValid:W}:{},errors:n.errors}),L.shouldFocus&&!ae&&Jl(r,re,I?Z:u.mount),ae},P=(I,L)=>{let W={...l.mount?o:s};return L&&(W=JT(L.dirtyFields?n.dirtyFields:n.touchedFields,W)),_t(I)?W:Vn(I)?we(W,I):I.map(ae=>we(W,ae))},H=(I,L)=>({invalid:!!we((L||n).errors,I),isDirty:!!we((L||n).dirtyFields,I),error:we((L||n).errors,I),isValidating:!!we(n.validatingFields,I),isTouched:!!we((L||n).touchedFields,I)}),oe=I=>{I&&Zl(I).forEach(L=>Ot(n.errors,L)),_.state.next({errors:I?n.errors:{}})},he=(I,L,W)=>{const ae=(we(r,I,{_f:{}})._f||{}).ref,Z=we(n.errors,I)||{},{ref:se,message:ke,type:Ze,...et}=Z;ot(n.errors,I,{...et,...L,ref:ae}),_.state.next({name:I,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&ae&&ae.focus&&ae.focus()},xe=(I,L)=>kr(I)?_.state.subscribe({next:W=>"values"in W&&I(le(void 0,L),W)}):le(I,L,!0),je=I=>_.state.subscribe({next:L=>{dz(I.name,L.name,I.exact)&&cz(L,I.formState||g,Kr,I.reRenderRoot)&&I.callback({values:{...o},...n,...L,defaultValues:s})}}).unsubscribe,Ce=I=>(l.mount=!0,v={...v,...I.formState},je({...I,formState:{...p,...I.formState}})),Ue=(I,L={})=>{for(const W of I?Zl(I):u.mount)u.mount.delete(W),u.array.delete(W),L.keepValue||(Ot(r,W),Ot(o,W)),!L.keepError&&Ot(n.errors,W),!L.keepDirty&&Ot(n.dirtyFields,W),!L.keepTouched&&Ot(n.touchedFields,W),!L.keepIsValidating&&Ot(n.validatingFields,W),!t.shouldUnregister&&!L.keepDefaultValue&&Ot(s,W);_.state.next({values:Ut(o)}),_.state.next({...n,...L.keepDirty?{isDirty:ne()}:{}}),!L.keepIsValid&&b()},He=({disabled:I,name:L})=>{if(Dr(I)&&l.mount||I||u.disabled.has(L)){const Z=u.disabled.has(L)!==!!I;I?u.disabled.add(L):u.disabled.delete(L),Z&&l.mount&&!l.action&&b()}},it=(I,L={})=>{let W=we(r,I);const ae=Dr(L.disabled)||Dr(t.disabled);return ot(r,I,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:I}},name:I,mount:!0,...L}}),u.mount.add(I),W?He({disabled:Dr(L.disabled)?L.disabled:t.disabled,name:I}):z(I,!0,L.value),{...ae?{disabled:L.disabled||t.disabled}:{},...t.progressive?{required:!!L.required,min:jl(L.min),max:jl(L.max),minLength:jl(L.minLength),maxLength:jl(L.maxLength),pattern:jl(L.pattern)}:{},name:I,onChange:N,onBlur:N,ref:Z=>{if(Z){it(I,L),W=we(r,I);const se=_t(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,ke=rz(se),Ze=W._f.refs||[];if(ke?Ze.find(et=>et===se):se===W._f.ref)return;ot(r,I,{_f:{...W._f,...ke?{refs:[...Ze.filter(cm),se,...Array.isArray(we(s,I))?[{}]:[]],ref:{type:se.type,name:I}}:{ref:se}}}),z(I,!1,void 0,se)}else W=we(r,I,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(JU(u.array,I)&&l.action)&&u.unMount.add(I)}}},un=()=>t.shouldFocusError&&Jl(r,re,u.mount),ar=I=>{Dr(I)&&(_.state.next({disabled:I}),Jl(r,(L,W)=>{const ae=we(r,W);ae&&(L.disabled=ae._f.disabled||I,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(Z=>{Z.disabled=ae._f.disabled||I}))},0,!1))},Wr=(I,L)=>async W=>{let ae;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let Z=Ut(o);if(_.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:ke}=await j();C(),n.errors=se,Z=Ut(ke)}else await J(r);if(u.disabled.size)for(const se of u.disabled)Ot(Z,se);if(Ot(n.errors,"root"),mn(n.errors)){_.state.next({errors:{}});try{await I(Z,W)}catch(se){ae=se}}else L&&await L({...n.errors},W),un(),setTimeout(un);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:mn(n.errors)&&!ae,submitCount:n.submitCount+1,errors:n.errors}),ae)throw ae},Pn=(I,L={})=>{we(r,I)&&(_t(L.defaultValue)?de(I,Ut(we(s,I))):(de(I,L.defaultValue),ot(s,I,Ut(L.defaultValue))),L.keepTouched||Ot(n.touchedFields,I),L.keepDirty||(Ot(n.dirtyFields,I),n.isDirty=L.defaultValue?ne(I,Ut(we(s,I))):ne()),L.keepError||(Ot(n.errors,I),g.isValid&&b()),_.state.next({...n}))},Nn=(I,L={})=>{const W=I?Ut(I):s,ae=Ut(W),Z=mn(I),se=Z?s:ae;if(L.keepDefaultValues||(s=W),!L.keepValues){if(L.keepDirtyValues){const ke=new Set([...u.mount,...Object.keys(Qo(s,o))]);for(const Ze of Array.from(ke)){const et=we(n.dirtyFields,Ze),xt=we(o,Ze),Ln=we(se,Ze);et&&!_t(xt)?ot(se,Ze,xt):!et&&!_t(Ln)&&de(Ze,Ln)}}else{if(py&&_t(I))for(const ke of u.mount){const Ze=we(r,ke);if(Ze&&Ze._f){const et=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(nf(et)){const xt=et.closest("form");if(xt){xt.reset();break}}}}if(L.keepFieldsRef)for(const ke of u.mount)de(ke,we(se,ke));else r={}}o=t.shouldUnregister?L.keepDefaultValues?Ut(s):{}:Ut(se),_.array.next({values:{...se}}),_.state.next({values:{...se}})}u={mount:L.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!L.keepIsValid||!!L.keepDirtyValues||!t.shouldUnregister&&!mn(se),l.watch=!!t.shouldUnregister,l.keepIsValid=!!L.keepIsValid,l.action=!1,L.keepErrors||(n.errors={}),_.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:Z?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!Js(I,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Z?{}:L.keepDirtyValues?L.keepDefaultValues&&o?Qo(s,o):n.dirtyFields:L.keepDefaultValues&&I?Qo(s,I):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Hr=(I,L)=>Nn(kr(I)?I(o):I,{...t.resetOptions,...L}),qr=(I,L={})=>{const W=we(r,I),ae=W&&W._f;if(ae){const Z=ae.refs?ae.refs[0]:ae.ref;Z.focus&&setTimeout(()=>{Z.focus(),L.shouldSelect&&kr(Z.select)&&Z.select()})}},Kr=I=>{n={...n,...I}},ze={control:{register:it,unregister:Ue,getFieldState:H,handleSubmit:Wr,setError:he,_subscribe:je,_runSchema:j,_updateIsValidating:C,_focusError:un,_getWatch:le,_getDirty:ne,_setValid:b,_setFieldArray:T,_setDisabledField:He,_setErrors:O,_getFieldArray:G,_reset:Nn,_resetDefaultValues:()=>kr(t.defaultValues)&&t.defaultValues().then(I=>{Hr(I,t.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:ce,_disableForm:ar,_subjects:_,_proxyFormState:g,get _fields(){return r},get _formValues(){return o},get _state(){return l},set _state(I){l=I},get _defaultValues(){return s},get _names(){return u},set _names(I){u=I},get _formState(){return n},get _options(){return t},set _options(I){t={...t,...I}}},subscribe:Ce,trigger:q,register:it,handleSubmit:Wr,watch:xe,setValue:de,getValues:P,reset:Hr,resetField:Pn,clearErrors:oe,unregister:Ue,setError:he,setFocus:qr,getFieldState:H};return{...ze,formControl:ze}}function yz(e={}){const t=at.useRef(void 0),n=at.useRef(void 0),[r,s]=at.useState({isDirty:!1,isValidating:!1,isLoading:kr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:kr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!kr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...u}=gz(e);t.current={...u,formState:r}}const o=t.current.control;return o._options=e,ez(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),o._formState.isReady=!0,l},[o]),at.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),at.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),at.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),at.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),at.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==r.isDirty&&o._subjects.state.next({isDirty:l})}},[o,r.isDirty]),at.useEffect(()=>{var l;e.values&&!Js(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((l=o._options.resetOptions)===null||l===void 0)&&l.keepIsValid||o._setValid(),n.current=e.values,s(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),at.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=at.useMemo(()=>XU(r,o),[o,r]),t.current}const z0=(e,t,n)=>{if(e&&"reportValidity"in e){const r=we(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},sg=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?z0(r.ref,n,e):r&&r.refs&&r.refs.forEach(s=>z0(s,n,e))}},B0=(e,t)=>{t.shouldUseNativeValidation&&sg(e,t);const n={};for(const r in e){const s=we(t.fields,r),o=Object.assign(e[r]||{},{ref:s&&s.ref});if(vz(t.names||Object.keys(e),r)){const l=Object.assign({},we(n,r));ot(l,"root",o),ot(n,r,l)}else ot(n,r,o)}return n},vz=(e,t)=>{const n=V0(t);return e.some(r=>V0(r).match(`^${n}\\.\\d+`))};function V0(e){return e.replace(/\]|\[/g,"")}function W0(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function _z(e,t){for(var n={};e.length;){var r=e[0],s=r.code,o=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var u=r.unionErrors[0].errors[0];n[l]={message:u.message,type:u.code}}else n[l]={message:o,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return e.push(g)})}),t){var d=n[l].types,f=d&&d[r.code];n[l]=yy(l,t,n,s,f?[].concat(f,r.message):r.message)}e.shift()}return n}function wz(e,t){for(var n={};e.length;){var r=e[0],s=r.code,o=r.message,l=r.path.join(".");if(!n[l])if(r.code==="invalid_union"&&r.errors.length>0){var u=r.errors[0][0];n[l]={message:u.message,type:u.code}}else n[l]={message:o,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(p){return p.forEach(function(g){return e.push(g)})}),t){var d=n[l].types,f=d&&d[r.code];n[l]=yy(l,t,n,s,f?[].concat(f,r.message):r.message)}e.shift()}return n}function Sz(e,t,n){if(n===void 0&&(n={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(e))return function(r,s,o){try{return Promise.resolve(W0(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(l){return o.shouldUseNativeValidation&&sg({},o),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if((function(u){return Array.isArray(u==null?void 0:u.issues)})(l))return{values:{},errors:B0(_z(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(e))return function(r,s,o){try{return Promise.resolve(W0(function(){return Promise.resolve((n.mode==="sync"?QL:XL)(e,r,t)).then(function(l){return o.shouldUseNativeValidation&&sg({},o),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if((function(u){return u instanceof sy})(l))return{values:{},errors:B0(wz(l.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const Ez=oy({email:Cn().min(1,"Email is required").email("Invalid email address")}),bz=oy({name:Cn().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters").optional(),email:Cn().min(1,"Email is required").email("Invalid email address"),role:ra(["admin","student","operator"]),team:Cn().max(50,"Team name must be less than 50 characters").optional()});bz.partial().extend({id:Cn().min(1,"User ID is required")});const kz={async signInWithEmail(e){return Zs.auth.signInWithOtp({email:e,options:{emailRedirectTo:window.location.origin}})},async verifyOtp(e,t){return Zs.auth.verifyOtp({email:e,token:t,type:"email"})},async signOut(){return Zs.auth.signOut()},async getUser(){return Zs.auth.getUser()},async getSession(){return Zs.auth.getSession()}};var Tz=Symbol.for("react.lazy"),sf=Vb[" use ".trim().toString()];function Cz(e){return typeof e=="object"&&e!==null&&"then"in e}function nC(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Tz&&"_payload"in e&&Cz(e._payload)}function rC(e){const t=Rz(e),n=k.forwardRef((r,s)=>{let{children:o,...l}=r;nC(o)&&typeof sf=="function"&&(o=sf(o._payload));const u=k.Children.toArray(o),d=u.find(Az);if(d){const f=d.props.children,p=u.map(g=>g===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:g);return M.jsx(t,{...l,ref:s,children:k.isValidElement(f)?k.cloneElement(f,void 0,p):null})}return M.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var xz=rC("Slot");function Rz(e){const t=k.forwardRef((n,r)=>{let{children:s,...o}=n;if(nC(s)&&typeof sf=="function"&&(s=sf(s._payload)),k.isValidElement(s)){const l=Pz(s),u=Oz(o,s.props);return s.type!==k.Fragment&&(u.ref=r?oo(r,l):l),k.cloneElement(s,u)}return k.Children.count(s)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Iz=Symbol("radix.slottable");function Az(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Iz}function Oz(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Pz(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Nz=fy("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-indigo-600 text-white hover:bg-indigo-700",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ig=k.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const l=r?xz:"button";return M.jsx(l,{className:Ss(Nz({variant:t,size:n,className:e})),ref:o,...s})});ig.displayName="Button";const sC=k.forwardRef(({className:e,type:t,...n},r)=>M.jsx("input",{"trae-inspector-start-line":"10","trae-inspector-start-column":"6","trae-inspector-end-line":"18","trae-inspector-end-column":"8","trae-inspector-file-path":"src\\\\components\\\\ui\\\\input.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",type:t,className:Ss("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));sC.displayName="Input";var Lz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dz=Lz.reduce((e,t)=>{const n=rC(`Primitive.${t}`),r=k.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),$z="Label",iC=k.forwardRef((e,t)=>M.jsx(Dz.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iC.displayName=$z;var oC=iC;const Mz=fy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),aC=k.forwardRef(({className:e,...t},n)=>M.jsx(oC,{ref:n,className:Ss(Mz(),e),...t}));aC.displayName=oC.displayName;function jz(){const[e,t]=k.useState(null),{mockLogin:n}=ay(),r=Kg(),{register:s,handleSubmit:o,formState:{errors:l,isSubmitting:u}}=yz({resolver:Sz(Ez)}),d=()=>{n("demo@salesboost.com"),r("/student/dashboard")},f=async p=>{t(null);try{const{error:g}=await kz.signInWithEmail(p.email);if(g)throw g;t({type:"success",text:"Check your email for the login link!"})}catch(g){t({type:"error",text:g.message||"An error occurred. Please try again."})}};return M.jsx("div",{"trae-inspector-start-line":"50","trae-inspector-start-column":"4","trae-inspector-end-line":"119","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"flex min-h-screen items-center justify-center bg-gray-50",children:M.jsxs("div",{"trae-inspector-start-line":"51","trae-inspector-start-column":"6","trae-inspector-end-line":"118","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"w-full max-w-md space-y-8 p-8 bg-white rounded-xl shadow-lg",children:[M.jsxs("div",{"trae-inspector-start-line":"52","trae-inspector-start-column":"8","trae-inspector-end-line":"59","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-center",children:[M.jsx("h2",{"trae-inspector-start-line":"53","trae-inspector-start-column":"10","trae-inspector-end-line":"55","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sign%20in%20to%20SalesBoost%22%2C%22textStartLine%22%3A%2253%22%2C%22textStartColumn%22%3A%2279%22%2C%22textEndLine%22%3A%2255%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"mt-6 text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to SalesBoost"}),M.jsx("p",{"trae-inspector-start-line":"56","trae-inspector-start-column":"10","trae-inspector-end-line":"58","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Enter%20your%20email%20to%20receive%20a%20magic%20link%22%2C%22textStartLine%22%3A%2256%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%2258%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"mt-2 text-sm text-gray-600",children:"Enter your email to receive a magic link"})]}),M.jsxs("form",{"trae-inspector-start-line":"61","trae-inspector-start-column":"8","trae-inspector-end-line":"117","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"mt-8 space-y-6",onSubmit:o(f),children:[M.jsxs("div",{"trae-inspector-start-line":"62","trae-inspector-start-column":"10","trae-inspector-end-line":"77","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"space-y-2",children:[M.jsx(aC,{htmlFor:"email",children:"Email address"}),M.jsx(sC,{id:"email",type:"email",placeholder:"you@example.com",...s("email"),"aria-invalid":l.email?"true":"false","aria-describedby":l.email?"email-error":void 0}),l.email&&M.jsx("p",{"trae-inspector-start-line":"73","trae-inspector-start-column":"14","trae-inspector-end-line":"75","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",id:"email-error",className:"text-sm text-red-600",role:"alert",children:l.email.message})]}),M.jsx(ig,{type:"submit",className:"w-full",disabled:u,children:u?"Sending...":"Send Magic Link"}),M.jsxs("div",{"trae-inspector-start-line":"87","trae-inspector-start-column":"10","trae-inspector-end-line":"94","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"relative",children:[M.jsx("div",{"trae-inspector-start-line":"88","trae-inspector-start-column":"12","trae-inspector-end-line":"90","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"absolute inset-0 flex items-center",children:M.jsx("span",{"trae-inspector-start-line":"89","trae-inspector-start-column":"14","trae-inspector-end-line":"89","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"w-full border-t border-gray-300"})}),M.jsx("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"12","trae-inspector-end-line":"93","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"relative flex justify-center text-xs uppercase",children:M.jsx("span",{"trae-inspector-start-line":"92","trae-inspector-start-column":"14","trae-inspector-end-line":"92","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Or%20continue%20with%22%2C%22textStartLine%22%3A%2292%22%2C%22textStartColumn%22%3A%2260%22%2C%22textEndLine%22%3A%2292%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),M.jsx(ig,{type:"button",variant:"outline",className:"w-full",onClick:d,children:"Demo Login (No Email Required)"}),e&&M.jsx("div",{"trae-inspector-start-line":"106","trae-inspector-start-column":"12","trae-inspector-end-line":"115","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\auth\\\\LoginPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:`text-sm text-center p-3 rounded-md ${e.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,role:"alert",children:e.text})]})]})})}const Fz=k.lazy(()=>ln(()=>import("./StudentLayout-rBXynUbB.js"),__vite__mapDeps([0,1,2,3]))),Uz=k.lazy(()=>ln(()=>import("./AdminLayout-fUSHs2Am.js"),__vite__mapDeps([4,5,6,1,7]))),zz=k.lazy(()=>ln(()=>import("./Dashboard-DQ-s6BvU.js"),__vite__mapDeps([8,9,10,11,12,13,14,15]))),Bz=k.lazy(()=>ln(()=>import("./CustomerList-BAjBTYiK.js"),__vite__mapDeps([16,10,17,18,13,19,20]))),Vz=k.lazy(()=>ln(()=>import("./History-DOgL5_uO.js"),__vite__mapDeps([21,11,12,22,7,17,9,10,3,19]))),Wz=k.lazy(()=>ln(()=>import("./CourseList-CrlHUMaP.js"),__vite__mapDeps([23,24,14,15,10,25,26]))),H0=k.lazy(()=>ln(()=>import("./Training-D6YIhD2H.js"),__vite__mapDeps([27,10,5,6,28,29,15,30,26]))),Hz=k.lazy(()=>ln(()=>import("./Evaluation-CghRyEHE.js"),__vite__mapDeps([31,24,28,29,15,10,25,26,32,6,33]))),qz=k.lazy(()=>ln(()=>import("./Dashboard-DC1U__P4.js"),__vite__mapDeps([34,24,10,29,15,26,2,32,6,33]))),Kz=k.lazy(()=>ln(()=>import("./Courses-BrS9S0b7.js"),__vite__mapDeps([35,10,22,7,36,37,18,3,19]))),Gz=k.lazy(()=>ln(()=>import("./Tasks-mEhQu1tb.js"),__vite__mapDeps([38,11,22,7,12,18,20]))),Zz=k.lazy(()=>ln(()=>import("./Analysis-C73cfBax.js"),__vite__mapDeps([39,10,2,40,41,37]))),Jz=k.lazy(()=>ln(()=>import("./Users-CQIovwGa.js"),__vite__mapDeps([42,10,12,5,6,14,15,30]))),Yz=k.lazy(()=>ln(()=>import("./Settings-sk7jr3In.js"),__vite__mapDeps([43,10]))),Qz=k.lazy(()=>ln(()=>import("./EvolutionTrends-CJBAtaBv.js"),__vite__mapDeps([44,10,11,40,32,6]))),Xz=k.lazy(()=>ln(()=>import("./KnowledgeBase-Cy0geQIj.js"),__vite__mapDeps([45,11,10,12,18,2,36,41])));function lC(){return M.jsx("div",{"trae-inspector-start-line":"36","trae-inspector-start-column":"4","trae-inspector-end-line":"41","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\App.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"flex h-screen items-center justify-center",children:M.jsxs("div",{"trae-inspector-start-line":"37","trae-inspector-start-column":"6","trae-inspector-end-line":"40","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\App.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-center",children:[M.jsx("div",{"trae-inspector-start-line":"38","trae-inspector-start-column":"8","trae-inspector-end-line":"38","trae-inspector-end-column":"107","trae-inspector-file-path":"src\\\\App.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),M.jsx("p",{"trae-inspector-start-line":"39","trae-inspector-start-column":"8","trae-inspector-end-line":"39","trae-inspector-end-column":"51","trae-inspector-file-path":"src\\\\App.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading...%22%2C%22textStartLine%22%3A%2239%22%2C%22textStartColumn%22%3A%2237%22%2C%22textEndLine%22%3A%2239%22%2C%22textEndColumn%22%3A%2247%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-gray-600",children:"Loading..."})]})})}function eB({children:e,requireAdmin:t=!1}){var s,o;const{user:n,isLoading:r}=ay();if(r)return M.jsx(lC,{});if(!n)return M.jsx(Hl,{to:"/login",replace:!0});if(t){const l=((s=n.user_metadata)==null?void 0:s.role)||((o=n.app_metadata)==null?void 0:o.role);if(l!=="admin")return console.warn("Access denied: User does not have admin role",{userId:n.id,role:l}),M.jsx(Hl,{to:"/student/dashboard",replace:!0})}return M.jsx(M.Fragment,{children:e})}function tB(){const{initialize:e}=ay();return k.useEffect(()=>{e()},[e]),M.jsxs(bj,{children:[M.jsx(kj,{}),M.jsxs(GP,{children:[M.jsx(k.Suspense,{fallback:M.jsx(lC,{}),children:M.jsxs(kP,{children:[M.jsx(bt,{path:"/login",element:M.jsx(jz,{})}),M.jsxs(bt,{path:"/student",element:M.jsx(Fz,{}),children:[M.jsx(bt,{path:"dashboard",element:M.jsx(zz,{})}),M.jsx(bt,{path:"customers",element:M.jsx(Bz,{})}),M.jsx(bt,{path:"history",element:M.jsx(Vz,{})}),M.jsx(bt,{path:"courses",element:M.jsx(Wz,{})}),M.jsx(bt,{path:"training",element:M.jsx(H0,{})}),M.jsx(bt,{path:"training/:courseId",element:M.jsx(H0,{})}),M.jsx(bt,{path:"evaluation",element:M.jsx(Hz,{})}),M.jsx(bt,{index:!0,element:M.jsx(Hl,{to:"dashboard",replace:!0})})]}),M.jsxs(bt,{path:"/admin",element:M.jsx(eB,{requireAdmin:!0,children:M.jsx(Uz,{})}),children:[M.jsx(bt,{path:"dashboard",element:M.jsx(qz,{})}),M.jsx(bt,{path:"users",element:M.jsx(Jz,{})}),M.jsx(bt,{path:"courses",element:M.jsx(Kz,{})}),M.jsx(bt,{path:"tasks",element:M.jsx(Gz,{})}),M.jsx(bt,{path:"analysis",element:M.jsx(Zz,{})}),M.jsx(bt,{path:"knowledge",element:M.jsx(Xz,{})}),M.jsx(bt,{path:"evolution",element:M.jsx(Qz,{})}),M.jsx(bt,{path:"settings",element:M.jsx(Yz,{})}),M.jsx(bt,{index:!0,element:M.jsx(Hl,{to:"dashboard",replace:!0})})]}),M.jsx(bt,{path:"/",element:M.jsx(Hl,{to:"/student/dashboard",replace:!0})})]})}),M.jsx(KU,{})]})]})}const Te=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,qe=globalThis,Ki="10.38.0";function ao(){return Bf(qe),qe}function Bf(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ki,t[Ki]=t[Ki]||{}}function ja(e,t,n=qe){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Ki]=r[Ki]||{};return s[e]||(s[e]=t())}const nB=["debug","info","warn","error","log","assert","trace"],rB="Sentry Logger ",of={};function lo(e){if(!("console"in qe))return e();const t=qe.console,n={},r=Object.keys(of);r.forEach(s=>{const o=of[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function sB(){Sy().enabled=!0}function iB(){Sy().enabled=!1}function uC(){return Sy().enabled}function oB(...e){wy("log",...e)}function aB(...e){wy("warn",...e)}function lB(...e){wy("error",...e)}function wy(e,...t){Te&&uC()&&lo(()=>{qe.console[e](`${rB}[${e}]:`,...t)})}function Sy(){return Te?ja("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const ue={enable:sB,disable:iB,isEnabled:uC,log:oB,warn:aB,error:lB},cC=50,to="?",q0=/\(error: (.*)\)/,K0=/captureMessage|captureException/;function dC(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],l=n.split(`
`);for(let u=r;u<l.length;u++){let d=l[u];d.length>1024&&(d=d.slice(0,1024));const f=q0.test(d)?d.replace(q0,"$1"):d;if(!f.match(/\S*Error: /)){for(const p of t){const g=p(f);if(g){o.push(g);break}}if(o.length>=cC+s)break}}return cB(o.slice(s))}}function uB(e){return Array.isArray(e)?dC(...e):e}function cB(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(wd(t).function||"")&&t.pop(),t.reverse(),K0.test(wd(t).function||"")&&(t.pop(),K0.test(wd(t).function||"")&&t.pop()),t.slice(0,cC).map(n=>({...n,filename:n.filename||wd(t).filename,function:n.function||to}))}function wd(e){return e[e.length-1]||{}}const dm="<anonymous>";function ms(e){try{return!e||typeof e!="function"?dm:e.name||dm}catch{return dm}}function G0(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function fC(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Dd={},Z0={};function hi(e,t){Dd[e]=Dd[e]||[],Dd[e].push(t)}function pi(e,t){if(!Z0[e]){Z0[e]=!0;try{t()}catch(n){Te&&ue.error(`Error while instrumenting ${e}`,n)}}}function nr(e,t){const n=e&&Dd[e];if(n)for(const r of n)try{r(t)}catch(s){Te&&ue.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ms(r)}
Error:`,s)}}let fm=null;function hC(e){const t="error";hi(t,e),pi(t,dB)}function dB(){fm=qe.onerror,qe.onerror=function(e,t,n,r,s){return nr("error",{column:r,error:s,line:n,msg:e,url:t}),fm?fm.apply(this,arguments):!1},qe.onerror.__SENTRY_INSTRUMENTED__=!0}let hm=null;function pC(e){const t="unhandledrejection";hi(t,e),pi(t,fB)}function fB(){hm=qe.onunhandledrejection,qe.onunhandledrejection=function(e){return nr("unhandledrejection",e),hm?hm.apply(this,arguments):!0},qe.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const mC=Object.prototype.toString;function Vf(e){switch(mC.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return gs(e,Error)}}function Fa(e,t){return mC.call(e)===`[object ${t}]`}function gC(e){return Fa(e,"ErrorEvent")}function J0(e){return Fa(e,"DOMError")}function hB(e){return Fa(e,"DOMException")}function cs(e){return Fa(e,"String")}function Ey(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Sa(e){return e===null||Ey(e)||typeof e!="object"&&typeof e!="function"}function mu(e){return Fa(e,"Object")}function Wf(e){return typeof Event<"u"&&gs(e,Event)}function pB(e){return typeof Element<"u"&&gs(e,Element)}function mB(e){return Fa(e,"RegExp")}function Ua(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function gB(e){return mu(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function gs(e,t){try{return e instanceof t}catch{return!1}}function yC(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function by(e){return typeof Request<"u"&&gs(e,Request)}const ky=qe,yB=80;function In(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,l=0;const u=" > ",d=u.length;let f;const p=Array.isArray(t)?t:t.keyAttrs,g=!Array.isArray(t)&&t.maxStringLength||yB;for(;n&&o++<r&&(f=vB(n,p),!(f==="html"||o>1&&l+s.length*d+f.length>=g));)s.push(f),l+=f.length,n=n.parentNode;return s.reverse().join(u)}catch{return"<unknown>"}}function vB(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(ky.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(s!=null&&s.length)s.forEach(l=>{r.push(`[${l[0]}="${l[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const l=n.className;if(l&&cs(l)){const u=l.split(/\s+/);for(const d of u)r.push(`.${d}`)}}const o=["aria-label","type","name","title","alt"];for(const l of o){const u=n.getAttribute(l);u&&r.push(`[${l}="${u}"]`)}return r.join("")}function za(){try{return ky.document.location.href}catch{return""}}function vC(e){if(!ky.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Rn(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&_C(s,r);try{e[t]=s}catch{Te&&ue.log(`Failed to replace method "${t}" in object`,e)}}function An(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Te&&ue.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function _C(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,An(e,"__sentry_original__",t)}catch{}}function Ty(e){return e.__sentry_original__}function wC(e){if(Vf(e))return{message:e.message,name:e.name,stack:e.stack,...Q0(e)};if(Wf(e)){const t={type:e.type,target:Y0(e.target),currentTarget:Y0(e.currentTarget),...Q0(e)};return typeof CustomEvent<"u"&&gs(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Y0(e){try{return pB(e)?In(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Q0(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function _B(e){const t=Object.keys(wC(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}let qo;function Pu(e){if(qo!==void 0)return qo?qo(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=qe;return t in n&&typeof n[t]=="function"?(qo=n[t],qo(e)):(qo=null,e())}function ri(){return Pu(()=>Math.random())}function Nu(){return Pu(()=>Date.now())}function og(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function X0(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{yC(s)?n.push(fC(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function $d(e,t,n=!1){return cs(e)?mB(t)?t.test(e):cs(t)?n?e===t:e.includes(t):!1:!1}function ds(e,t=[],n=!1){return t.some(r=>$d(e,r,n))}function wB(){const e=qe;return e.crypto||e.msCrypto}let pm;function SB(){return ri()*16}function Wn(e=wB()){try{if(e!=null&&e.randomUUID)return Pu(()=>e.randomUUID()).replace(/-/g,"")}catch{}return pm||(pm="10000000100040008000"+1e11),pm.replace(/[018]/g,t=>(t^(SB()&15)>>t/4).toString(16))}function SC(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function $i(e){const{message:t,event_id:n}=e;if(t)return t;const r=SC(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ag(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function Ea(e,t){const n=SC(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s==null?void 0:s.data,...t.data};n.mechanism.data=o}}function eE(e){if(EB(e))return!0;try{An(e,"__sentry_captured__",!0)}catch{}return!1}function EB(e){try{return e.__sentry_captured__}catch{}}const EC=1e3;function uo(){return Nu()/EC}function bB(){const{performance:e}=qe;if(!(e!=null&&e.now)||!e.timeOrigin)return uo;const t=e.timeOrigin;return()=>(t+Pu(()=>e.now()))/EC}let tE;function Gt(){return(tE??(tE=bB()))()}let mm=null;function kB(){var l;const{performance:e}=qe;if(!(e!=null&&e.now))return;const t=3e5,n=Pu(()=>e.now()),r=Nu(),s=e.timeOrigin;if(typeof s=="number"&&Math.abs(s+n-r)<t)return s;const o=(l=e.timing)==null?void 0:l.navigationStart;return typeof o=="number"&&Math.abs(o+n-r)<t?o:r-n}function On(){return mm===null&&(mm=kB()),mm}function TB(e){const t=Gt(),n={sid:Wn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>xB(n)};return e&&ba(n,e),n}function ba(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Gt(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Wn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function CB(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),ba(e,n)}function xB(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Lu(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Lu(r[s],t[s],n-1));return r}function ys(){return Wn()}function fs(){return Wn().substring(16)}const lg="_sentrySpan";function ka(e,t){t?An(e,lg,t):delete e[lg]}function af(e){return e[lg]}const RB=100;class Ur{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ys(),sampleRand:ri()}}clone(){const t=new Ur;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,t._conversationId=this._conversationId,ka(t,af(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ba(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setConversationId(t){return this._conversationId=t||void 0,this._notifyScopeListeners(),this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof Ur?n.getScopeData():mu(n)?t:void 0,{tags:s,attributes:o,extra:l,user:u,contexts:d,level:f,fingerprint:p=[],propagationContext:g,conversationId:v}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...o},this._extra={...this._extra,...l},this._contexts={...this._contexts,...d},u&&Object.keys(u).length&&(this._user=u),f&&(this._level=f),p.length&&(this._fingerprint=p),g&&(this._propagationContext=g),v&&(this._conversationId=v),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,ka(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ys(),sampleRand:ri()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var o;const r=typeof n=="number"?n:RB;if(r<=0)return this;const s={timestamp:uo(),...t,message:t.message?og(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:af(this),conversationId:this._conversationId}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Lu(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||Wn();if(!this._client)return Te&&ue.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||Wn();if(!this._client)return Te&&ue.warn("No client configured on scope - will not capture message!"),s;const o=(r==null?void 0:r.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||Wn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Te&&ue.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function IB(){return ja("defaultCurrentScope",()=>new Ur)}function AB(){return ja("defaultIsolationScope",()=>new Ur)}class OB{constructor(t,n){let r;t?r=t:r=new Ur;let s;n?s=n:s=new Ur,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Ua(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ta(){const e=ao(),t=Bf(e);return t.stack=t.stack||new OB(IB(),AB())}function PB(e){return Ta().withScope(e)}function NB(e,t){const n=Ta();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function nE(e){return Ta().withScope(()=>e(Ta().getIsolationScope()))}function LB(){return{withIsolationScope:nE,withScope:PB,withSetScope:NB,withSetIsolationScope:(e,t)=>nE(t),getCurrentScope:()=>Ta().getScope(),getIsolationScope:()=>Ta().getIsolationScope()}}function Ba(e){const t=Bf(e);return t.acs?t.acs:LB()}function nt(){const e=ao();return Ba(e).getCurrentScope()}function Rr(){const e=ao();return Ba(e).getIsolationScope()}function DB(){return ja("globalScope",()=>new Ur)}function Hf(...e){const t=ao(),n=Ba(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function Ke(){return nt().getClient()}function $B(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,o={trace_id:n,span_id:s||fs()};return r&&(o.parent_span_id=r),o}const Cr="sentry.source",Cy="sentry.sample_rate",bC="sentry.previous_trace_sample_rate",vs="sentry.op",Vt="sentry.origin",gu="sentry.idle_span_finish_reason",Du="sentry.measurement_unit",$u="sentry.measurement_value",rE="sentry.custom_span_name",xy="sentry.profile_id",Va="sentry.exclusive_time",MB="sentry.link.type",jB="gen_ai.conversation.id",FB=0,Ry=1,Bt=2;function UB(e){if(e<400&&e>=100)return{code:Ry};if(e>=400&&e<500)switch(e){case 401:return{code:Bt,message:"unauthenticated"};case 403:return{code:Bt,message:"permission_denied"};case 404:return{code:Bt,message:"not_found"};case 409:return{code:Bt,message:"already_exists"};case 413:return{code:Bt,message:"failed_precondition"};case 429:return{code:Bt,message:"resource_exhausted"};case 499:return{code:Bt,message:"cancelled"};default:return{code:Bt,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Bt,message:"unimplemented"};case 503:return{code:Bt,message:"unavailable"};case 504:return{code:Bt,message:"deadline_exceeded"};default:return{code:Bt,message:"internal_error"}}return{code:Bt,message:"internal_error"}}function kC(e,t){e.setAttribute("http.response.status_code",t);const n=UB(t);n.message!=="unknown_error"&&e.setStatus(n)}const TC="_sentryScope",CC="_sentryIsolationScope";function zB(e){try{const t=qe.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function BB(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function VB(e,t,n){e&&(An(e,CC,zB(n)),An(e,TC,t))}function lf(e){const t=e;return{scope:t[TC],isolationScope:BB(t[CC])}}const Iy="sentry-",WB=/^sentry-/,HB=8192;function xC(e){const t=KB(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(WB)){const l=s.slice(Iy.length);r[l]=o}return r},{});if(Object.keys(n).length>0)return n}function qB(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${Iy}${r}`]=s),n),{});return GB(t)}function KB(e){if(!(!e||!cs(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=sE(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):sE(e)}function sE(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),s=t.slice(n+1);return[r,s].map(o=>{try{return decodeURIComponent(o.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function GB(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,l=s===0?o:`${t},${o}`;return l.length>HB?(Te&&ue.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):l},"")}const ZB=/^o(\d+)\./,JB=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function YB(e){return e==="http"||e==="https"}function Wa(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:l,protocol:u,publicKey:d}=e;return`${u}://${d}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${l}`}function QB(e){const t=JB.exec(e);if(!t){lo(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",l="",u=""]=t.slice(1);let d="",f=u;const p=f.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),f=p.pop()),f){const g=f.match(/^\d+/);g&&(f=g[0])}return RC({host:o,pass:s,path:d,projectId:f,port:l,protocol:n,publicKey:r})}function RC(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function XB(e){if(!Te)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(l=>e[l]?!1:(ue.error(`Invalid Sentry Dsn: ${l} missing`),!0))?!1:n.match(/^\d+$/)?YB(r)?t&&isNaN(parseInt(t,10))?(ue.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(ue.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(ue.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function e3(e){const t=e.match(ZB);return t==null?void 0:t[1]}function t3(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=e3(n)),r}function n3(e){const t=typeof e=="string"?QB(e):RC(e);if(!(!t||!XB(t)))return t}function no(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const IC=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function r3(e){if(!e)return;const t=e.match(IC);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function s3(e,t){const n=r3(e),r=xC(t);if(!(n!=null&&n.traceId))return{traceId:ys(),sampleRand:ri()};const s=i3(n,r);r&&(r.sample_rand=s.toString());const{traceId:o,parentSpanId:l,parentSampled:u}=n;return{traceId:o,parentSpanId:l,sampled:u,dsc:r||{},sampleRand:s}}function AC(e=ys(),t=fs(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function OC(e=ys(),t=fs(),n){return`00-${e}-${t}-${n?"01":"00"}`}function i3(e,t){const n=no(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=no(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?ri()*r:r+ri()*(1-r):ri()}const PC=0,Ay=1;let iE=!1;function o3(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:l,origin:u,links:d}=Qe(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:l,origin:u,links:d}}function a3(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:Qe(e).parent_span_id,o=lf(e).scope,l=r?(o==null?void 0:o.getPropagationContext().propagationSpanId)||fs():t;return{parent_span_id:s,span_id:l,trace_id:n}}function l3(e){const{traceId:t,spanId:n}=e.spanContext(),r=mi(e);return AC(t,n,r)}function u3(e){const{traceId:t,spanId:n}=e.spanContext(),r=mi(e);return OC(t,n,r)}function NC(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:o})=>({span_id:t,trace_id:n,sampled:r===Ay,attributes:o,...s}))}function Gi(e){return typeof e=="number"?oE(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?oE(e.getTime()):Gt()}function oE(e){return e>9999999999?e/1e3:e}function Qe(e){var r;if(d3(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(c3(e)){const{attributes:s,startTime:o,name:l,endTime:u,status:d,links:f}=e,p="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:l,parent_span_id:p,start_timestamp:Gi(o),timestamp:Gi(u)||void 0,status:LC(d),op:s[vs],origin:s[Vt],links:NC(f)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function c3(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function d3(e){return typeof e.getSpanJSON=="function"}function mi(e){const{traceFlags:t}=e.spanContext();return t===Ay}function LC(e){if(!(!e||e.code===FB))return e.code===Ry?"ok":e.message||"internal_error"}const Zi="_sentryChildSpans",ug="_sentryRootSpan";function DC(e,t){const n=e[ug]||e;An(t,ug,n),e[Zi]?e[Zi].add(t):An(e,Zi,new Set([t]))}function f3(e,t){e[Zi]&&e[Zi].delete(t)}function Md(e){const t=new Set;function n(r){if(!t.has(r)&&mi(r)){t.add(r);const s=r[Zi]?Array.from(r[Zi]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function an(e){return e[ug]||e}function vn(){const e=ao(),t=Ba(e);return t.getActiveSpan?t.getActiveSpan():af(nt())}function cg(){iE||(lo(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),iE=!0)}let aE=!1;function h3(){if(aE)return;function e(){const t=vn(),n=t&&an(t);if(n){const r="internal_error";Te&&ue.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:Bt,message:r})}}e.tag="sentry_tracingErrorCallback",aE=!0,hC(e),pC(e)}function xr(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=Ke())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function lE(e){ue.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function uf(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(m3(n)){if($d(e.description,n))return Te&&lE(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?$d(e.description,n.name):!0,s=n.op?e.op&&$d(e.op,n.op):!0;if(r&&s)return Te&&lE(e),!0}return!1}function p3(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function m3(e){return typeof e=="string"||e instanceof RegExp}const Oy="production",$C="_frozenDsc";function jd(e,t){An(e,$C,t)}function MC(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||Oy,release:n.release,public_key:r,trace_id:e,org_id:t3(t)};return t.emit("createDsc",s),s}function jC(e,t){const n=t.getPropagationContext();return n.dsc||MC(n.traceId,e)}function _s(e){var w;const t=Ke();if(!t)return{};const n=an(e),r=Qe(n),s=r.data,o=n.spanContext().traceState,l=(o==null?void 0:o.get("sentry.sample_rate"))??s[Cy]??s[bC];function u(S){return(typeof l=="number"||typeof l=="string")&&(S.sample_rate=`${l}`),S}const d=n[$C];if(d)return u(d);const f=o==null?void 0:o.get("sentry.dsc"),p=f&&xC(f);if(p)return u(p);const g=MC(e.spanContext().traceId,t),v=s[Cr],_=r.description;return v!=="url"&&_&&(g.transaction=_),xr()&&(g.sampled=String(mi(n)),g.sample_rand=(o==null?void 0:o.get("sentry.sample_rand"))??((w=lf(n).scope)==null?void 0:w.getPropagationContext().sampleRand.toString())),u(g),t.emit("createDsc",g,n),g}class ai{constructor(t={}){this._traceId=t.traceId||ys(),this._spanId=t.spanId||fs()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:PC}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Er(e,t=100,n=1/0){try{return dg("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function FC(e,t=3,n=100*1024){const r=Er(e,t);return _3(r)>n?FC(e,t-1,n):r}function dg(e,t,n=1/0,r=1/0,s=w3()){const[o,l]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const u=g3(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;const d=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(d===0)return u.replace("object ","");if(o(t))return"[Circular ~]";const f=t;if(f&&typeof f.toJSON=="function")try{const _=f.toJSON();return dg("",_,d-1,r,s)}catch{}const p=Array.isArray(t)?[]:{};let g=0;const v=wC(t);for(const _ in v){if(!Object.prototype.hasOwnProperty.call(v,_))continue;if(g>=r){p[_]="[MaxProperties ~]";break}const w=v[_];p[_]=dg(_,w,d-1,r,s),g++}return l(t),p}function g3(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(yC(t))return fC(t);if(gB(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ms(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=y3(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function y3(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function v3(e){return~-encodeURI(e).split(/%..|./).length}function _3(e){return v3(JSON.stringify(e))}function w3(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function gi(e,t=[]){return[e,t]}function S3(e,t){const[n,r]=e;return[n,[...r,t]]}function fg(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function E3(e,t){return fg(e,(n,r)=>t.includes(r))}function hg(e){const t=Bf(qe);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function b3(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[hg(r),o]:r.push(typeof o=="string"?hg(o):o)}for(const o of n){const[l,u]=o;if(s(`
${JSON.stringify(l)}
`),typeof u=="string"||u instanceof Uint8Array)s(u);else{let d;try{d=JSON.stringify(u)}catch{d=JSON.stringify(Er(u))}s(d)}}return typeof r=="string"?r:k3(r)}function k3(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function T3(e){return[{type:"span"},e]}function C3(e){const t=typeof e.data=="string"?hg(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const x3={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function uE(e){return x3[e]}function Py(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function UC(e,t,n,r){var o;const s=(o=e.sdkProcessingMetadata)==null?void 0:o.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Wa(r)},...s&&{trace:s}}}function R3(e,t){var r,s,o,l;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(o=e.sdk)!=null&&o.settings||t.settings?{...(l=e.sdk)==null?void 0:l.settings,...t.settings}:void 0},e}function I3(e,t,n,r){const s=Py(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Wa(t)}},l="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return gi(o,[l])}function A3(e,t,n,r){const s=Py(n),o=e.type&&e.type!=="replay_event"?e.type:"event";R3(e,n==null?void 0:n.sdk);const l=UC(e,s,r,t);return delete e.sdkProcessingMetadata,gi(l,[[{type:o},e]])}function O3(e,t){function n(_){return!!_.trace_id&&!!_.public_key}const r=_s(e[0]),s=t==null?void 0:t.getDsn(),o=t==null?void 0:t.getOptions().tunnel,l={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:Wa(s)}},{beforeSendSpan:u,ignoreSpans:d}=(t==null?void 0:t.getOptions())||{},f=d!=null&&d.length?e.filter(_=>!uf(Qe(_),d)):e,p=e.length-f.length;p&&(t==null||t.recordDroppedEvent("before_send","span",p));const g=u?_=>{const w=Qe(_),S=u(w);return S||(cg(),w)}:Qe,v=[];for(const _ of f){const w=g(_);w&&v.push(T3(w))}return gi(l,v)}function P3(e){if(!Te)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Qe(e),{spanId:s}=e.spanContext(),o=mi(e),l=an(e),u=l===e,d=`[Tracing] Starting ${o?"sampled":"unsampled"} ${u?"root ":""}span`,f=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&f.push(`parent ID: ${r}`),!u){const{op:p,description:g}=Qe(l);f.push(`root ID: ${l.spanContext().spanId}`),p&&f.push(`root op: ${p}`),g&&f.push(`root description: ${g}`)}ue.log(`${d}
  ${f.join(`
  `)}`)}function N3(e){if(!Te)return;const{description:t="< unknown name >",op:n="< unknown op >"}=Qe(e),{spanId:r}=e.spanContext(),o=an(e)===e,l=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;ue.log(l)}function L3(e,t,n,r=vn()){const s=r&&an(r);s&&(Te&&ue.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[$u]:t,[Du]:n}))}function cE(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Du],o=r[$u];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const dE=1e3;class qf{constructor(t={}){this._traceId=t.traceId||ys(),this._spanId=t.spanId||fs(),this._startTime=t.startTimestamp||Gt(),this._links=t.links,this._attributes={},this.setAttributes({[Vt]:"manual",[vs]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Ay:PC}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Gi(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Cr,"custom"),this}end(t){this._endTime||(this._endTime=Gi(t),N3(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[vs],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:LC(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Vt],profile_id:this._attributes[xy],exclusive_time:this._attributes[Va],measurements:cE(this._events),is_segment:this._isStandaloneSpan&&an(this)===this||void 0,segment_id:this._isStandaloneSpan?an(this).spanContext().spanId:void 0,links:NC(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Te&&ue.log("[Tracing] Adding an event to span:",t);const s=fE(n)?n:r||Gt(),o=fE(n)?{}:n||{},l={name:t,time:Gi(s),attributes:o};return this._events.push(l),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Ke();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===an(this)))return;if(this._isStandaloneSpan){this._sampled?$3(O3([this],t)):(Te&&ue.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(lf(this).scope||nt()).captureEvent(r)}_convertSpanToTransaction(){var p;if(!hE(Qe(this)))return;this._name||(Te&&ue.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=lf(this),r=(p=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:p.normalizedRequest;if(this._sampled!==!0)return;const o=Md(this).filter(g=>g!==this&&!D3(g)).map(g=>Qe(g)).filter(hE),l=this._attributes[Cr];delete this._attributes[rE],o.forEach(g=>{delete g.data[rE]});const u={contexts:{trace:o3(this)},spans:o.length>dE?o.sort((g,v)=>g.start_timestamp-v.start_timestamp).slice(0,dE):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:_s(this)},request:r,...l&&{transaction_info:{source:l}}},d=cE(this._events);return d&&Object.keys(d).length&&(Te&&ue.log("[Measurements] Adding measurements to transaction event",JSON.stringify(d,void 0,2)),u.measurements=d),u}}function fE(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function hE(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function D3(e){return e instanceof qf&&e.isStandaloneSpan()}function $3(e){const t=Ke();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function M3(e,t,n=()=>{},r=()=>{}){let s;try{s=e()}catch(o){throw t(o),n(),o}return j3(s,t,n,r)}function j3(e,t,n,r){return Ua(e)?e.then(s=>(n(),r(s),s),s=>{throw t(s),n(),s}):(n(),r(e),e)}function F3(e,t,n){if(!xr(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:u=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):u}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const o=no(s);if(o===void 0)return Te&&ue.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!o)return Te&&ue.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const l=n<o;return l||Te&&ue.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[l,o,r]}const zC="__SENTRY_SUPPRESS_TRACING__";function U3(e,t){const n=Ly();if(n.startSpan)return n.startSpan(e,t);const r=VC(e),{forceTransaction:s,parentSpan:o,scope:l}=e,u=l==null?void 0:l.clone();return Hf(u,()=>B3(o)(()=>{const f=nt(),p=WC(f,o),v=e.onlyIfParent&&!p?new ai:BC({parentSpan:p,spanArguments:r,forceTransaction:s,scope:f});return ka(f,v),M3(()=>t(v),()=>{const{status:_}=Qe(v);v.isRecording()&&(!_||_==="ok")&&v.setStatus({code:Bt,message:"internal_error"})},()=>{v.end()})}))}function Ha(e){const t=Ly();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=VC(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?l=>Hf(e.scope,l):s!==void 0?l=>Ny(s,l):l=>l())(()=>{const l=nt(),u=WC(l,s);return e.onlyIfParent&&!u?new ai:BC({parentSpan:u,spanArguments:n,forceTransaction:r,scope:l})})}function Ny(e,t){const n=Ly();return n.withActiveSpan?n.withActiveSpan(e,t):Hf(r=>(ka(r,e||void 0),t(r)))}function BC({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!xr()){const l=new ai;if(n||!e){const u={sampled:"false",sample_rate:"0",transaction:t.name,..._s(l)};jd(l,u)}return l}const s=Rr();let o;if(e&&!n)o=z3(e,r,t),DC(e,o);else if(e){const l=_s(e),{traceId:u,spanId:d}=e.spanContext(),f=mi(e);o=pE({traceId:u,parentSpanId:d,...t},r,f),jd(o,l)}else{const{traceId:l,dsc:u,parentSpanId:d,sampled:f}={...s.getPropagationContext(),...r.getPropagationContext()};o=pE({traceId:l,parentSpanId:d,...t},r,f),u&&jd(o,u)}return P3(o),VB(o,r,s),o}function VC(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Gi(e.startTime),delete r.startTime,r}return n}function Ly(){const e=ao();return Ba(e)}function pE(e,t,n){var w;const r=Ke(),s=(r==null?void 0:r.getOptions())||{},{name:o=""}=e,l={spanAttributes:{...e.attributes},spanName:o,parentSampled:n};r==null||r.emit("beforeSampling",l,{decision:!1});const u=l.parentSampled??n,d=l.spanAttributes,f=t.getPropagationContext(),[p,g,v]=t.getScopeData().sdkProcessingMetadata[zC]?[!1]:F3(s,{name:o,parentSampled:u,attributes:d,parentSampleRate:no((w=f.dsc)==null?void 0:w.sample_rate)},f.sampleRand),_=new qf({...e,attributes:{[Cr]:"custom",[Cy]:g!==void 0&&v?g:void 0,...d},sampled:p});return!p&&r&&(Te&&ue.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",_),_}function z3(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[zC]?!1:mi(e),l=o?new qf({...n,parentSpanId:r,traceId:s,sampled:o}):new ai({traceId:s});DC(e,l);const u=Ke();return u&&(u.emit("spanStart",l),n.endTimestamp&&u.emit("spanEnd",l)),l}function WC(e,t){if(t)return t;if(t===null)return;const n=af(e);if(!n)return;const r=Ke();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?an(n):n}function B3(e){return e!==void 0?t=>Ny(e,t):t=>t()}const Fd={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},V3="heartbeatFailed",W3="idleTimeout",H3="finalTimeout",q3="externalFinish";function HC(e,t={}){const n=new Map;let r=!1,s,o=q3,l=!t.disableAutoFinish;const u=[],{idleTimeout:d=Fd.idleTimeout,finalTimeout:f=Fd.finalTimeout,childSpanTimeout:p=Fd.childSpanTimeout,beforeSpanEnd:g,trimIdleSpanEndTimestamp:v=!0}=t,_=Ke();if(!_||!xr()){const $=new ai,j={sample_rate:"0",sampled:"false",..._s($)};return jd($,j),$}const w=nt(),S=vn(),b=K3(e);b.end=new Proxy(b.end,{apply($,j,te){if(g&&g(b),j instanceof ai)return;const[J,...ce]=te,ne=J||Gt(),le=Gi(ne),G=Md(b).filter(q=>q!==b),me=Qe(b);if(!G.length||!v)return B(le),Reflect.apply($,j,[le,...ce]);const fe=_.getOptions().ignoreSpans,de=G==null?void 0:G.reduce((q,P)=>{const H=Qe(P);return!H.timestamp||fe&&uf(H,fe)?q:q?Math.max(q,H.timestamp):H.timestamp},void 0),N=me.start_timestamp,re=Math.min(N?N+f/1e3:1/0,Math.max(N||-1/0,Math.min(le,de||1/0)));return B(re),Reflect.apply($,j,[re,...ce])}});function C(){s&&(clearTimeout(s),s=void 0)}function T($){C(),s=setTimeout(()=>{!r&&n.size===0&&l&&(o=W3,b.end($))},d)}function R($){s=setTimeout(()=>{!r&&l&&(o=V3,b.end($))},p)}function O($){C(),n.set($,!0);const j=Gt();R(j+p/1e3)}function z($){if(n.has($)&&n.delete($),n.size===0){const j=Gt();T(j+d/1e3)}}function B($){r=!0,n.clear(),u.forEach(G=>G()),ka(w,S);const j=Qe(b),{start_timestamp:te}=j;if(!te)return;j.data[gu]||b.setAttribute(gu,o);const ce=j.status;(!ce||ce==="unknown")&&b.setStatus({code:Ry}),ue.log(`[Tracing] Idle span "${j.op}" finished`);const ne=Md(b).filter(G=>G!==b);let le=0;ne.forEach(G=>{G.isRecording()&&(G.setStatus({code:Bt,message:"cancelled"}),G.end($),Te&&ue.log("[Tracing] Cancelling span since span ended early",JSON.stringify(G,void 0,2)));const me=Qe(G),{timestamp:fe=0,start_timestamp:de=0}=me,N=de<=$,re=(f+d)/1e3,q=fe-de<=re;if(Te){const P=JSON.stringify(G,void 0,2);N?q||ue.log("[Tracing] Discarding span since it finished after idle span final timeout",P):ue.log("[Tracing] Discarding span since it happened after idle span was finished",P)}(!q||!N)&&(f3(b,G),le++)}),le>0&&b.setAttribute("sentry.idle_span_discarded_spans",le)}return u.push(_.on("spanStart",$=>{if(r||$===b||Qe($).timestamp||$ instanceof qf&&$.isStandaloneSpan())return;Md(b).includes($)&&O($.spanContext().spanId)})),u.push(_.on("spanEnd",$=>{r||z($.spanContext().spanId)})),u.push(_.on("idleSpanEnableAutoFinish",$=>{$===b&&(l=!0,T(),n.size&&R())})),t.disableAutoFinish||T(),setTimeout(()=>{r||(b.setStatus({code:Bt,message:"deadline_exceeded"}),o=H3,b.end())},f),b}function K3(e){const t=Ha(e);return ka(nt(),t),Te&&ue.log("[Tracing] Started span is an idle span"),t}const gm=0,mE=1,gE=2;function Kf(e){return new yu(t=>{t(e)})}function Dy(e){return new yu((t,n)=>{n(e)})}class yu{constructor(t){this._state=gm,this._handlers=[],this._runExecutor(t)}then(t,n){return new yu((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(l){s(l)}},o=>{if(!n)s(o);else try{r(n(o))}catch(l){s(l)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new yu((n,r)=>{let s,o;return this.then(l=>{o=!1,s=l,t&&t()},l=>{o=!0,s=l,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}_executeHandlers(){if(this._state===gm)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===mE&&n[1](this._value),this._state===gE&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(o,l)=>{if(this._state===gm){if(Ua(l)){l.then(r,s);return}this._state=o,this._value=l,this._executeHandlers()}},r=o=>{n(mE,o)},s=o=>{n(gE,o)};try{t(r,s)}catch(o){s(o)}}}function G3(e,t,n,r=0){try{const s=pg(t,n,e,r);return Ua(s)?s:Kf(s)}catch(s){return Dy(s)}}function pg(e,t,n,r){const s=n[r];if(!e||!s)return e;const o=s({...e},t);return Te&&o===null&&ue.log(`Event processor "${s.id||"?"}" dropped event`),Ua(o)?o.then(l=>pg(l,t,n,r+1)):pg(o,t,n,r+1)}let ss,yE,vE,Vs;function Z3(e){const t=qe._sentryDebugIds,n=qe._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],s=n?Object.keys(n):[];if(Vs&&r.length===yE&&s.length===vE)return Vs;yE=r.length,vE=s.length,Vs={},ss||(ss={});const o=(l,u)=>{for(const d of l){const f=u[d],p=ss==null?void 0:ss[d];if(p&&Vs&&f)Vs[p[0]]=f,ss&&(ss[d]=[p[0],f]);else if(f){const g=e(d);for(let v=g.length-1;v>=0;v--){const _=g[v],w=_==null?void 0:_.filename;if(w&&Vs&&ss){Vs[w]=f,ss[d]=[w,f];break}}}}};return t&&o(r,t),n&&o(s,n),Vs}function J3(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;Q3(e,t),r&&t5(e,r),n5(e,n),X3(e,s),e5(e,o)}function _E(e,t){const{extra:n,tags:r,attributes:s,user:o,contexts:l,level:u,sdkProcessingMetadata:d,breadcrumbs:f,fingerprint:p,eventProcessors:g,attachments:v,propagationContext:_,transactionName:w,span:S}=t;Fl(e,"extra",n),Fl(e,"tags",r),Fl(e,"attributes",s),Fl(e,"user",o),Fl(e,"contexts",l),e.sdkProcessingMetadata=Lu(e.sdkProcessingMetadata,d,2),u&&(e.level=u),w&&(e.transactionName=w),S&&(e.span=S),f.length&&(e.breadcrumbs=[...e.breadcrumbs,...f]),p.length&&(e.fingerprint=[...e.fingerprint,...p]),g.length&&(e.eventProcessors=[...e.eventProcessors,...g]),v.length&&(e.attachments=[...e.attachments,...v]),e.propagationContext={...e.propagationContext,..._}}function Fl(e,t,n){e[t]=Lu(e[t],n,1)}function Y3(e,t){const n=DB().getScopeData();return e&&_E(n,e.getScopeData()),t&&_E(n,t.getScopeData()),n}function Q3(e,t){const{extra:n,tags:r,user:s,contexts:o,level:l,transactionName:u}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),l&&(e.level=l),u&&e.type!=="transaction"&&(e.transaction=u)}function X3(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function e5(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function t5(e,t){e.contexts={trace:a3(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:_s(t),...e.sdkProcessingMetadata};const n=an(t),r=Qe(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function n5(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function qC(e,t,n,r,s,o){const{normalizeDepth:l=3,normalizeMaxBreadth:u=1e3}=e,d={...t,event_id:t.event_id||n.event_id||Wn(),timestamp:t.timestamp||uo()},f=n.integrations||e.integrations.map(b=>b.name);r5(d,e),o5(d,f),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&s5(d,e.stackParser);const p=l5(r,n.captureContext);n.mechanism&&Ea(d,n.mechanism);const g=s?s.getEventProcessors():[],v=Y3(o,p),_=[...n.attachments||[],...v.attachments];_.length&&(n.attachments=_),J3(d,v);const w=[...g,...v.eventProcessors];return G3(w,d,n).then(b=>(b&&i5(b),typeof l=="number"&&l>0?a5(b,l,u):b))}function r5(e,t){var u,d;const{environment:n,release:r,dist:s,maxValueLength:o}=t;e.environment=e.environment||n||Oy,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const l=e.request;l!=null&&l.url&&o&&(l.url=og(l.url,o)),o&&((d=(u=e.exception)==null?void 0:u.values)==null||d.forEach(f=>{f.value&&(f.value=og(f.value,o))}))}function s5(e,t){var r,s;const n=Z3(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var l,u;(u=(l=o.stacktrace)==null?void 0:l.frames)==null||u.forEach(d=>{d.filename&&(d.debug_id=n[d.filename])})})}function i5(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var l,u;(u=(l=o.stacktrace)==null?void 0:l.frames)==null||u.forEach(d=>{d.debug_id&&(d.abs_path?t[d.abs_path]=d.debug_id:d.filename&&(t[d.filename]=d.debug_id),delete d.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([o,l])=>{n.push({type:"sourcemap",code_file:o,debug_id:l})})}function o5(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function a5(e,t,n){var s,o;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(l=>({...l,...l.data&&{data:Er(l.data,t,n)}}))},...e.user&&{user:Er(e.user,t,n)},...e.contexts&&{contexts:Er(e.contexts,t,n)},...e.extra&&{extra:Er(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Er(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(l=>({...l,...l.data&&{data:Er(l.data,t,n)}}))),(o=e.contexts)!=null&&o.flags&&r.contexts&&(r.contexts.flags=Er(e.contexts.flags,3,n)),r}function l5(e,t){if(!t)return e;const n=e?e.clone():new Ur;return n.update(t),n}function u5(e){if(e)return c5(e)?{captureContext:e}:f5(e)?{captureContext:e}:e}function c5(e){return e instanceof Ur||typeof e=="function"}const d5=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function f5(e){return Object.keys(e).some(t=>d5.includes(t))}function KC(e,t){return nt().captureException(e,u5(t))}function GC(e,t){return nt().captureEvent(e,t)}function ZC(e,t){Rr().setContext(e,t)}function h5(){const e=Ke();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function p5(e){Rr().addEventProcessor(e)}function wE(e){const t=Rr(),n=nt(),{userAgent:r}=qe.navigator||{},s=TB({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return(o==null?void 0:o.status)==="ok"&&ba(o,{status:"exited"}),JC(),t.setSession(s),s}function JC(){const e=Rr(),n=nt().getSession()||e.getSession();n&&CB(n),YC(),e.setSession()}function YC(){const e=Rr(),t=Ke(),n=e.getSession();n&&t&&t.captureSession(n)}function SE(e=!1){if(e){JC();return}YC()}const m5="7";function g5(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function y5(e){return`${g5(e)}${e.projectId}/envelope/`}function v5(e,t){const n={sentry_version:m5};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function _5(e,t,n){return t||`${y5(e)}?${v5(e,n)}`}const EE=[];function w5(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function S5(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return w5(r)}function E5(e,t){const n={};return t.forEach(r=>{r&&QC(e,r,n)}),n}function bE(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function QC(e,t,n){if(n[t.name]){Te&&ue.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!EE.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),EE.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,l)=>r(o,l,e),{id:t.name});e.addEventProcessor(s)}Te&&ue.log(`Integration installed: ${t.name}`)}function b5(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function k5(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Wa(r)),gi(s,[b5(e)])}function XC(e,t){const n=t??T5(e)??[];if(n.length===0)return;const r=e.getOptions(),s=k5(n,r._metadata,r.tunnel,e.getDsn());ex().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function T5(e){return ex().get(e)}function ex(){return ja("clientToLogBufferMap",()=>new WeakMap)}function C5(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function x5(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Wa(r)),gi(s,[C5(e)])}function tx(e,t){const n=t??R5(e)??[];if(n.length===0)return;const r=e.getOptions(),s=x5(n,r._metadata,r.tunnel,e.getDsn());nx().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function R5(e){return nx().get(e)}function nx(){return ja("clientToMetricBufferMap",()=>new WeakMap)}const $y=Symbol.for("SentryBufferFullError");function My(e=100){const t=new Set;function n(){return t.size<e}function r(l){t.delete(l)}function s(l){if(!n())return Dy($y);const u=l();return t.add(u),u.then(()=>r(u),()=>r(u)),u}function o(l){if(!t.size)return Kf(!0);const u=Promise.allSettled(Array.from(t)).then(()=>!0);if(!l)return u;const d=[u,new Promise(f=>setTimeout(()=>f(!1),l))];return Promise.race(d)}return{get $(){return Array.from(t)},add:s,drain:o}}const I5=60*1e3;function A5(e,t=Nu()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?I5:r-t}function O5(e,t){return e[t]||e.all||0}function rx(e,t,n=Nu()){return O5(e,t)>n}function sx(e,{statusCode:t,headers:n},r=Nu()){const s={...e},o=n==null?void 0:n["x-sentry-rate-limits"],l=n==null?void 0:n["retry-after"];if(o)for(const u of o.trim().split(",")){const[d,f,,,p]=u.split(":",5),g=parseInt(d,10),v=(isNaN(g)?60:g)*1e3;if(!f)s.all=r+v;else for(const _ of f.split(";"))_==="metric_bucket"?(!p||p.split(";").includes("custom"))&&(s[_]=r+v):s[_]=r+v}else l?s.all=r+A5(l,r):t===429&&(s.all=r+60*1e3);return s}const ix=64;function P5(e,t,n=My(e.bufferSize||ix)){let r={};const s=l=>n.drain(l);function o(l){const u=[];if(fg(l,(g,v)=>{const _=uE(v);rx(r,_)?e.recordDroppedEvent("ratelimit_backoff",_):u.push(g)}),u.length===0)return Promise.resolve({});const d=gi(l[0],u),f=g=>{if(E3(d,["client_report"])){Te&&ue.warn(`Dropping client report. Will not send outcomes (reason: ${g}).`);return}fg(d,(v,_)=>{e.recordDroppedEvent(g,uE(_))})},p=()=>t({body:b3(d)}).then(g=>(g.statusCode!==void 0&&(g.statusCode<200||g.statusCode>=300)&&Te&&ue.warn(`Sentry responded with status code ${g.statusCode} to sent event.`),r=sx(r,g),g),g=>{throw f("network_error"),Te&&ue.error("Encountered error running transport request:",g),g});return n.add(p).then(g=>g,g=>{if(g===$y)return Te&&ue.error("Skipped sending event because buffer is full."),f("queue_overflow"),Promise.resolve({});throw g})}return{send:o,flush:s}}function N5(e,t,n){const r=[{type:"client_report"},{timestamp:uo(),discarded_events:e}];return gi(t?{dsn:t}:{},[r])}function ox(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function L5(e){var d;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:o,data:l,op:u}=((d=e.contexts)==null?void 0:d.trace)??{};return{data:l??{},description:e.transaction,op:u,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:l==null?void 0:l[xy],exclusive_time:l==null?void 0:l[Va],measurements:e.measurements,is_segment:!0}}function D5(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[xy]:e.profile_id},...e.exclusive_time&&{[Va]:e.exclusive_time}}}},measurements:e.measurements}}const kE="Not capturing exception because it's already been captured.",TE="Discarded session because of missing or non-string release",ax=Symbol.for("SentryInternalError"),lx=Symbol.for("SentryDoNotSendEventError"),$5=5e3;function Ud(e){return{message:e,[ax]:!0}}function ym(e){return{message:e,[lx]:!0}}function CE(e){return!!e&&typeof e=="object"&&ax in e}function xE(e){return!!e&&typeof e=="object"&&lx in e}function RE(e,t,n,r,s){let o=0,l,u=!1;e.on(n,()=>{o=0,clearTimeout(l),u=!1}),e.on(t,d=>{o+=r(d),o>=8e5?s(e):u||(u=!0,l=setTimeout(()=>{s(e)},$5))}),e.on("flush",()=>{s(e)})}class M5{constructor(t){var r,s,o;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=My(((r=t.transportOptions)==null?void 0:r.bufferSize)??ix),t.dsn?this._dsn=n3(t.dsn):Te&&ue.warn("No DSN provided, client will not send events."),this._dsn){const l=_5(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:l})}this._options.enableLogs=this._options.enableLogs??((s=this._options._experiments)==null?void 0:s.enableLogs),this._options.enableLogs&&RE(this,"afterCaptureLog","flushLogs",z5,XC),(this._options.enableMetrics??((o=this._options._experiments)==null?void 0:o.enableMetrics)??!0)&&RE(this,"afterCaptureMetric","flushMetrics",U5,tx)}captureException(t,n,r){const s=Wn();if(eE(t))return Te&&ue.log(kE),s;const o={event_id:s,...n};return this._process(()=>this.eventFromException(t,o).then(l=>this._captureEvent(l,o,r)).then(l=>l),"error"),o.event_id}captureMessage(t,n,r,s){const o={event_id:Wn(),...r},l=Ey(t)?t:String(t),u=Sa(t),d=u?this.eventFromMessage(l,n,o):this.eventFromException(t,o);return this._process(()=>d.then(f=>this._captureEvent(f,o,s)),u?"unknown":"error"),o.event_id}captureEvent(t,n,r){const s=Wn();if(n!=null&&n.originalException&&eE(n.originalException))return Te&&ue.log(kE),s;const o={event_id:s,...n},l=t.sdkProcessingMetadata||{},u=l.capturedSpanScope,d=l.capturedSpanIsolationScope,f=IE(t.type);return this._process(()=>this._captureEvent(t,o,u||r,d),f),o.event_id}captureSession(t){this.sendSession(t),ba(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),s=await n.flush(t);return r&&s}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];QC(this,t,this._integrations),n||bE(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=A3(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=S3(r,C3(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=Oy}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!n){Te&&ue.warn(TE);return}o.release=o.release||n,o.environment=o.environment||r,t.attrs=o}else{if(!t.release&&!n){Te&&ue.warn(TE);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=I3(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;Te&&ue.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,s=(...o)=>n(...o);return r.add(s),()=>{r.delete(s)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return Te&&ue.error("Error while sending envelope:",n),{}}return Te&&ue.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=E5(this,t),bE(this,t)}_updateSessionFromEvent(t,n){var d,f;let r=n.level==="fatal",s=!1;const o=(d=n.exception)==null?void 0:d.values;if(o){s=!0,r=!1;for(const p of o)if(((f=p.mechanism)==null?void 0:f.handled)===!1){r=!0;break}}const l=t.status==="ok";(l&&t.errors===0||l&&r)&&(ba(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const o=this.getOptions(),l=Object.keys(this._integrations);return!n.integrations&&(l!=null&&l.length)&&(n.integrations=l),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),qC(o,t,n,r,this,s).then(u=>{if(u===null)return u;this.emit("postprocessEvent",u,n),u.contexts={trace:$B(r),...u.contexts};const d=jC(this,r);return u.sdkProcessingMetadata={dynamicSamplingContext:d,...u.sdkProcessingMetadata},u})}_captureEvent(t,n={},r=nt(),s=Rr()){return Te&&mg(t)&&ue.log(`Captured error event \`${ox(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(o=>o.event_id,o=>{Te&&(xE(o)?ue.log(o.message):CE(o)?ue.warn(o.message):ue.warn(o))})}_processEvent(t,n,r,s){const o=this.getOptions(),{sampleRate:l}=o,u=ux(t),d=mg(t),p=`before send for type \`${t.type||"error"}\``,g=typeof l>"u"?void 0:no(l);if(d&&typeof g=="number"&&ri()>g)return this.recordDroppedEvent("sample_rate","error"),Dy(ym(`Discarding event because it's not included in the random sample (sampling rate = ${l})`));const v=IE(t.type);return this._prepareEvent(t,n,r,s).then(_=>{if(_===null)throw this.recordDroppedEvent("event_processor",v),ym("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return _;const S=F5(this,o,_,n);return j5(S,p)}).then(_=>{var b;if(_===null){if(this.recordDroppedEvent("before_send",v),u){const T=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",T)}throw ym(`${p} returned \`null\`, will not send event.`)}const w=r.getSession()||s.getSession();if(d&&w&&this._updateSessionFromEvent(w,_),u){const C=((b=_.sdkProcessingMetadata)==null?void 0:b.spanCountBeforeProcessing)||0,T=_.spans?_.spans.length:0,R=C-T;R>0&&this.recordDroppedEvent("before_send","span",R)}const S=_.transaction_info;if(u&&S&&_.transaction!==t.transaction){const C="custom";_.transaction_info={...S,source:C}}return this.sendEvent(_,n),_}).then(null,_=>{throw xE(_)||CE(_)?_:(this.captureException(_,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:_}),Ud(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${_}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===$y&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){Te&&ue.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Te&&ue.log("No outcomes to send");return}if(!this._dsn){Te&&ue.log("No dsn provided, will not send outcomes");return}Te&&ue.log("Sending outcomes:",t);const n=N5(t,this._options.tunnel&&Wa(this._dsn));this.sendEnvelope(n)}}function IE(e){return e==="replay_event"?"replay":e||"error"}function j5(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Ua(e))return e.then(r=>{if(!mu(r)&&r!==null)throw Ud(n);return r},r=>{throw Ud(`${t} rejected with ${r}`)});if(!mu(e)&&e!==null)throw Ud(n);return e}function F5(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:l,ignoreSpans:u}=t;let d=n;if(mg(d)&&s)return s(d,r);if(ux(d)){if(l||u){const f=L5(d);if(u!=null&&u.length&&uf(f,u))return null;if(l){const p=l(f);p?d=Lu(n,D5(p)):cg()}if(d.spans){const p=[],g=d.spans;for(const _ of g){if(u!=null&&u.length&&uf(_,u)){p3(g,_);continue}if(l){const w=l(_);w?p.push(w):(cg(),p.push(_))}else p.push(_)}const v=d.spans.length-p.length;v&&e.recordDroppedEvent("before_send","span",v),d.spans=p}}if(o){if(d.spans){const f=d.spans.length;d.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:f}}return o(d,r)}}return d}function mg(e){return e.type===void 0}function ux(e){return e.type==="transaction"}function U5(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+cx(e.attributes)}function z5(e){let t=0;return e.message&&(t+=e.message.length*2),t+cx(e.attributes)}function cx(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*AE(n[0]):Sa(n)?t+=AE(n):t+=100}),t}function AE(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function B5(e){return Vf(e)&&"__sentry_fetch_url_host__"in e&&typeof e.__sentry_fetch_url_host__=="string"}function OE(e){return B5(e)?`${e.message} (${e.__sentry_fetch_url_host__})`:e.message}function V5(e,t){t.debug===!0&&(Te?ue.enable():lo(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),nt().update(t.initialScope);const r=new e(t);return W5(r),r.init(),r}function W5(e){nt().setClient(e)}const H5="thismessage:/";function jy(e){return"isRelative"in e}function Fy(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?H5:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function q5(e){if(jy(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ji(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function K5(e){return e.split(/[?#]/,1)[0]}function si(e,t=!0){if(e.startsWith("data:")){const n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",s=e.includes(";base64,"),o=e.indexOf(",");let l="";if(t&&o!==-1){const u=e.slice(o+1);l=u.length>10?`${u.slice(0,10)}... [truncated]`:u}return`data:${r}${s?",base64":""}${l?`,${l}`:""}`}return e}function G5(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return J5(e,n)||Z5(e,r)}function Z5(e,t){return t?PE(e)===PE(t):!1}function J5(e,t){const n=Fy(e);return!n||jy(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function PE(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Y5(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function dx(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Ki})),version:Ki}),e._metadata=s}function fx(e={}){const t=e.client||Ke();if(!h5()||!t)return{};const n=ao(),r=Ba(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||nt(),o=e.span||vn(),l=o?l3(o):Q5(s),u=o?_s(o):jC(t,s),d=qB(u);if(!IC.test(l))return ue.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const p={"sentry-trace":l,baggage:d};return e.propagateTraceparent&&(p.traceparent=o?u3(o):X5(s)),p}function Q5(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return AC(t,r,n)}function X5(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return OC(t,r,n)}function e4(e,t,n){let r,s,o;const l=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,u=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function d(){return f(),r=e(),r}function f(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function p(){return s!==void 0||o!==void 0?d():r}function g(){return s&&clearTimeout(s),s=u(d,t),l&&o===void 0&&(o=u(d,l)),r}return g.cancel=f,g.flush=p,g}const t4=100;function li(e,t){const n=Ke(),r=Rr();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=t4}=n.getOptions();if(o<=0)return;const u={timestamp:uo(),...e},d=s?lo(()=>s(u,t)):u;d!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",d,t),r.addBreadcrumb(d,o))}let NE;const n4="FunctionToString",LE=new WeakMap,r4=(()=>({name:n4,setupOnce(){NE=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ty(this),n=LE.has(Ke())&&t!==void 0?t:this;return NE.apply(n,e)}}catch{}},setup(e){LE.set(e,!0)}})),s4=r4,i4=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],o4="EventFilters",a4=(e={})=>{let t;return{name:o4,setup(n){const r=n.getOptions();t=DE(e,r)},processEvent(n,r,s){if(!t){const o=s.getOptions();t=DE(e,o)}return u4(n,t)?null:n}}},l4=((e={})=>({...a4(e),name:"InboundFilters"}));function DE(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:i4],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function u4(e,t){if(e.type){if(e.type==="transaction"&&d4(e,t.ignoreTransactions))return Te&&ue.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$i(e)}`),!0}else{if(c4(e,t.ignoreErrors))return Te&&ue.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$i(e)}`),!0;if(m4(e))return Te&&ue.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${$i(e)}`),!0;if(f4(e,t.denyUrls))return Te&&ue.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$i(e)}.
Url: ${cf(e)}`),!0;if(!h4(e,t.allowUrls))return Te&&ue.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$i(e)}.
Url: ${cf(e)}`),!0}return!1}function c4(e,t){return t!=null&&t.length?ox(e).some(n=>ds(n,t)):!1}function d4(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?ds(n,t):!1}function f4(e,t){if(!(t!=null&&t.length))return!1;const n=cf(e);return n?ds(n,t):!1}function h4(e,t){if(!(t!=null&&t.length))return!0;const n=cf(e);return n?ds(n,t):!0}function p4(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function cf(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(o=>{var l,u,d;return((l=o.mechanism)==null?void 0:l.parent_id)===void 0&&((d=(u=o.stacktrace)==null?void 0:u.frames)==null?void 0:d.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?p4(s):null}catch{return Te&&ue.error(`Cannot extract url for event ${$i(e)}`),null}}function m4(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function g4(e,t,n,r,s,o){var u;if(!((u=s.exception)!=null&&u.values)||!o||!gs(o.originalException,Error))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;l&&(s.exception.values=gg(e,t,r,o.originalException,n,s.exception.values,l,0))}function gg(e,t,n,r,s,o,l,u){if(o.length>=n+1)return o;let d=[...o];if(gs(r[s],Error)){$E(l,u,r);const f=e(t,r[s]),p=d.length;ME(f,s,p,u),d=gg(e,t,n,r[s],s,[f,...d],f,p)}return hx(r)&&r.errors.forEach((f,p)=>{if(gs(f,Error)){$E(l,u,r);const g=e(t,f),v=d.length;ME(g,`errors[${p}]`,v,u),d=gg(e,t,n,f,s,[g,...d],g,v)}}),d}function hx(e){return Array.isArray(e.errors)}function $E(e,t,n){e.mechanism={handled:!0,type:"auto.core.linked_errors",...hx(n)&&{is_exception_group:!0},...e.mechanism,exception_id:t}}function ME(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function y4(e){const t="console";hi(t,e),pi(t,v4)}function v4(){"console"in qe&&nB.forEach(function(e){e in qe.console&&Rn(qe.console,e,function(t){return of[e]=t,function(...n){nr("console",{args:n,level:e});const s=of[e];s==null||s.apply(qe.console,n)}})})}function px(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const _4="Dedupe",w4=(()=>{let e;return{name:_4,processEvent(t){if(t.type)return t;try{if(E4(t,e))return Te&&ue.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),S4=w4;function E4(e,t){return t?!!(b4(e,t)||k4(e,t)):!1}function b4(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!gx(e,t)||!mx(e,t))}function k4(e,t){const n=jE(t),r=jE(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!gx(e,t)||!mx(e,t))}function mx(e,t){let n=G0(e),r=G0(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],l=n[s];if(o.filename!==l.filename||o.lineno!==l.lineno||o.colno!==l.colno||o.function!==l.function)return!1}return!0}function gx(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function jE(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const T4="ConversationId",C4=(()=>({name:T4,setup(e){e.on("spanStart",t=>{const n=nt().getScopeData(),r=Rr().getScopeData(),s=n.conversationId||r.conversationId;s&&t.setAttribute(jB,s)})}})),x4=C4;function R4(e,t,n,r,s){if(!e.fetchData)return;const{method:o,url:l}=e.fetchData,u=xr()&&t(l);if(e.endTimestamp&&u){const _=e.fetchData.__span;if(!_)return;const w=r[_];w&&(O4(w,e),I4(w,e,s),delete r[_]);return}const{spanOrigin:d="auto.http.browser",propagateTraceparent:f=!1}=typeof s=="object"?s:{spanOrigin:s},p=!!vn(),g=u&&p?Ha(N4(l,o,d)):new ai;if(e.fetchData.__span=g.spanContext().spanId,r[g.spanContext().spanId]=g,n(e.fetchData.url)){const _=e.args[0],w={...e.args[1]||{}},S=A4(_,w,xr()&&p?g:void 0,f);S&&(e.args[1]=w,w.headers=S)}const v=Ke();if(v){const _={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};v.emit("beforeOutgoingRequestSpan",g,_)}return g}function I4(e,t,n){var s;const r=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;r==null||r(e,{headers:(s=t.response)==null?void 0:s.headers,error:t.error})}function A4(e,t,n,r){const s=fx({span:n,propagateTraceparent:r}),o=s["sentry-trace"],l=s.baggage,u=s.traceparent;if(!o)return;const d=t.headers||(by(e)?e.headers:void 0);if(d)if(P4(d)){const f=new Headers(d);if(f.get("sentry-trace")||f.set("sentry-trace",o),r&&u&&!f.get("traceparent")&&f.set("traceparent",u),l){const p=f.get("baggage");p?Sd(p)||f.set("baggage",`${p},${l}`):f.set("baggage",l)}return f}else if(Array.isArray(d)){const f=[...d];d.find(g=>g[0]==="sentry-trace")||f.push(["sentry-trace",o]),r&&u&&!d.find(g=>g[0]==="traceparent")&&f.push(["traceparent",u]);const p=d.find(g=>g[0]==="baggage"&&Sd(g[1]));return l&&!p&&f.push(["baggage",l]),f}else{const f="sentry-trace"in d?d["sentry-trace"]:void 0,p="traceparent"in d?d.traceparent:void 0,g="baggage"in d?d.baggage:void 0,v=g?Array.isArray(g)?[...g]:[g]:[],_=g&&(Array.isArray(g)?g.find(S=>Sd(S)):Sd(g));l&&!_&&v.push(l);const w={...d,"sentry-trace":f??o,baggage:v.length>0?v.join(","):void 0};return r&&u&&!p&&(w.traceparent=u),w}else return{...s}}function O4(e,t){var n,r;if(t.response){kC(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const o=parseInt(s);o>0&&e.setAttribute("http.response_content_length",o)}}else t.error&&e.setStatus({code:Bt,message:"internal_error"});e.end()}function Sd(e){return e.split(",").some(t=>t.trim().startsWith(Iy))}function P4(e){return typeof Headers<"u"&&gs(e,Headers)}function N4(e,t,n){if(e.startsWith("data:")){const o=si(e);return{name:`${t} ${o}`,attributes:FE(e,void 0,t,n)}}const r=Fy(e),s=r?q5(r):e;return{name:`${t} ${s}`,attributes:FE(e,r,t,n)}}function FE(e,t,n,r){const s={url:si(e),type:"fetch","http.method":n,[Vt]:r,[vs]:"http.client"};return t&&(jy(t)||(s["http.url"]=si(t.href),s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function yx(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const vu=qe;function L4(){return"history"in vu&&!!vu.history}function D4(){if(!("fetch"in vu))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function yg(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function $4(){var n;if(typeof EdgeRuntime=="string")return!0;if(!D4())return!1;if(yg(vu.fetch))return!0;let e=!1;const t=vu.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=yg(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){Te&&ue.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function vx(e,t){const n="fetch";hi(n,e),pi(n,()=>_x(void 0,t))}function M4(e){const t="fetch-body-resolved";hi(t,e),pi(t,()=>_x(F4))}function _x(e,t=!1){t&&!$4()||Rn(qe,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:l}=U4(r),u={args:r,fetchData:{method:o,url:l},startTimestamp:Gt()*1e3,virtualError:s,headers:z4(r)};return e||nr("fetch",{...u}),n.apply(qe,r).then(async d=>(e?e(d):nr("fetch",{...u,endTimestamp:Gt()*1e3,response:d}),d),d=>{nr("fetch",{...u,endTimestamp:Gt()*1e3,error:d}),Vf(d)&&d.stack===void 0&&(d.stack=s.stack,An(d,"framesToPop",1));const f=Ke(),p=(f==null?void 0:f.getOptions().enhanceFetchErrorMessages)??"always";if(p!==!1&&d instanceof TypeError&&(d.message==="Failed to fetch"||d.message==="Load failed"||d.message==="NetworkError when attempting to fetch resource."))try{const _=new URL(u.fetchData.url).host;p==="always"?d.message=`${d.message} (${_})`:An(d,"__sentry_fetch_url_host__",_)}catch{}throw d})}})}async function j4(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let l;try{l=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:u}=await r.read();clearTimeout(l),u&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(l)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function F4(e){let t;try{t=e.clone()}catch{return}j4(t,()=>{nr("fetch-body-resolved",{endTimestamp:Gt()*1e3,response:e})})}function zd(e,t){return!!e&&typeof e=="object"&&!!e[t]}function UE(e){return typeof e=="string"?e:e?zd(e,"url")?e.url:e.toString?e.toString():"":""}function U4(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:UE(n),method:zd(r,"method")?String(r.method).toUpperCase():by(n)&&zd(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:UE(t),method:zd(t,"method")?String(t.method).toUpperCase():"GET"}}function z4(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(by(t))return new Headers(t.headers)}catch{}}function B4(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function V4(){return"npm"}function W4(){return!B4()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function vg(){return typeof window<"u"&&(!W4()||H4())}function H4(){const e=qe.process;return(e==null?void 0:e.type)==="renderer"}const Xe=qe;let _g=0;function wx(){return _g>0}function q4(){_g++,setTimeout(()=>{_g--})}function Ca(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(Ty(e))return e}catch{return e}const r=function(...s){try{const o=s.map(l=>Ca(l,t));return e.apply(this,o)}catch(o){throw q4(),Hf(l=>{l.addEventProcessor(u=>(t.mechanism&&(ag(u,void 0),Ea(u,t.mechanism)),u.extra={...u.extra,arguments:s},u)),KC(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}_C(r,e),An(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Uy(){const e=za(),{referrer:t}=Xe.document||{},{userAgent:n}=Xe.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function zy(e,t){const n=By(e,t),r={type:Y4(t),value:Q4(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function K4(e,t,n,r){const s=Ke(),o=s==null?void 0:s.getOptions().normalizeDepth,l=rV(t),u={__serialized__:FC(t,o)};if(l)return{exception:{values:[zy(e,l)]},extra:u};const d={exception:{values:[{type:Wf(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:tV(t,{isUnhandledRejection:r})}]},extra:u};if(n){const f=By(e,n);f.length&&(d.exception.values[0].stacktrace={frames:f})}return d}function vm(e,t){return{exception:{values:[zy(e,t)]}}}function By(e,t){const n=t.stacktrace||t.stack||"",r=Z4(t),s=J4(t);try{return e(n,r,s)}catch{}return[]}const G4=/Minified React error #\d+;/i;function Z4(e){return e&&G4.test(e.message)?1:0}function J4(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Sx(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Y4(e){const t=e==null?void 0:e.name;return!t&&Sx(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Q4(e){const t=e==null?void 0:e.message;return Sx(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?OE(t.error):OE(e):"No error message"}function X4(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,o=Vy(e,t,s,r);return Ea(o),o.level="error",n!=null&&n.event_id&&(o.event_id=n.event_id),Kf(o)}function eV(e,t,n="info",r,s){const o=(r==null?void 0:r.syntheticException)||void 0,l=wg(e,t,o,s);return l.level=n,r!=null&&r.event_id&&(l.event_id=r.event_id),Kf(l)}function Vy(e,t,n,r,s){let o;if(gC(t)&&t.error)return vm(e,t.error);if(J0(t)||hB(t)){const l=t;if("stack"in t)o=vm(e,t);else{const u=l.name||(J0(l)?"DOMError":"DOMException"),d=l.message?`${u}: ${l.message}`:u;o=wg(e,d,n,r),ag(o,d)}return"code"in l&&(o.tags={...o.tags,"DOMException.code":`${l.code}`}),o}return Vf(t)?vm(e,t):mu(t)||Wf(t)?(o=K4(e,t,n,s),Ea(o,{synthetic:!0}),o):(o=wg(e,t,n,r),ag(o,`${t}`),Ea(o,{synthetic:!0}),o)}function wg(e,t,n,r){const s={};if(r&&n){const o=By(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),Ea(s,{synthetic:!0})}if(Ey(t)){const{__sentry_template_string__:o,__sentry_template_values__:l}=t;return s.logentry={message:o,params:l},s}return s.message=t,s}function tV(e,{isUnhandledRejection:t}){const n=_B(e),r=t?"promise rejection":"exception";return gC(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Wf(e)?`Event \`${nV(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function nV(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function rV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class sV extends M5{constructor(t){var p;const n=iV(t),r=Xe.SENTRY_SDK_SOURCE||V4();dx(n,"browser",["browser"],r),(p=n._metadata)!=null&&p.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:o,enableLogs:l,_experiments:u,enableMetrics:d}=this._options,f=d??(u==null?void 0:u.enableMetrics)??!0;Xe.document&&(o||l||f)&&Xe.document.addEventListener("visibilitychange",()=>{Xe.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),l&&XC(this),f&&tx(this))}),s&&this.on("beforeSendSession",Y5)}eventFromException(t,n){return X4(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return eV(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function iV(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=Xe.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const ro=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,De=qe,oV=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Mu=(e,t,n,r)=>{let s,o;return l=>{t.value>=0&&(l||r)&&(o=t.value-(s??0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=oV(t.value,n),e(t)))}},ju=(e=!0)=>{var n,r;const t=(r=(n=De.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},qa=()=>{const e=ju();return(e==null?void 0:e.activationStart)??0};function ii(e,t,n){De.document&&De.addEventListener(e,t,n)}function df(e,t,n){De.document&&De.removeEventListener(e,t,n)}let fa=-1;const Ex=new Set,aV=()=>{var e,t;return((e=De.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=De.document)!=null&&t.prerendering)?0:1/0},Bd=e=>{if(lV(e)&&fa>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of Ex)t();isFinite(fa)||(fa=e.type==="visibilitychange"?e.timeStamp:0,df("prerenderingchange",Bd,!0))}},Fu=()=>{var e;if(De.document&&fa<0){const t=qa();fa=(De.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??aV(),ii("visibilitychange",Bd,!0),ii("pagehide",Bd,!0),ii("prerenderingchange",Bd,!0)}return{get firstHiddenTime(){return fa},onHidden(t){Ex.add(t)}}};function lV(e){var t;return e.type==="pagehide"||((t=De.document)==null?void 0:t.visibilityState)==="hidden"}const uV=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Uu=(e,t=-1)=>{var o,l;const n=ju();let r="navigate";return n&&((o=De.document)!=null&&o.prerendering||qa()>0?r="prerender":(l=De.document)!=null&&l.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:uV(),navigationType:r}},_m=new WeakMap;function Wy(e,t){try{return _m.get(e)||_m.set(e,new t),_m.get(e)}catch{return new t}}class ff{constructor(){ff.prototype.__init.call(this),ff.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const Ka=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Hy=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Gf=e=>{var t;(t=De.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},cV=[1800,3e3],dV=(e,t={})=>{Gf(()=>{const n=Fu(),r=Uu("FCP");let s;const l=Ka("paint",u=>{for(const d of u)d.name==="first-contentful-paint"&&(l.disconnect(),d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-qa(),0),r.entries.push(d),s(!0)))});l&&(s=Mu(e,r,cV,t.reportAllChanges))})},fV=[.1,.25],hV=(e,t={})=>{dV(Hy(()=>{var d;const n=Uu("CLS",0);let r;const s=Fu(),o=Wy(t,ff),l=f=>{for(const p of f)o._processEntry(p);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},u=Ka("layout-shift",l);u&&(r=Mu(e,n,fV,t.reportAllChanges),s.onHidden(()=>{l(u.takeRecords()),r(!0)}),(d=De==null?void 0:De.setTimeout)==null||d.call(De,r))}))};let bx=0,wm=1/0,Ed=0;const pV=e=>{e.forEach(t=>{t.interactionId&&(wm=Math.min(wm,t.interactionId),Ed=Math.max(Ed,t.interactionId),bx=Ed?(Ed-wm)/7+1:0)})};let Sg;const kx=()=>Sg?bx:performance.interactionCount||0,mV=()=>{"interactionCount"in performance||Sg||(Sg=Ka("event",pV,{type:"event",buffered:!0,durationThreshold:0}))},Sm=10;let Tx=0;const gV=()=>kx()-Tx;class hf{constructor(){hf.prototype.__init.call(this),hf.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Tx=kx(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(gV()/50));return this._longestInteractionList[t]}_processEntry(t){var s,o;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Sm||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((l,u)=>u._latency-l._latency),this._longestInteractionList.length>Sm){const l=this._longestInteractionList.splice(Sm);for(const u of l)this._longestInteractionMap.delete(u.id)}(o=this._onAfterProcessingINPCandidate)==null||o.call(this,r)}}}const Cx=e=>{var n;const t=De.requestIdleCallback||De.setTimeout;((n=De.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=Hy(e),ii("visibilitychange",e,{once:!0,capture:!0}),ii("pagehide",e,{once:!0,capture:!0}),t(()=>{e(),df("visibilitychange",e,{capture:!0}),df("pagehide",e,{capture:!0})}))},yV=[200,500],vV=40,_V=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=Fu();Gf(()=>{mV();const r=Uu("INP");let s;const o=Wy(t,hf),l=d=>{Cx(()=>{for(const p of d)o._processEntry(p);const f=o._estimateP98LongestInteraction();f&&f._latency!==r.value&&(r.value=f._latency,r.entries=f.entries,s())})},u=Ka("event",l,{durationThreshold:t.durationThreshold??vV});s=Mu(e,r,yV,t.reportAllChanges),u&&(u.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{l(u.takeRecords()),s(!0)}))})};class wV{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const SV=[2500,4e3],EV=(e,t={})=>{Gf(()=>{const n=Fu(),r=Uu("LCP");let s;const o=Wy(t,wV),l=d=>{t.reportAllChanges||(d=d.slice(-1));for(const f of d)o._processEntry(f),f.startTime<n.firstHiddenTime&&(r.value=Math.max(f.startTime-qa(),0),r.entries=[f],s())},u=Ka("largest-contentful-paint",l);if(u){s=Mu(e,r,SV,t.reportAllChanges);const d=Hy(()=>{l(u.takeRecords()),u.disconnect(),s(!0)}),f=p=>{p.isTrusted&&(Cx(d),df(p.type,f,{capture:!0}))};for(const p of["keydown","click","visibilitychange"])ii(p,f,{capture:!0})}})},bV=[800,1800],Eg=e=>{var t,n;(t=De.document)!=null&&t.prerendering?Gf(()=>Eg(e)):((n=De.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Eg(e),!0):setTimeout(e)},kV=(e,t={})=>{const n=Uu("TTFB"),r=Mu(e,n,bV,t.reportAllChanges);Eg(()=>{const s=ju();s&&(n.value=Math.max(s.responseStart-qa(),0),n.entries=[s],r(!0))})},Yl={},pf={};let xx,Rx,Ix,Ax;function qy(e,t=!1){return Zf("cls",e,CV,xx,t)}function Ky(e,t=!1){return Zf("lcp",e,xV,Rx,t)}function TV(e){return Zf("ttfb",e,RV,Ix)}function Ox(e){return Zf("inp",e,IV,Ax)}function so(e,t){return Px(e,t),pf[e]||(AV(e),pf[e]=!0),Nx(e,t)}function zu(e,t){const n=Yl[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){ro&&ue.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ms(r)}
Error:`,s)}}function CV(){return hV(e=>{zu("cls",{metric:e}),xx=e},{reportAllChanges:!0})}function xV(){return EV(e=>{zu("lcp",{metric:e}),Rx=e},{reportAllChanges:!0})}function RV(){return kV(e=>{zu("ttfb",{metric:e}),Ix=e})}function IV(){return _V(e=>{zu("inp",{metric:e}),Ax=e})}function Zf(e,t,n,r,s=!1){Px(e,t);let o;return pf[e]||(o=n(),pf[e]=!0),r&&t({metric:r}),Nx(e,t,s?o:void 0)}function AV(e){const t={};e==="event"&&(t.durationThreshold=0),Ka(e,n=>{zu(e,{entries:n})},t)}function Px(e,t){Yl[e]=Yl[e]||[],Yl[e].push(t)}function Nx(e,t,n){return()=>{n&&n();const r=Yl[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function OV(e){return"duration"in e}const PV=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=De.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};ii("visibilitychange",t,{capture:!0,once:!0}),ii("pagehide",t,{capture:!0,once:!0})};function Em(e){return typeof e=="number"&&isFinite(e)}function ui(e,t,n,{...r}){const s=Qe(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Ny(e,()=>{const o=Ha({startTime:t,...r});return o&&o.end(n),o})}function Gy(e){var b;const t=Ke();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:l,environment:u,sendDefaultPii:d}=t.getOptions(),f=t.getIntegrationByName("Replay"),p=f==null?void 0:f.getReplayId(),g=nt(),v=g.getUser(),_=v!==void 0?v.email||v.id||v.ip_address:void 0;let w;try{w=g.getScopeData().contexts.profile.profile_id}catch{}const S={release:l,environment:u,user:_||void 0,profile_id:w||void 0,replay_id:p||void 0,transaction:r,"user_agent.original":(b=De.navigator)==null?void 0:b.userAgent,"client.address":d?"{{auto}}":void 0,...s};return Ha({name:n,attributes:S,startTime:o,experimental:{standalone:!0}})}function Bu(){return De.addEventListener&&De.performance}function Ct(e){return e/1e3}function NV(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Lx(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Dx(e,t){let n,r=!1;function s(u){!r&&n&&t(u,n),r=!0}PV(()=>{s("pagehide")});const o=e.on("beforeStartNavigationSpan",(u,d)=>{d!=null&&d.isRedirect||(s("navigation"),o(),l())}),l=e.on("afterStartPageLoadSpan",u=>{n=u.spanContext().spanId,l()})}function LV(e){let t=0,n;if(!Lx("layout-shift"))return;const r=qy(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);Dx(e,(s,o)=>{DV(t,n,o,s),r()})}function DV(e,t,n,r){var f;ro&&ue.log(`Sending CLS span (${e})`);const s=t?Ct((On()||0)+t.startTime):Gt(),o=nt().getScopeData().transactionName,l=t?In((f=t.sources[0])==null?void 0:f.node):"Layout shift",u={[Vt]:"auto.http.browser.cls",[vs]:"ui.webvital.cls",[Va]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((p,g)=>{u[`cls.source.${g+1}`]=In(p.node)});const d=Gy({name:l,transaction:o,attributes:u,startTime:s});d&&(d.addEvent("cls",{[Du]:"",[$u]:e}),d.end(s))}function $V(e){let t=0,n;if(!Lx("largest-contentful-paint"))return;const r=Ky(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);Dx(e,(s,o)=>{MV(t,n,o,s),r()})}function MV(e,t,n,r){ro&&ue.log(`Sending LCP span (${e})`);const s=Ct((On()||0)+((t==null?void 0:t.startTime)||0)),o=nt().getScopeData().transactionName,l=t?In(t.element):"Largest contentful paint",u={[Vt]:"auto.http.browser.lcp",[vs]:"ui.webvital.lcp",[Va]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(u["lcp.element"]=In(t.element)),t.id&&(u["lcp.id"]=t.id),t.url&&(u["lcp.url"]=t.url),t.loadTime!=null&&(u["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(u["lcp.renderTime"]=t.renderTime),t.size!=null&&(u["lcp.size"]=t.size));const d=Gy({name:l,transaction:o,attributes:u,startTime:s});d&&(d.addEvent("lcp",{[Du]:"millisecond",[$u]:e}),d.end(s))}function Qn(e){return e&&((On()||performance.timeOrigin)+e)/1e3}function $x(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:r,version:s}=NV(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=r}return On()||(n=Bu())!=null&&n.timeOrigin?jV({...t,"http.request.redirect_start":Qn(e.redirectStart),"http.request.redirect_end":Qn(e.redirectEnd),"http.request.worker_start":Qn(e.workerStart),"http.request.fetch_start":Qn(e.fetchStart),"http.request.domain_lookup_start":Qn(e.domainLookupStart),"http.request.domain_lookup_end":Qn(e.domainLookupEnd),"http.request.connect_start":Qn(e.connectStart),"http.request.secure_connection_start":Qn(e.secureConnectionStart),"http.request.connection_end":Qn(e.connectEnd),"http.request.request_start":Qn(e.requestStart),"http.request.response_start":Qn(e.responseStart),"http.request.response_end":Qn(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function jV(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const FV=2147483647;let zE=0,br={},Tn,sa;function UV({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=Bu();if(r&&On()){r.mark&&De.performance.mark("sentry-tracing-init");const s=t?$V(n):HV(),o=qV(),l=e?LV(n):WV();return()=>{s==null||s(),o(),l==null||l()}}return()=>{}}function zV(){so("longtask",({entries:e})=>{const t=vn();if(!t)return;const{op:n,start_timestamp:r}=Qe(t);for(const s of e){const o=Ct(On()+s.startTime),l=Ct(s.duration);n==="navigation"&&r&&o<r||ui(t,o,o+l,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Vt]:"auto.ui.browser.metrics"}})}})}function BV(){new PerformanceObserver(t=>{const n=vn();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=Ct(On()+r.startTime),{start_timestamp:o,op:l}=Qe(n);if(l==="navigation"&&o&&s<o)continue;const u=Ct(r.duration),d={[Vt]:"auto.ui.browser.metrics"},f=r.scripts[0],{invoker:p,invokerType:g,sourceURL:v,sourceFunctionName:_,sourceCharPosition:w}=f;d["browser.script.invoker"]=p,d["browser.script.invoker_type"]=g,v&&(d["code.filepath"]=v),_&&(d["code.function"]=_),w!==-1&&(d["browser.script.source_char_position"]=w),ui(n,s,s+u,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:d})}}).observe({type:"long-animation-frame",buffered:!0})}function VV(){so("event",({entries:e})=>{const t=vn();if(t){for(const n of e)if(n.name==="click"){const r=Ct(On()+n.startTime),s=Ct(n.duration),o={name:In(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Vt]:"auto.ui.browser.metrics"}},l=vC(n.target);l&&(o.attributes["ui.component_name"]=l),ui(t,r,r+s,o)}}})}function WV(){return qy(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(br.cls={value:e.value,unit:""},sa=t)},!0)}function HV(){return Ky(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(br.lcp={value:e.value,unit:"millisecond"},Tn=t)},!0)}function qV(){return TV(({metric:e})=>{e.entries[e.entries.length-1]&&(br.ttfb={value:e.value,unit:"millisecond"})})}function KV(e,t){const n=Bu(),r=On();if(!(n!=null&&n.getEntries)||!r)return;const s=Ct(r),o=n.getEntries(),{op:l,start_timestamp:u}=Qe(e);o.slice(zE).forEach(d=>{const f=Ct(d.startTime),p=Ct(Math.max(0,d.duration));if(!(l==="navigation"&&u&&s+f<u))switch(d.entryType){case"navigation":{YV(e,d,s);break}case"mark":case"paint":case"measure":{ZV(e,d,f,p,s,t.ignorePerformanceApiSpans);const g=Fu(),v=d.startTime<g.firstHiddenTime;d.name==="first-paint"&&v&&(br.fp={value:d.startTime,unit:"millisecond"}),d.name==="first-contentful-paint"&&v&&(br.fcp={value:d.startTime,unit:"millisecond"});break}case"resource":{eW(e,d,d.name,f,p,s,t.ignoreResourceSpans);break}}}),zE=Math.max(o.length-1,0),tW(e),l==="pageload"&&(sW(br),t.recordClsOnPageloadSpan||delete br.cls,t.recordLcpOnPageloadSpan||delete br.lcp,Object.entries(br).forEach(([d,f])=>{L3(d,f.value,f.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",qa()),nW(e,t)),Tn=void 0,sa=void 0,br={}}function GV(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function ZV(e,t,n,r,s,o){if(GV(t)||["mark","measure"].includes(t.entryType)&&ds(t.name,o))return;const l=ju(!1),u=Ct(l?l.requestStart:0),d=s+Math.max(n,u),f=s+n,p=f+r,g={[Vt]:"auto.resource.browser.metrics"};d!==f&&(g["sentry.browser.measure_happened_before_request"]=!0,g["sentry.browser.measure_start_time"]=d),JV(g,t),d<=p&&ui(e,d,p,{name:t.name,op:t.entryType,attributes:g})}function JV(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&Sa(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(Sa(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function YV(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{bd(e,t,r,n)}),bd(e,t,"secureConnection",n,"TLS/SSL"),bd(e,t,"fetch",n,"cache"),bd(e,t,"domainLookup",n,"DNS"),XV(e,t,n)}function bd(e,t,n,r,s=n){const o=QV(n),l=t[o],u=t[`${n}Start`];!u||!l||ui(e,r+Ct(u),r+Ct(l),{op:`browser.${s}`,name:t.name,attributes:{[Vt]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function QV(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function XV(e,t,n){const r=n+Ct(t.requestStart),s=n+Ct(t.responseEnd),o=n+Ct(t.responseStart);t.responseEnd&&(ui(e,r,s,{op:"browser.request",name:t.name,attributes:{[Vt]:"auto.ui.browser.metrics"}}),ui(e,o,s,{op:"browser.response",name:t.name,attributes:{[Vt]:"auto.ui.browser.metrics"}}))}function eW(e,t,n,r,s,o,l){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const u=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(l!=null&&l.includes(u))return;const d={[Vt]:"auto.resource.browser.metrics"},f=Ji(n);f.protocol&&(d["url.scheme"]=f.protocol.split(":").pop()),f.host&&(d["server.address"]=f.host),d["url.same_origin"]=n.includes(De.location.origin),rW(t,d,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const p={...d,...$x(t)},g=o+r,v=g+s;ui(e,g,v,{name:n.replace(De.location.origin,""),op:u,attributes:p})}function tW(e){const t=De.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Em(n.rtt)&&(br["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Em(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Em(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function nW(e,t){Tn&&t.recordLcpOnPageloadSpan&&(Tn.element&&e.setAttribute("lcp.element",In(Tn.element)),Tn.id&&e.setAttribute("lcp.id",Tn.id),Tn.url&&e.setAttribute("lcp.url",Tn.url.trim().slice(0,200)),Tn.loadTime!=null&&e.setAttribute("lcp.loadTime",Tn.loadTime),Tn.renderTime!=null&&e.setAttribute("lcp.renderTime",Tn.renderTime),e.setAttribute("lcp.size",Tn.size)),sa!=null&&sa.sources&&t.recordClsOnPageloadSpan&&sa.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,In(n.node)))}function rW(e,t,n){n.forEach(([r,s])=>{const o=e[r];o!=null&&(typeof o=="number"&&o<FV||typeof o=="string")&&(t[s]=o)})}function sW(e){const t=ju(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function iW(){return Bu()&&On()?so("element",oW):()=>{}}const oW=({entries:e})=>{const t=vn(),n=t?an(t):void 0,r=n?Qe(n).description:nt().getScopeData().transactionName;e.forEach(s=>{var _,w;const o=s;if(!o.identifier)return;const l=o.name,u=o.renderTime,d=o.loadTime,[f,p]=d?[Ct(d),"load-time"]:u?[Ct(u),"render-time"]:[Gt(),"entry-emission"],g=l==="image-paint"?Ct(Math.max(0,(u??0)-(d??0))):0,v={[Vt]:"auto.ui.browser.elementtiming",[vs]:"ui.elementtiming",[Cr]:"component","sentry.span_start_time_source":p,"sentry.transaction_name":r,"element.id":o.id,"element.type":((w=(_=o.element)==null?void 0:_.tagName)==null?void 0:w.toLowerCase())||"unknown","element.size":o.naturalWidth&&o.naturalHeight?`${o.naturalWidth}x${o.naturalHeight}`:void 0,"element.render_time":u,"element.load_time":d,"element.url":o.url||void 0,"element.identifier":o.identifier,"element.paint_type":l};U3({name:`element[${o.identifier}]`,attributes:v,startTime:f,onlyIfParent:!0},S=>{S.end(f+g)})})},aW=1e3;let BE,bg,kg;function Mx(e){hi("dom",e),pi("dom",lW)}function lW(){if(!De.document)return;const e=nr.bind(null,"dom"),t=VE(e,!0);De.document.addEventListener("click",t,!1),De.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var o,l;const s=(o=De[n])==null?void 0:o.prototype;(l=s==null?void 0:s.hasOwnProperty)!=null&&l.call(s,"addEventListener")&&(Rn(s,"addEventListener",function(u){return function(d,f,p){if(d==="click"||d=="keypress")try{const g=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},v=g[d]=g[d]||{refCount:0};if(!v.handler){const _=VE(e);v.handler=_,u.call(this,d,_,p)}v.refCount++}catch{}return u.call(this,d,f,p)}}),Rn(s,"removeEventListener",function(u){return function(d,f,p){if(d==="click"||d=="keypress")try{const g=this.__sentry_instrumentation_handlers__||{},v=g[d];v&&(v.refCount--,v.refCount<=0&&(u.call(this,d,v.handler,p),v.handler=void 0,delete g[d]),Object.keys(g).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return u.call(this,d,f,p)}}))})}function uW(e){if(e.type!==bg)return!1;try{if(!e.target||e.target._sentryId!==kg)return!1}catch{}return!0}function cW(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function VE(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=dW(n);if(cW(n.type,r))return;An(n,"_sentryCaptured",!0),r&&!r._sentryId&&An(r,"_sentryId",Wn());const s=n.type==="keypress"?"input":n.type;uW(n)||(e({event:n,name:s,global:t}),bg=n.type,kg=r?r._sentryId:void 0),clearTimeout(BE),BE=De.setTimeout(()=>{kg=void 0,bg=void 0},aW)}}function dW(e){try{return e.target}catch{return null}}let kd;function Jf(e){const t="history";hi(t,e),pi(t,fW)}function fW(){if(De.addEventListener("popstate",()=>{const t=De.location.href,n=kd;if(kd=t,n===t)return;nr("history",{from:n,to:t})}),!L4())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=kd,o=hW(String(r));if(kd=o,s===o)return t.apply(this,n);nr("history",{from:s,to:o})}return t.apply(this,n)}}Rn(De.history,"pushState",e),Rn(De.history,"replaceState",e)}function hW(e){try{return new URL(e,De.location.origin).toString()}catch{return e}}const Vd={};function jx(e){const t=Vd[e];if(t)return t;let n=De[e];if(yg(n))return Vd[e]=n.bind(De);const r=De.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o!=null&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){ro&&ue.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Vd[e]=n.bind(De))}function pW(e){Vd[e]=void 0}function Vu(...e){return jx("setTimeout")(...e)}const Fi="__sentry_xhr_v3__";function Fx(e){hi("xhr",e),pi("xhr",mW)}function mW(){if(!De.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=Gt()*1e3,l=cs(r[0])?r[0].toUpperCase():void 0,u=gW(r[1]);if(!l||!u)return t.apply(n,r);n[Fi]={method:l,url:u,request_headers:{}},l==="POST"&&u.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const d=()=>{const f=n[Fi];if(f&&n.readyState===4){try{f.status_code=n.status}catch{}const p={endTimestamp:Gt()*1e3,startTimestamp:o,xhr:n,virtualError:s};nr("xhr",p)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(f,p,g){return d(),f.apply(p,g)}}):n.addEventListener("readystatechange",d),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(f,p,g){const[v,_]=g,w=p[Fi];return w&&cs(v)&&cs(_)&&(w.request_headers[v.toLowerCase()]=_),f.apply(p,g)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Fi];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:Gt()*1e3,xhr:n};return nr("xhr",o),t.apply(n,r)}})}function gW(e){if(cs(e))return e;try{return e.toString()}catch{}}const yW=Symbol.for("sentry__originalRequestBody");function Ux(e){return new URLSearchParams(e).toString()}function zx(e,t=ue){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Ux(e)];if(!e)return[void 0]}catch(n){return ro&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ro&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Bx(e=[]){if(e.length>=2&&e[1]&&typeof e[1]=="object"&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){const n=e[0][yW];return n!==void 0?n:void 0}}function Vx(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return ro&&ue.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}const bm=[],Wd=new Map,Ko=new Map,vW=60;function _W(){if(Bu()&&On()){const t=wW();return()=>{t()}}return()=>{}}const Tg={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function wW(){return Ox(SW)}const SW=({metric:e})=>{if(e.value==null)return;const t=Ct(e.value);if(t>vW)return;const n=e.entries.find(w=>w.duration===e.value&&Tg[w.name]);if(!n)return;const{interactionId:r}=n,s=Tg[n.name],o=Ct(On()+n.startTime),l=vn(),u=l?an(l):void 0,d=r!=null?Wd.get(r):void 0,f=(d==null?void 0:d.span)||u,p=f?Qe(f).description:nt().getScopeData().transactionName,g=(d==null?void 0:d.elementName)||In(n.target),v={[Vt]:"auto.http.browser.inp",[vs]:`ui.interaction.${s}`,[Va]:n.duration},_=Gy({name:g,transaction:p,attributes:v,startTime:o});_&&(_.addEvent("inp",{[Du]:"millisecond",[$u]:e.value}),_.end(o+t))};function EW(){const e=Object.keys(Tg);vg()&&e.forEach(s=>{De.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const o=s.target;if(!o)return;const l=In(o),u=Math.round(s.timeStamp);if(Ko.set(u,l),Ko.size>50){const d=Ko.keys().next().value;d!==void 0&&Ko.delete(d)}}function n(s){const o=Math.round(s.startTime);let l=Ko.get(o);if(!l)for(let u=-5;u<=5;u++){const d=Ko.get(o+u);if(d){l=d;break}}return l||"<unknown>"}const r=({entries:s})=>{const o=vn(),l=o&&an(o);s.forEach(u=>{if(!OV(u))return;const d=u.interactionId;if(d==null||Wd.has(d))return;const f=u.target?In(u.target):n(u);if(bm.length>10){const p=bm.shift();Wd.delete(p)}bm.push(d),Wd.set(d,{span:l,elementName:f})})};so("event",r),so("first-input",r)}const bW=40;function kW(e,t=jx("fetch")){let n=0,r=0;async function s(o){const l=o.body.length;n+=l,r++;const u={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const d=await t(e.url,u);return{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}}catch(d){throw pW("fetch"),d}finally{n-=l,r--}}return P5(e,s,My(e.bufferSize||bW))}const sr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,TW=30,CW=50;function Cg(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?to:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const xW=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,RW=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,IW=/\((\S*)(?::(\d+))(?::(\d+))\)/,AW=/at (.+?) ?\(data:(.+?),/,OW=e=>{const t=e.match(AW);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=xW.exec(e);if(n){const[,s,o,l]=n;return Cg(s,to,+o,+l)}const r=RW.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const u=IW.exec(r[2]);u&&(r[2]=u[1],r[3]=u[2],r[4]=u[3])}const[o,l]=Wx(r[1]||to,r[2]);return Cg(l,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},PW=[TW,OW],NW=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,LW=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,DW=e=>{const t=NW.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=LW.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||to;return[s,r]=Wx(s,r),Cg(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},$W=[CW,DW],MW=[PW,$W],jW=dC(...MW),Wx=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:to,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Td=1024,FW="Breadcrumbs",UW=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:FW,setup(n){t.console&&y4(WW(n)),t.dom&&Mx(VW(n,t.dom)),t.xhr&&Fx(HW(n)),t.fetch&&vx(qW(n)),t.history&&Jf(KW(n)),t.sentry&&n.on("beforeSendEvent",BW(n))}}}),zW=UW;function BW(e){return function(n){Ke()===e&&li({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:$i(n)},{event:n})}}function VW(e,t){return function(r){if(Ke()!==e)return;let s,o,l=typeof t=="object"?t.serializeAttribute:void 0,u=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;u&&u>Td&&(sr&&ue.warn(`\`dom.maxStringLength\` cannot exceed ${Td}, but a value of ${u} was configured. Sentry will use ${Td} instead.`),u=Td),typeof l=="string"&&(l=[l]);try{const f=r.event,p=GW(f)?f.target:f;s=In(p,{keyAttrs:l,maxStringLength:u}),o=vC(p)}catch{s="<unknown>"}if(s.length===0)return;const d={category:`ui.${r.name}`,message:s};o&&(d.data={"ui.component_name":o}),li(d,{event:r.event,name:r.name,global:r.global})}}function WW(e){return function(n){if(Ke()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:px(n.level),message:X0(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${X0(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;li(r,{input:n.args,level:n.level})}}function HW(e){return function(n){if(Ke()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[Fi];if(!r||!s||!o)return;const{method:l,url:u,status_code:d,body:f}=o,p={method:l,url:u,status_code:d},g={xhr:n.xhr,input:f,startTimestamp:r,endTimestamp:s},v={category:"xhr",data:p,type:"http",level:yx(d)};e.emit("beforeOutgoingRequestBreadcrumb",v,g),li(v,g)}}function qW(e){return function(n){if(Ke()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,l={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},u={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",u,l),li(u,l)}else{const o=n.response,l={...n.fetchData,status_code:o==null?void 0:o.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o==null||o.status;const u={input:n.args,response:o,startTimestamp:r,endTimestamp:s},d={category:"fetch",data:l,type:"http",level:yx(l.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",d,u),li(d,u)}}}function KW(e){return function(n){if(Ke()!==e)return;let r=n.from,s=n.to;const o=Ji(Xe.location.href);let l=r?Ji(r):void 0;const u=Ji(s);l!=null&&l.path||(l=o),o.protocol===u.protocol&&o.host===u.host&&(s=u.relative),o.protocol===l.protocol&&o.host===l.host&&(r=l.relative),li({category:"navigation",data:{from:r,to:s}})}}function GW(e){return!!e&&!!e.target}const ZW=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],JW="BrowserApiErrors",YW=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:JW,setupOnce(){t.setTimeout&&Rn(Xe,"setTimeout",WE),t.setInterval&&Rn(Xe,"setInterval",WE),t.requestAnimationFrame&&Rn(Xe,"requestAnimationFrame",XW),t.XMLHttpRequest&&"XMLHttpRequest"in Xe&&Rn(XMLHttpRequest.prototype,"send",eH);const n=t.eventTarget;n&&(Array.isArray(n)?n:ZW).forEach(s=>tH(s,t))}}}),QW=YW;function WE(e){return function(...t){const n=t[0];return t[0]=Ca(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${ms(e)}`}}),e.apply(this,t)}}function XW(e){return function(t){return e.apply(this,[Ca(t,{mechanism:{data:{handler:ms(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function eH(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Rn(n,s,function(o){const l={mechanism:{data:{handler:ms(o)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},u=Ty(o);return u&&(l.mechanism.data.handler=ms(u)),Ca(o,l)})}),e.apply(this,t)}}function tH(e,t){var s,o;const r=(s=Xe[e])==null?void 0:s.prototype;(o=r==null?void 0:r.hasOwnProperty)!=null&&o.call(r,"addEventListener")&&(Rn(r,"addEventListener",function(l){return function(u,d,f){try{nH(d)&&(d.handleEvent=Ca(d.handleEvent,{mechanism:{data:{handler:ms(d),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&rH(this,u,d),l.apply(this,[u,Ca(d,{mechanism:{data:{handler:ms(d),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),f])}}),Rn(r,"removeEventListener",function(l){return function(u,d,f){try{const p=d.__sentry_wrapped__;p&&l.call(this,u,p,f)}catch{}return l.call(this,u,d,f)}}))}function nH(e){return typeof e.handleEvent=="function"}function rH(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const sH=()=>({name:"BrowserSession",setupOnce(){if(typeof Xe.document>"u"){sr&&ue.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}wE({ignoreDuration:!0}),SE(),Jf(({from:e,to:t})=>{e!==void 0&&e!==t&&(wE({ignoreDuration:!0}),SE())})}}),iH="GlobalHandlers",oH=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:iH,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(lH(n),HE("onerror")),t.onunhandledrejection&&(uH(n),HE("onunhandledrejection"))}}}),aH=oH;function lH(e){hC(t=>{const{stackParser:n,attachStacktrace:r}=Hx();if(Ke()!==e||wx())return;const{msg:s,url:o,line:l,column:u,error:d}=t,f=fH(Vy(n,d||s,void 0,r,!1),o,l,u);f.level="error",GC(f,{originalException:d,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function uH(e){pC(t=>{const{stackParser:n,attachStacktrace:r}=Hx();if(Ke()!==e||wx())return;const s=cH(t),o=Sa(s)?dH(s):Vy(n,s,void 0,r,!0);o.level="error",GC(o,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function cH(e){if(Sa(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function dH(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function fH(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],l=o[0]=o[0]||{},u=l.stacktrace=l.stacktrace||{},d=u.frames=u.frames||[],f=r,p=n,g=hH(t)??za();return d.length===0&&d.push({colno:f,filename:g,function:to,in_app:!0,lineno:p}),e}function HE(e){sr&&ue.log(`Global Handler attached: ${e}`)}function Hx(){const e=Ke();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function hH(e){if(!(!cs(e)||e.length===0))return e.startsWith("data:")?`<${si(e,!1)}>`:e}const pH=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!Xe.navigator&&!Xe.location&&!Xe.document)return;const t=Uy(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),mH="cause",gH=5,yH="LinkedErrors",vH=((e={})=>{const t=e.limit||gH,n=e.key||mH;return{name:yH,preprocessEvent(r,s,o){const l=o.getOptions();g4(zy,l.stackParser,n,t,r,s)}}}),_H=vH;function wH(){return SH()?(sr&&lo(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function SH(){var o;if(typeof Xe.window>"u")return!1;const e=Xe;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((o=t==null?void 0:t.runtime)!=null&&o.id))return!1;const n=za(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Xe===Xe.top&&r.some(l=>n.startsWith(`${l}://`)))}function EH(e){return[l4(),s4(),x4(),QW(),zW(),aH(),_H(),S4(),pH(),sH()]}function bH(e={}){const t=!e.skipBrowserExtensionCheck&&wH();let n=e.defaultIntegrations==null?EH():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:uB(e.stackParser||jW),integrations:S5({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||kW};return V5(sV,r)}const dt=qe,Zy="sentryReplaySession",kH="replay_event",Jy="Unable to send Replay",TH=3e5,CH=9e5,xH=5e3,RH=5500,IH=6e4,AH=5e3,OH=3,qE=15e4,Cd=5e3,PH=3e3,NH=300,Yy=2e7,LH=4999,DH=5e4,KE=36e5;var $H=Object.defineProperty,MH=(e,t,n)=>t in e?$H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GE=(e,t,n)=>MH(e,typeof t!="symbol"?t+"":t,n),Nt=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Nt||{});function jH(e){return e.nodeType===e.ELEMENT_NODE}function Ql(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Xl(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function FH(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function UH(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function mf(e){try{const t=e.rules||e.cssRules;return t?FH(Array.from(t,qx).join("")):null}catch{return null}}function zH(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function qx(e){let t;if(VH(e))try{t=mf(e.styleSheet)||UH(e)}catch{}else if(WH(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=zH(e)),r&&(n=BH(n)),r||s)return n}return t||e.cssText}function BH(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function VH(e){return"styleSheet"in e}function WH(e){return"selectorText"in e}class Kx{constructor(){GE(this,"idNodeMap",new Map),GE(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function HH(){return new Kx}function Yf({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function _u({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function xa(e){return e.toLowerCase()}function xg(e){return e.toUpperCase()}const ZE="__rrweb_original__";function qH(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,l=ZE in o?o[ZE]:o;if(new Uint32Array(l.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(d=>d!==0))return!1}return!0}function Qy(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?xa(t):null}function gf(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Gx(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const JE={};function Zx(e){const t=JE[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return JE[e]=r.bind(window)}function Rg(...e){return Zx("setTimeout")(...e)}function Jx(...e){return Zx("clearTimeout")(...e)}function Yx(e){try{return e.contentDocument}catch{}}let KH=1;const GH=new RegExp("[^a-z0-9-_:]"),wu=-2;function Xy(){return KH++}function ZH(e){if(e instanceof HTMLFormElement)return"form";const t=xa(e.tagName);return GH.test(t)?"div":t}function JH(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Go,YE;const YH=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,QH=/^(?:[a-z+]+:)?\/\//i,XH=/^www\..*/i,e8=/^(data:)([^,]*),(.*)/i;function t8(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let s of n){if(s=s.trim(),!s)continue;const o=s.indexOf(":");if(o===-1){r.push(s);continue}const l=s.slice(0,o).trim();t.has(l)||r.push(s)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function yf(e,t){return(e||"").replace(YH,(n,r,s,o,l,u)=>{const d=s||l||u,f=r||o||"";if(!d)return n;if(QH.test(d)||XH.test(d))return`url(${f}${d}${f})`;if(e8.test(d))return`url(${f}${d}${f})`;if(d[0]==="/")return`url(${f}${JH(t)+d}${f})`;const p=t.split("/"),g=d.split("/");p.pop();for(const v of g)v!=="."&&(v===".."?p.pop():p.push(v));return`url(${f}${p.join("/")}${f})`})}const n8=/^[^ \t\n\r\u000c]+/,r8=/^[, \t\n\r\u000c]+/;function s8(e,t){if(t.trim()==="")return t;let n=0;function r(o){let l;const u=o.exec(t.substring(n));return u?(l=u[0],n+=l.length,l):""}const s=[];for(;r(r8),!(n>=t.length);){let o=r(n8);if(o.slice(-1)===",")o=ia(e,o.substring(0,o.length-1)),s.push(o);else{let l="";o=ia(e,o);let u=!1;for(;;){const d=t.charAt(n);if(d===""){s.push((o+l).trim());break}else if(u)d===")"&&(u=!1);else if(d===","){n+=1,s.push((o+l).trim());break}else d==="("&&(u=!0);l+=d,n+=1}}}return s.join(", ")}const QE=new WeakMap;function ia(e,t){return!t||t.trim()===""?t:Qf(e,t)}function i8(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Qf(e,t){let n=QE.get(e);if(n||(n=e.createElement("a"),QE.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Qx(e,t,n,r,s,o,l){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return ia(e,r);if(n==="xlink:href"&&r[0]!=="#")return ia(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return ia(e,r);if(n==="srcset")return s8(e,r);if(n==="style"){let u=yf(r,Qf(e));return l&&l.size>0&&(u=t8(u,l)),u}else if(t==="object"&&n==="data")return ia(e,r);return typeof o=="function"?o(n,r,s):r}function Xx(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function o8(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function a8(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Ui(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ui(e.parentNode,t,n,r+1)}function oa(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(a8(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Ra(e,t,n,r,s,o){try{const l=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(l===null)return!1;if(l.tagName==="INPUT"){const f=l.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(f))return!0}let u=-1,d=-1;if(o){if(d=Ui(l,oa(r,s)),d<0)return!0;u=Ui(l,oa(t,n),d>=0?d:1/0)}else{if(u=Ui(l,oa(t,n)),u<0)return!1;d=Ui(l,oa(r,s),u>=0?u:1/0)}return u>=0?d>=0?u<=d:!0:d>=0?!1:!!o}catch{}return!!o}function l8(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const u=Rg(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Jx(u),s=!0,t()});return}const l="about:blank";if(r.location.href!==l||e.src===l||e.src==="")return Rg(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function u8(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=Rg(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Jx(o),r=!0,t()})}function c8(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:l,maskAllText:u,maskAttributeFn:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:v,inlineStylesheet:_,maskInputOptions:w={},maskTextFn:S,maskInputFn:b,dataURLOptions:C={},inlineImages:T,recordCanvas:R,keepIframeSrcFn:O,newlyAddedElement:z=!1,ignoreCSSAttributes:B}=t,$=d8(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Nt.Document,childNodes:[],compatMode:e.compatMode}:{type:Nt.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Nt.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:$};case e.ELEMENT_NODE:return h8(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:l,inlineStylesheet:_,maskAttributeFn:d,maskInputOptions:w,maskInputFn:b,dataURLOptions:C,inlineImages:T,recordCanvas:R,keepIframeSrcFn:O,newlyAddedElement:z,rootId:$,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:v,ignoreCSSAttributes:B});case e.TEXT_NODE:return f8(e,{doc:n,maskAllText:u,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:v,maskTextFn:S,maskInputOptions:w,maskInputFn:b,rootId:$});case e.CDATA_SECTION_NODE:return{type:Nt.CDATA,textContent:"",rootId:$};case e.COMMENT_NODE:return{type:Nt.Comment,textContent:e.textContent||"",rootId:$};default:return!1}}function d8(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function f8(e,t){var C;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:l,maskTextFn:u,maskInputOptions:d,maskInputFn:f,rootId:p}=t,g=e.parentNode&&e.parentNode.tagName;let v=e.textContent;const _=g==="STYLE"?!0:void 0,w=g==="SCRIPT"?!0:void 0,S=g==="TEXTAREA"?!0:void 0;if(_&&v){try{e.nextSibling||e.previousSibling||(C=e.parentNode.sheet)!=null&&C.cssRules&&(v=mf(e.parentNode.sheet))}catch(T){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${T}`,e)}v=yf(v,Qf(t.doc))}w&&(v="SCRIPT_PLACEHOLDER");const b=Ra(e,r,o,s,l,n);if(!_&&!w&&!S&&v&&b&&(v=u?u(v,e.parentElement):v.replace(/[\S]/g,"*")),S&&v&&(d.textarea||b)&&(v=f?f(v,e.parentNode):v.replace(/[\S]/g,"*")),g==="OPTION"&&v){const T=Yf({type:null,tagName:g,maskInputOptions:d});v=_u({isMasked:Ra(e,r,o,s,l,T),element:e,value:v,maskInputFn:f})}return{type:Nt.Text,textContent:v||"",isStyle:_,rootId:p}}function h8(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:l,maskInputOptions:u={},maskAttributeFn:d,maskInputFn:f,dataURLOptions:p={},inlineImages:g,recordCanvas:v,keepIframeSrcFn:_,newlyAddedElement:w=!1,rootId:S,maskTextClass:b,unmaskTextClass:C,maskTextSelector:T,unmaskTextSelector:R,ignoreCSSAttributes:O}=t,z=o8(e,r,s,o),B=ZH(e);let $={};const j=e.attributes.length;for(let J=0;J<j;J++){const ce=e.attributes[J];ce.name&&!Xx(B,ce.name,ce.value)&&($[ce.name]=Qx(n,B,xa(ce.name),ce.value,e,d,O))}if(B==="link"&&l){const J=Array.from(n.styleSheets).find(ne=>ne.href===e.href);let ce=null;J&&(ce=mf(J)),ce&&($.rel=null,$.href=null,$.crossorigin=null,$._cssText=yf(ce,J.href))}if(B==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const J=mf(e.sheet);J&&($._cssText=yf(J,Qf(n)))}if(B==="input"||B==="textarea"||B==="select"||B==="option"){const J=e,ce=Qy(J),ne=gf(J,xg(B),ce),le=J.checked;if(ce!=="submit"&&ce!=="button"&&ne){const G=Ra(J,b,T,C,R,Yf({type:ce,tagName:xg(B),maskInputOptions:u}));$.value=_u({isMasked:G,element:J,value:ne,maskInputFn:f})}le&&($.checked=le)}if(B==="option"&&(e.selected&&!u.select?$.selected=!0:delete $.selected),B==="canvas"&&v){if(e.__context==="2d")qH(e)||($.rr_dataURL=e.toDataURL(p.type,p.quality));else if(!("__context"in e)){const J=e.toDataURL(p.type,p.quality),ce=n.createElement("canvas");ce.width=e.width,ce.height=e.height;const ne=ce.toDataURL(p.type,p.quality);J!==ne&&($.rr_dataURL=J)}}if(B==="img"&&g){Go||(Go=n.createElement("canvas"),YE=Go.getContext("2d"));const J=e,ce=J.currentSrc||J.getAttribute("src")||"<unknown-src>",ne=J.crossOrigin,le=()=>{J.removeEventListener("load",le);try{Go.width=J.naturalWidth,Go.height=J.naturalHeight,YE.drawImage(J,0,0),$.rr_dataURL=Go.toDataURL(p.type,p.quality)}catch(G){if(J.crossOrigin!=="anonymous"){J.crossOrigin="anonymous",J.complete&&J.naturalWidth!==0?le():J.addEventListener("load",le);return}else console.warn(`Cannot inline img src=${ce}! Error: ${G}`)}J.crossOrigin==="anonymous"&&(ne?$.crossOrigin=ne:J.removeAttribute("crossorigin"))};J.complete&&J.naturalWidth!==0?le():J.addEventListener("load",le)}if((B==="audio"||B==="video")&&($.rr_mediaState=e.paused?"paused":"played",$.rr_mediaCurrentTime=e.currentTime),w||(e.scrollLeft&&($.rr_scrollLeft=e.scrollLeft),e.scrollTop&&($.rr_scrollTop=e.scrollTop)),z){const{width:J,height:ce}=e.getBoundingClientRect();$={class:$.class,rr_width:`${J}px`,rr_height:`${ce}px`}}B==="iframe"&&!_($.src)&&(!z&&!Yx(e)&&($.rr_src=$.src),delete $.src);let te;try{customElements.get(B)&&(te=!0)}catch{}return{type:Nt.Element,tagName:B,attributes:$,childNodes:[],isSVG:i8(e)||void 0,needBlock:z,rootId:S,isCustom:te}}function ut(e){return e==null?"":e.toLowerCase()}function p8(e,t){if(t.comment&&e.type===Nt.Comment)return!0;if(e.type===Nt.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Gx(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ut(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ut(e.attributes.name)==="application-name"||ut(e.attributes.rel)==="icon"||ut(e.attributes.rel)==="apple-touch-icon"||ut(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ut(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ut(e.attributes.property).match(/^(og|twitter|fb):/)||ut(e.attributes.name).match(/^(og|twitter):/)||ut(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ut(e.attributes.name)==="robots"||ut(e.attributes.name)==="googlebot"||ut(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ut(e.attributes.name)==="author"||ut(e.attributes.name)==="generator"||ut(e.attributes.name)==="framework"||ut(e.attributes.name)==="publisher"||ut(e.attributes.name)==="progid"||ut(e.attributes.property).match(/^article:/)||ut(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ut(e.attributes.name)==="google-site-verification"||ut(e.attributes.name)==="yandex-verification"||ut(e.attributes.name)==="csrf-token"||ut(e.attributes.name)==="p:domain_verify"||ut(e.attributes.name)==="verify-v1"||ut(e.attributes.name)==="verification"||ut(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function aa(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,skipChild:v=!1,inlineStylesheet:_=!0,maskInputOptions:w={},maskAttributeFn:S,maskTextFn:b,maskInputFn:C,slimDOMOptions:T,dataURLOptions:R={},inlineImages:O=!1,recordCanvas:z=!1,onSerialize:B,onIframeLoad:$,iframeLoadTimeout:j=5e3,onBlockedImageLoad:te,onStylesheetLoad:J,stylesheetLoadTimeout:ce=5e3,keepIframeSrcFn:ne=()=>!1,newlyAddedElement:le=!1,ignoreCSSAttributes:G}=t;let{preserveWhiteSpace:me=!0}=t;const fe=c8(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:u,unblockSelector:l,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,inlineStylesheet:_,maskInputOptions:w,maskAttributeFn:S,maskTextFn:b,maskInputFn:C,dataURLOptions:R,inlineImages:O,recordCanvas:z,keepIframeSrcFn:ne,newlyAddedElement:le,ignoreCSSAttributes:G});if(!fe)return console.warn(e,"not serialized"),null;let de;r.hasNode(e)?de=r.getId(e):p8(fe,T)||!me&&fe.type===Nt.Text&&!fe.isStyle&&!fe.textContent.replace(/^\s+|\s+$/gm,"").length?de=wu:de=Xy();const N=Object.assign(fe,{id:de});if(r.add(e,N),de===wu)return null;B&&B(e);let re=!v;if(N.type===Nt.Element){re=re&&!N.needBlock;const q=e.shadowRoot;q&&Xl(q)&&(N.isShadowHost=!0)}if((N.type===Nt.Document||N.type===Nt.Element)&&re){T.headWhitespace&&N.type===Nt.Element&&N.tagName==="head"&&(me=!1);const q={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:u,unblockSelector:l,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,skipChild:v,inlineStylesheet:_,maskInputOptions:w,maskAttributeFn:S,maskTextFn:b,maskInputFn:C,slimDOMOptions:T,dataURLOptions:R,inlineImages:O,recordCanvas:z,preserveWhiteSpace:me,onSerialize:B,onIframeLoad:$,iframeLoadTimeout:j,onBlockedImageLoad:te,onStylesheetLoad:J,stylesheetLoadTimeout:ce,keepIframeSrcFn:ne,ignoreCSSAttributes:G},P=e.childNodes?Array.from(e.childNodes):[];for(const H of P){const oe=aa(H,q);oe&&N.childNodes.push(oe)}if(jH(e)&&e.shadowRoot)for(const H of Array.from(e.shadowRoot.childNodes)){const oe=aa(H,q);oe&&(Xl(e.shadowRoot)&&(oe.isShadow=!0),N.childNodes.push(oe))}}if(e.parentNode&&Ql(e.parentNode)&&Xl(e.parentNode)&&(N.isShadow=!0),N.type===Nt.Element&&N.tagName==="iframe"&&!N.needBlock&&l8(e,()=>{const q=Yx(e);if(q&&$){const P=aa(q,{doc:q,mirror:r,blockClass:s,blockSelector:o,unblockSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,skipChild:!1,inlineStylesheet:_,maskInputOptions:w,maskAttributeFn:S,maskTextFn:b,maskInputFn:C,slimDOMOptions:T,dataURLOptions:R,inlineImages:O,recordCanvas:z,preserveWhiteSpace:me,onSerialize:B,onIframeLoad:$,iframeLoadTimeout:j,onStylesheetLoad:J,stylesheetLoadTimeout:ce,keepIframeSrcFn:ne,ignoreCSSAttributes:G});P&&$(e,P)}},j),N.type===Nt.Element&&N.tagName==="img"&&!e.complete&&N.needBlock){const q=e,P=()=>{if(q.isConnected&&!q.complete&&te)try{const H=q.getBoundingClientRect();H.width>0&&H.height>0&&te(q,N,H)}catch{}q.removeEventListener("load",P)};q.isConnected&&q.addEventListener("load",P)}return N.type===Nt.Element&&N.tagName==="link"&&typeof N.attributes.rel=="string"&&(N.attributes.rel==="stylesheet"||N.attributes.rel==="preload"&&typeof N.attributes.href=="string"&&Gx(N.attributes.href)==="css")&&u8(e,()=>{if(J){const q=aa(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,skipChild:!1,inlineStylesheet:_,maskInputOptions:w,maskAttributeFn:S,maskTextFn:b,maskInputFn:C,slimDOMOptions:T,dataURLOptions:R,inlineImages:O,recordCanvas:z,preserveWhiteSpace:me,onSerialize:B,onIframeLoad:$,iframeLoadTimeout:j,onStylesheetLoad:J,stylesheetLoadTimeout:ce,keepIframeSrcFn:ne,ignoreCSSAttributes:G});q&&J(e,q)}},ce),N.type===Nt.Element&&delete N.needBlock,N}function m8(e,t){const{mirror:n=new Kx,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:g=!0,inlineImages:v=!1,recordCanvas:_=!1,maskAllInputs:w=!1,maskAttributeFn:S,maskTextFn:b,maskInputFn:C,slimDOM:T=!1,dataURLOptions:R,preserveWhiteSpace:O,onSerialize:z,onIframeLoad:B,iframeLoadTimeout:$,onBlockedImageLoad:j,onStylesheetLoad:te,stylesheetLoadTimeout:J,keepIframeSrcFn:ce=()=>!1,ignoreCSSAttributes:ne=new Set([])}=t||{};return aa(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:g,maskInputOptions:w===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:w===!1?{}:w,maskAttributeFn:S,maskTextFn:b,maskInputFn:C,slimDOMOptions:T===!0||T==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:T==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:T===!1?{}:T,dataURLOptions:R,inlineImages:v,recordCanvas:_,preserveWhiteSpace:O,onSerialize:z,onIframeLoad:B,iframeLoadTimeout:$,onBlockedImageLoad:j,onStylesheetLoad:te,stylesheetLoadTimeout:J,keepIframeSrcFn:ce,newlyAddedElement:!1,ignoreCSSAttributes:ne})}function yn(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Xo=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let XE={map:{},getId(){return console.error(Xo),-1},getNode(){return console.error(Xo),null},removeNodeFromMap(){console.error(Xo)},has(){return console.error(Xo),!1},reset(){console.error(Xo)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(XE=new Proxy(XE,{get(e,t,n){return t==="map"&&console.error(Xo),Reflect.get(e,t,n)}}));function Su(e,t,n={}){let r=null,s=0;return function(...o){const l=Date.now();!s&&n.leading===!1&&(s=l);const u=t-(l-s),d=this;u<=0||u>t?(r&&(E8(r),r=null),s=l,e.apply(d,o)):!r&&n.trailing!==!1&&(r=Xf(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(d,o)},u))}}function eR(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(l){Xf(()=>{n.set.call(this,l)},0),o&&o.set&&o.set.call(this,l)}}),()=>eR(e,t,o||{},!0)}function ev(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let vf=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(vf=()=>new Date().getTime());function tR(e){var n,r,s,o,l,u;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((l=(o=t==null?void 0:t.body)==null?void 0:o.parentElement)==null?void 0:l.scrollTop)||((u=t==null?void 0:t.body)==null?void 0:u.scrollTop)||0}}function nR(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function rR(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function sR(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Un(e,t,n,r,s){if(!e)return!1;const o=sR(e);if(!o)return!1;const l=oa(t,n);if(!s){const f=r&&o.matches(r);return l(o)&&!f}const u=Ui(o,l);let d=-1;return u<0?!1:(r&&(d=Ui(o,oa(null,r))),u>-1&&d<0?!0:u<d)}function g8(e,t){return t.getId(e)!==-1}function km(e,t){return t.getId(e)===wu}function iR(e,t){if(Ql(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?iR(e.parentNode,t):!0:!0}function Ig(e){return!!e.changedTouches}function y8(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function oR(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function aR(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Ag(e){return!!(e!=null&&e.shadowRoot)}class v8{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function lR(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function _8(e){let t=e,n;for(;n=lR(t);)t=n;return t}function w8(e){const t=e.ownerDocument;if(!t)return!1;const n=_8(e);return t.contains(n)}function uR(e){const t=e.ownerDocument;return t?t.contains(e)||w8(e):!1}const eb={};function tv(e){const t=eb[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return eb[e]=r.bind(window)}function S8(...e){return tv("requestAnimationFrame")(...e)}function Xf(...e){return tv("setTimeout")(...e)}function E8(...e){return tv("clearTimeout")(...e)}var Ve=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ve||{}),Fe=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Fe||{}),pn=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(pn||{}),os=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(os||{}),ea=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(ea||{});function nv(e){try{return e.contentDocument}catch{}}function b8(e){try{return e.contentWindow}catch{}}function tb(e){return"__ln"in e}class k8{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&tb(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&tb(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const nb=(e,t)=>`${e}@${t}`;class T8{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new k8,s=d=>{let f=d,p=wu;for(;p===wu;)f=f&&f.nextSibling,p=f&&this.mirror.getId(f);return p},o=d=>{if(!d.parentNode||!uR(d))return;const f=Ql(d.parentNode)?this.mirror.getId(lR(d)):this.mirror.getId(d.parentNode),p=s(d);if(f===-1||p===-1)return r.addNode(d);const g=aa(d,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:v=>{oR(v,this.mirror)&&!Un(v,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(v),aR(v,this.mirror)&&this.stylesheetManager.trackLinkElement(v),Ag(d)&&this.shadowDomManager.addShadowRoot(d.shadowRoot,this.doc)},onIframeLoad:(v,_)=>{Un(v,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(v,_),v.contentWindow&&this.canvasManager.addWindow(v.contentWindow),this.shadowDomManager.observeAttachShadow(v))},onStylesheetLoad:(v,_)=>{this.stylesheetManager.attachLinkElement(v,_)},onBlockedImageLoad:(v,_,{width:w,height:S})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:_.id,attributes:{style:{width:`${w}px`,height:`${S}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});g&&(t.push({parentId:f,nextId:p,node:g}),n.add(g.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const d of this.movedSet)rb(this.removes,d,this.mirror)&&!this.movedSet.has(d.parentNode)||o(d);for(const d of this.addedSet)!sb(this.droppedSet,d)&&!rb(this.removes,d,this.mirror)||sb(this.movedSet,d)?o(d):this.droppedSet.add(d);let l=null;for(;r.length;){let d=null;if(l){const f=this.mirror.getId(l.value.parentNode),p=s(l.value);f!==-1&&p!==-1&&(d=l)}if(!d){let f=r.tail;for(;f;){const p=f;if(f=f.previous,p){const g=this.mirror.getId(p.value.parentNode);if(s(p.value)===-1)continue;if(g!==-1){d=p;break}else{const _=p.value;if(_.parentNode&&_.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const w=_.parentNode.host;if(this.mirror.getId(w)!==-1){d=p;break}}}}}}if(!d){for(;r.head;)r.removeNode(r.head.value);break}l=d.previous,r.removeNode(d.value),o(d.value)}const u={texts:this.texts.map(d=>({id:this.mirror.getId(d.node),value:d.value})).filter(d=>!n.has(d.id)).filter(d=>this.mirror.has(d.id)),attributes:this.attributes.map(d=>{const{attributes:f}=d;if(typeof f.style=="string"){const p=JSON.stringify(d.styleDiff),g=JSON.stringify(d._unchangedStyles);p.length<f.style.length&&(p+g).split("var(").length===f.style.split("var(").length&&(f.style=d.styleDiff)}return{id:this.mirror.getId(d.node),attributes:f}}).filter(d=>!n.has(d.id)).filter(d=>this.mirror.has(d.id)),removes:this.removes,adds:t};!u.texts.length&&!u.attributes.length&&!u.removes.length&&!u.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(u))},this.processMutation=t=>{if(!km(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Un(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Ra(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,sR(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const l=Qy(n),u=n.tagName;s=gf(n,u,l);const d=Yf({maskInputOptions:this.maskInputOptions,tagName:u,type:l}),f=Ra(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,d);s=_u({isMasked:f,element:n,value:s,maskInputFn:this.maskInputFn})}if(Un(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!nv(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Xx(n.tagName,r)&&(o.attributes[r]=Qx(this.doc,xa(n.tagName),xa(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const l=this.unattachedDoc.createElement("span");t.oldValue&&l.setAttribute("style",t.oldValue);for(const u of Array.from(n.style)){const d=n.style.getPropertyValue(u),f=n.style.getPropertyPriority(u);d!==l.style.getPropertyValue(u)||f!==l.style.getPropertyPriority(u)?f===""?o.styleDiff[u]=d:o.styleDiff[u]=[d,f]:o._unchangedStyles[u]=[d,f]}for(const u of Array.from(l.style))n.style.getPropertyValue(u)===""&&(o.styleDiff[u]=!1)}break}case"childList":{if(Un(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Ql(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Un(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||km(n,this.mirror)||!g8(n,this.mirror)||(this.addedSet.has(n)?(Og(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||iR(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[nb(r,s)]?Og(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Ql(t.target)&&Xl(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(km(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[nb(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Un(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),Ag(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Og(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>Og(e,r))}function rb(e,t,n){return e.length===0?!1:C8(e,t,n)}function C8(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function sb(e,t){return e.size===0?!1:cR(e,t)}function cR(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:cR(e,n):!1}let eu;function x8(e){eu=e}function R8(){eu=void 0}const Je=e=>eu?(...n)=>{try{return e(...n)}catch(r){if(eu&&eu(r)===!0)return()=>{};throw r}}:e,la=[];function Wu(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function dR(e,t){var l,u;const n=new T8;la.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(u=(l=window==null?void 0:window.Zone)==null?void 0:l.__symbol__)==null?void 0:u.call(l,"MutationObserver");s&&window[s]&&(r=window[s]);const o=new r(Je(d=>{e.onMutation&&e.onMutation(d)===!1||n.processMutations.bind(n)(d)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function I8({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let l=[],u;const d=Su(Je(g=>{const v=Date.now()-u;e(l.map(_=>(_.timeOffset-=v,_)),g),l=[],u=null}),o),f=Je(Su(Je(g=>{const v=Wu(g),{clientX:_,clientY:w}=Ig(g)?g.changedTouches[0]:g;u||(u=vf()),l.push({x:_,y:w,id:r.getId(v),timeOffset:vf()-u}),d(typeof DragEvent<"u"&&g instanceof DragEvent?Fe.Drag:g instanceof MouseEvent?Fe.MouseMove:Fe.TouchMove)}),s,{trailing:!1})),p=[yn("mousemove",f,n),yn("touchmove",f,n),yn("drag",f,n)];return Je(()=>{p.forEach(g=>g())})}function A8({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:l}){if(l.mouseInteraction===!1)return()=>{};const u=l.mouseInteraction===!0||l.mouseInteraction===void 0?{}:l.mouseInteraction,d=[];let f=null;const p=g=>v=>{const _=Wu(v);if(Un(_,r,s,o,!0))return;let w=null,S=g;if("pointerType"in v){switch(v.pointerType){case"mouse":w=os.Mouse;break;case"touch":w=os.Touch;break;case"pen":w=os.Pen;break}w===os.Touch?pn[g]===pn.MouseDown?S="TouchStart":pn[g]===pn.MouseUp&&(S="TouchEnd"):os.Pen}else Ig(v)&&(w=os.Touch);w!==null?(f=w,(S.startsWith("Touch")&&w===os.Touch||S.startsWith("Mouse")&&w===os.Mouse)&&(w=null)):pn[g]===pn.Click&&(w=f,f=null);const b=Ig(v)?v.changedTouches[0]:v;if(!b)return;const C=n.getId(_),{clientX:T,clientY:R}=b;Je(e)({type:pn[S],id:C,x:T,y:R,...w!==null&&{pointerType:w}})};return Object.keys(pn).filter(g=>Number.isNaN(Number(g))&&!g.endsWith("_Departed")&&u[g]!==!1).forEach(g=>{let v=xa(g);const _=p(g);if(window.PointerEvent)switch(pn[g]){case pn.MouseDown:case pn.MouseUp:v=v.replace("mouse","pointer");break;case pn.TouchStart:case pn.TouchEnd:return}d.push(yn(v,_,t))}),Je(()=>{d.forEach(g=>g())})}function fR({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:l}){const u=Je(Su(Je(d=>{const f=Wu(d);if(!f||Un(f,r,s,o,!0))return;const p=n.getId(f);if(f===t&&t.defaultView){const g=tR(t.defaultView);e({id:p,x:g.left,y:g.top})}else e({id:p,x:f.scrollLeft,y:f.scrollTop})}),l.scroll||100));return yn("scroll",u,t)}function O8({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=Je(Su(Je(()=>{const o=nR(),l=rR();(n!==o||r!==l)&&(e({width:Number(l),height:Number(o)}),n=o,r=l)}),200));return yn("resize",s,t)}const P8=["INPUT","TEXTAREA","SELECT"],ib=new WeakMap;function N8({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:l,ignoreSelector:u,maskInputOptions:d,maskInputFn:f,sampling:p,userTriggeredOnInput:g,maskTextClass:v,unmaskTextClass:_,maskTextSelector:w,unmaskTextSelector:S}){function b($){let j=Wu($);const te=$.isTrusted,J=j&&xg(j.tagName);if(J==="OPTION"&&(j=j.parentElement),!j||!J||P8.indexOf(J)<0||Un(j,r,s,o,!0))return;const ce=j;if(ce.classList.contains(l)||u&&ce.matches(u))return;const ne=Qy(j);let le=gf(ce,J,ne),G=!1;const me=Yf({maskInputOptions:d,tagName:J,type:ne}),fe=Ra(j,v,w,_,S,me);(ne==="radio"||ne==="checkbox")&&(G=j.checked),le=_u({isMasked:fe,element:j,value:le,maskInputFn:f}),C(j,g?{text:le,isChecked:G,userTriggered:te}:{text:le,isChecked:G});const de=j.name;ne==="radio"&&de&&G&&t.querySelectorAll(`input[type="radio"][name="${de}"]`).forEach(N=>{if(N!==j){const re=_u({isMasked:fe,element:N,value:gf(N,J,ne),maskInputFn:f});C(N,g?{text:re,isChecked:!G,userTriggered:!1}:{text:re,isChecked:!G})}})}function C($,j){const te=ib.get($);if(!te||te.text!==j.text||te.isChecked!==j.isChecked){ib.set($,j);const J=n.getId($);Je(e)({...j,id:J})}}const R=(p.input==="last"?["change"]:["input","change"]).map($=>yn($,Je(b),t)),O=t.defaultView;if(!O)return()=>{R.forEach($=>$())};const z=O.Object.getOwnPropertyDescriptor(O.HTMLInputElement.prototype,"value"),B=[[O.HTMLInputElement.prototype,"value"],[O.HTMLInputElement.prototype,"checked"],[O.HTMLSelectElement.prototype,"value"],[O.HTMLTextAreaElement.prototype,"value"],[O.HTMLSelectElement.prototype,"selectedIndex"],[O.HTMLOptionElement.prototype,"selected"]];return z&&z.set&&R.push(...B.map($=>eR($[0],$[1],{set(){Je(b)({target:this,isTrusted:!1})}},!1,O))),Je(()=>{R.forEach($=>$())})}function _f(e){const t=[];function n(r,s){if(xd("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||xd("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||xd("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||xd("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const l=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(l)}else if(r.parentStyleSheet){const l=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(l)}return s}return n(e,t)}function qs(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function L8({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Je((p,g,v)=>{const[_,w]=v,{id:S,styleId:b}=qs(g,t,n.styleMirror);return(S&&S!==-1||b&&b!==-1)&&e({id:S,styleId:b,adds:[{rule:_,index:w}]}),p.apply(g,v)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Je((p,g,v)=>{const[_]=v,{id:w,styleId:S}=qs(g,t,n.styleMirror);return(w&&w!==-1||S&&S!==-1)&&e({id:w,styleId:S,removes:[{index:_}]}),p.apply(g,v)})});let l;r.CSSStyleSheet.prototype.replace&&(l=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(l,{apply:Je((p,g,v)=>{const[_]=v,{id:w,styleId:S}=qs(g,t,n.styleMirror);return(w&&w!==-1||S&&S!==-1)&&e({id:w,styleId:S,replace:_}),p.apply(g,v)})}));let u;r.CSSStyleSheet.prototype.replaceSync&&(u=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(u,{apply:Je((p,g,v)=>{const[_]=v,{id:w,styleId:S}=qs(g,t,n.styleMirror);return(w&&w!==-1||S&&S!==-1)&&e({id:w,styleId:S,replaceSync:_}),p.apply(g,v)})}));const d={};Rd("CSSGroupingRule")?d.CSSGroupingRule=r.CSSGroupingRule:(Rd("CSSMediaRule")&&(d.CSSMediaRule=r.CSSMediaRule),Rd("CSSConditionRule")&&(d.CSSConditionRule=r.CSSConditionRule),Rd("CSSSupportsRule")&&(d.CSSSupportsRule=r.CSSSupportsRule));const f={};return Object.entries(d).forEach(([p,g])=>{f[p]={insertRule:g.prototype.insertRule,deleteRule:g.prototype.deleteRule},g.prototype.insertRule=new Proxy(f[p].insertRule,{apply:Je((v,_,w)=>{const[S,b]=w,{id:C,styleId:T}=qs(_.parentStyleSheet,t,n.styleMirror);return(C&&C!==-1||T&&T!==-1)&&e({id:C,styleId:T,adds:[{rule:S,index:[..._f(_),b||0]}]}),v.apply(_,w)})}),g.prototype.deleteRule=new Proxy(f[p].deleteRule,{apply:Je((v,_,w)=>{const[S]=w,{id:b,styleId:C}=qs(_.parentStyleSheet,t,n.styleMirror);return(b&&b!==-1||C&&C!==-1)&&e({id:b,styleId:C,removes:[{index:[..._f(_),S]}]}),v.apply(_,w)})})}),Je(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,l&&(r.CSSStyleSheet.prototype.replace=l),u&&(r.CSSStyleSheet.prototype.replaceSync=u),Object.entries(d).forEach(([p,g])=>{g.prototype.insertRule=f[p].insertRule,g.prototype.deleteRule=f[p].deleteRule})})}function hR({mirror:e,stylesheetManager:t},n){var l,u,d;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(l=n.defaultView)==null?void 0:l.Document:(d=(u=n.ownerDocument)==null?void 0:u.defaultView)==null?void 0:d.ShadowRoot,o=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){var f;return(f=o.get)==null?void 0:f.call(this)},set(f){var g;const p=(g=o.set)==null?void 0:g.call(this,f);if(r!==null&&r!==-1)try{t.adoptStyleSheets(f,r)}catch{}return p}}),Je(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function D8({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Je((u,d,f)=>{var S;const[p,g,v]=f;if(n.has(p))return o.apply(d,[p,g,v]);const{id:_,styleId:w}=qs((S=d.parentRule)==null?void 0:S.parentStyleSheet,t,r.styleMirror);return(_&&_!==-1||w&&w!==-1)&&e({id:_,styleId:w,set:{property:p,value:g,priority:v},index:_f(d.parentRule)}),u.apply(d,f)})});const l=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:Je((u,d,f)=>{var _;const[p]=f;if(n.has(p))return l.apply(d,[p]);const{id:g,styleId:v}=qs((_=d.parentRule)==null?void 0:_.parentStyleSheet,t,r.styleMirror);return(g&&g!==-1||v&&v!==-1)&&e({id:g,styleId:v,remove:{property:p},index:_f(d.parentRule)}),u.apply(d,f)})}),Je(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=l})}function $8({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:l}){const u=Je(f=>Su(Je(p=>{const g=Wu(p);if(!g||Un(g,t,n,r,!0))return;const{currentTime:v,volume:_,muted:w,playbackRate:S}=g;e({type:f,id:s.getId(g),currentTime:v,volume:_,muted:w,playbackRate:S})}),o.media||500)),d=[yn("play",u(ea.Play),l),yn("pause",u(ea.Pause),l),yn("seeked",u(ea.Seeked),l),yn("volumechange",u(ea.VolumeChange),l),yn("ratechange",u(ea.RateChange),l)];return Je(()=>{d.forEach(f=>f())})}function M8({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(d,f,p){const g=new o(d,f,p);return s.set(g,{family:d,buffer:typeof f!="string",descriptors:p,fontSource:typeof f=="string"?f:JSON.stringify(Array.from(new Uint8Array(f)))}),g};const l=ev(t.fonts,"add",function(u){return function(d){return Xf(Je(()=>{const f=s.get(d);f&&(e(f),s.delete(d))}),0),u.apply(this,[d])}});return r.push(()=>{n.FontFace=o}),r.push(l),Je(()=>{r.forEach(u=>u())})}function j8(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:l}=e;let u=!0;const d=Je(()=>{const f=t.getSelection();if(!f||u&&(f!=null&&f.isCollapsed))return;u=f.isCollapsed||!1;const p=[],g=f.rangeCount||0;for(let v=0;v<g;v++){const _=f.getRangeAt(v),{startContainer:w,startOffset:S,endContainer:b,endOffset:C}=_;Un(w,r,s,o,!0)||Un(b,r,s,o,!0)||p.push({start:n.getId(w),startOffset:S,end:n.getId(b),endOffset:C})}l({ranges:p})});return d(),yn("selectionchange",d)}function F8({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:ev(n.customElements,"define",function(s){return function(o,l,u){try{t({define:{name:o}})}catch{}return s.apply(this,[o,l,u])}})}function U8(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=dR(e,e.doc));const s=I8(e),o=A8(e),l=fR(e),u=O8(e,{win:n}),d=N8(e),f=$8(e);let p=()=>{},g=()=>{},v=()=>{},_=()=>{};e.recordDOM&&(p=L8(e,{win:n}),g=hR(e,e.doc),v=D8(e,{win:n}),e.collectFonts&&(_=M8(e)));const w=j8(e),S=F8(e),b=[];for(const C of e.plugins)b.push(C.observer(C.callback,n,C.options));return Je(()=>{la.forEach(C=>C.reset()),r==null||r.disconnect(),s(),o(),l(),u(),d(),f(),p(),g(),v(),_(),w(),S(),b.forEach(C=>C())})}function xd(e){return typeof window[e]<"u"}function Rd(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Pg{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),l=s||this.getRemoteIdToIdMap(t);let u=o.get(n);return u||(u=this.generateIdFn(),o.set(n,u),l.set(u,n)),u}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class z8{constructor(){this.crossOriginIframeMirror=new Pg(Xy),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class B8{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Pg(Xy),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Pg(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,o;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(o=this.loadListener)==null||o.call(this,t);const r=nv(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Ve.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:Ve.IncrementalSnapshot,data:{source:Fe.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ve.Meta:case Ve.Load:case Ve.DomContentLoaded:return!1;case Ve.Plugin:return n;case Ve.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Ve.IncrementalSnapshot:switch(n.data.source){case Fe.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(s.node,o)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case Fe.Drag:case Fe.TouchMove:case Fe.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case Fe.ViewportResize:return!1;case Fe.MediaInteraction:case Fe.MouseInteraction:case Fe.Scroll:case Fe.CanvasMutation:case Fe.Input:return this.replaceIds(n.data,t,["id"]),n;case Fe.StyleSheetRule:case Fe.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Fe.Font:return n;case Fe.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case Fe.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Nt.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class V8{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class W8{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Xl(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=dR({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(fR({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Xf(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(hR({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=nv(t),r=b8(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(ev(t.prototype,"attachShadow",function(s){return function(o){const l=s.call(this,o);return this.shadowRoot&&uR(this)&&r.addShadowRoot(this.shadowRoot,n),l}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var ob="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Id=0;Id<ob.length;Id++)H8[ob.charCodeAt(Id)]=Id;class ab{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class q8{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new v8,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let l;this.styleMirror.has(o)?l=this.styleMirror.getId(o):(l=this.styleMirror.add(o),s.push({styleId:l,rules:Array.from(o.rules||CSSRule,(u,d)=>({rule:qx(u),index:d}))})),r.styleIds.push(l)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class K8{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,S8(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let Et,wf;var zb;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((zb=e.contentWindow)==null?void 0:zb.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const gr=HH();function hs(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:l=null,ignoreClass:u="rr-ignore",ignoreSelector:d=null,maskAllText:f=!1,maskTextClass:p="rr-mask",unmaskTextClass:g=null,maskTextSelector:v=null,unmaskTextSelector:_=null,inlineStylesheet:w=!0,maskAllInputs:S,maskInputOptions:b,slimDOMOptions:C,maskAttributeFn:T,maskInputFn:R,maskTextFn:O,maxCanvasSize:z=null,packFn:B,sampling:$={},dataURLOptions:j={},mousemoveWait:te,recordDOM:J=!0,recordCanvas:ce=!1,recordCrossOriginIframes:ne=!1,recordAfter:le=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:G=!1,collectFonts:me=!1,inlineImages:fe=!1,plugins:de,keepIframeSrcFn:N=()=>!1,ignoreCSSAttributes:re=new Set([]),errorHandler:q,onMutation:P,getCanvasManager:H}=e;x8(q);const oe=ne?window.parent===window:!0;let he=!1;if(!oe)try{window.parent.document&&(he=!1)}catch{he=!0}if(oe&&!t)throw new Error("emit function is required");if(!oe&&!he)return()=>{};te!==void 0&&$.mousemove===void 0&&($.mousemove=te),gr.reset();const xe=S===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:b!==void 0?b:{},je=C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:C==="all",headMetaDescKeywords:C==="all"}:C||{};y8();let Ce,Ue=0;const He=ze=>{for(const I of de||[])I.eventProcessor&&(ze=I.eventProcessor(ze));return B&&!he&&(ze=B(ze)),ze};Et=(ze,I)=>{var W;const L=ze;if(L.timestamp=vf(),(W=la[0])!=null&&W.isFrozen()&&L.type!==Ve.FullSnapshot&&!(L.type===Ve.IncrementalSnapshot&&L.data.source===Fe.Mutation)&&la.forEach(ae=>ae.unfreeze()),oe)t==null||t(He(L),I);else if(he){const ae={type:"rrweb",event:He(L),origin:window.location.origin,isCheckout:I};window.parent.postMessage(ae,"*")}if(L.type===Ve.FullSnapshot)Ce=L,Ue=0;else if(L.type===Ve.IncrementalSnapshot){if(L.data.source===Fe.Mutation&&L.data.isAttachIframe)return;Ue++;const ae=r&&Ue>=r,Z=n&&Ce&&L.timestamp-Ce.timestamp>n;(ae||Z)&&Es(!0)}};const it=ze=>{Et({type:Ve.IncrementalSnapshot,data:{source:Fe.Mutation,...ze}})},un=ze=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.Scroll,...ze}}),ar=ze=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.CanvasMutation,...ze}}),Wr=ze=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.AdoptedStyleSheet,...ze}}),Pn=new q8({mutationCb:it,adoptedStyleSheetCb:Wr}),Nn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new z8:new B8({mirror:gr,mutationCb:it,stylesheetManager:Pn,recordCrossOriginIframes:ne,wrappedEmit:Et});for(const ze of de||[])ze.getMirror&&ze.getMirror({nodeMirror:gr,crossOriginIframeMirror:Nn.crossOriginIframeMirror,crossOriginIframeStyleMirror:Nn.crossOriginIframeStyleMirror});const Hr=new K8,qr=Z8(H,{mirror:gr,win:window,mutationCb:ze=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.CanvasMutation,...ze}}),recordCanvas:ce,blockClass:s,blockSelector:o,unblockSelector:l,maxCanvasSize:z,sampling:$.canvas,dataURLOptions:j,errorHandler:q}),Kr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new V8:new W8({mutationCb:it,scrollCb:un,bypassOptions:{onMutation:P,blockClass:s,blockSelector:o,unblockSelector:l,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:v,unmaskTextSelector:_,inlineStylesheet:w,maskInputOptions:xe,dataURLOptions:j,maskAttributeFn:T,maskTextFn:O,maskInputFn:R,recordCanvas:ce,inlineImages:fe,sampling:$,slimDOMOptions:je,iframeManager:Nn,stylesheetManager:Pn,canvasManager:qr,keepIframeSrcFn:N,processedNodeManager:Hr,ignoreCSSAttributes:re},mirror:gr}),Es=(ze=!1)=>{if(!J)return;Et({type:Ve.Meta,data:{href:window.location.href,width:rR(),height:nR()}},ze),Pn.reset(),Kr.init(),la.forEach(L=>L.lock());const I=m8(document,{mirror:gr,blockClass:s,blockSelector:o,unblockSelector:l,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:v,unmaskTextSelector:_,inlineStylesheet:w,maskAllInputs:xe,maskAttributeFn:T,maskInputFn:R,maskTextFn:O,slimDOM:je,dataURLOptions:j,recordCanvas:ce,inlineImages:fe,onSerialize:L=>{oR(L,gr)&&Nn.addIframe(L),aR(L,gr)&&Pn.trackLinkElement(L),Ag(L)&&Kr.addShadowRoot(L.shadowRoot,document)},onIframeLoad:(L,W)=>{Nn.attachIframe(L,W),L.contentWindow&&qr.addWindow(L.contentWindow),Kr.observeAttachShadow(L)},onStylesheetLoad:(L,W)=>{Pn.attachLinkElement(L,W)},onBlockedImageLoad:(L,W,{width:ae,height:Z})=>{it({adds:[],removes:[],texts:[],attributes:[{id:W.id,attributes:{style:{width:`${ae}px`,height:`${Z}px`}}}]})},keepIframeSrcFn:N,ignoreCSSAttributes:re});if(!I)return console.warn("Failed to snapshot the document");Et({type:Ve.FullSnapshot,data:{node:I,initialOffset:tR(window)}}),la.forEach(L=>L.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Pn.adoptStyleSheets(document.adoptedStyleSheets,gr.getId(document))};wf=Es;try{const ze=[],I=W=>{var ae;return Je(U8)({onMutation:P,mutationCb:it,mousemoveCb:(Z,se)=>Et({type:Ve.IncrementalSnapshot,data:{source:se,positions:Z}}),mouseInteractionCb:Z=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.MouseInteraction,...Z}}),scrollCb:un,viewportResizeCb:Z=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.ViewportResize,...Z}}),inputCb:Z=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.Input,...Z}}),mediaInteractionCb:Z=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.MediaInteraction,...Z}}),styleSheetRuleCb:Z=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.StyleSheetRule,...Z}}),styleDeclarationCb:Z=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.StyleDeclaration,...Z}}),canvasMutationCb:ar,fontCb:Z=>Et({type:Ve.IncrementalSnapshot,data:{source:Fe.Font,...Z}}),selectionCb:Z=>{Et({type:Ve.IncrementalSnapshot,data:{source:Fe.Selection,...Z}})},customElementCb:Z=>{Et({type:Ve.IncrementalSnapshot,data:{source:Fe.CustomElement,...Z}})},blockClass:s,ignoreClass:u,ignoreSelector:d,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:v,unmaskTextSelector:_,maskInputOptions:xe,inlineStylesheet:w,sampling:$,recordDOM:J,recordCanvas:ce,inlineImages:fe,userTriggeredOnInput:G,collectFonts:me,doc:W,maskAttributeFn:T,maskInputFn:R,maskTextFn:O,keepIframeSrcFn:N,blockSelector:o,unblockSelector:l,slimDOMOptions:je,dataURLOptions:j,mirror:gr,iframeManager:Nn,stylesheetManager:Pn,shadowDomManager:Kr,processedNodeManager:Hr,canvasManager:qr,ignoreCSSAttributes:re,plugins:((ae=de==null?void 0:de.filter(Z=>Z.observer))==null?void 0:ae.map(Z=>({observer:Z.observer,options:Z.options,callback:se=>Et({type:Ve.Plugin,data:{plugin:Z.name,payload:se}})})))||[]},{})};Nn.addLoadListener(W=>{try{ze.push(I(W.contentDocument))}catch(ae){console.warn(ae)}});const L=()=>{Es(),ze.push(I(document))};return document.readyState==="interactive"||document.readyState==="complete"?L():(ze.push(yn("DOMContentLoaded",()=>{Et({type:Ve.DomContentLoaded,data:{}}),le==="DOMContentLoaded"&&L()})),ze.push(yn("load",()=>{Et({type:Ve.Load,data:{}}),le==="load"&&L()},window))),()=>{ze.forEach(W=>W()),Hr.destroy(),wf=void 0,R8()}}catch(ze){console.warn(ze)}}function G8(e){if(!wf)throw new Error("please take full snapshot after start recording");wf(e)}hs.mirror=gr;hs.takeFullSnapshot=G8;function Z8(e,t){try{return e?e(t):new ab}catch{return console.warn("Unable to initialize CanvasManager"),new ab}}var lb;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(lb||(lb={}));const J8=3,Y8=5;function rv(e){return e>9999999999?e:e*1e3}function Tm(e){return e>9999999999?e/1e3:e}function Hu(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Ve.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Er(t,10,1e3)}}),t.category==="console")))}const Q8="button,a";function pR(e){return e.closest(Q8)||e}function mR(e){const t=gR(e);return!t||!(t instanceof Element)?t:pR(t)}function gR(e){return X8(e)?e.target:e}function X8(e){return typeof e=="object"&&!!e&&"target"in e}let Ks;function e6(e){return Ks||(Ks=[],t6()),Ks.push(e),()=>{const t=Ks?Ks.indexOf(e):-1;t>-1&&Ks.splice(t,1)}}function t6(){Rn(dt,"open",function(e){return function(...t){if(Ks)try{Ks.forEach(n=>n())}catch{}return e.apply(dt,t)}})}const n6=new Set([Fe.Mutation,Fe.StyleSheetRule,Fe.StyleDeclaration,Fe.AdoptedStyleSheet,Fe.CanvasMutation,Fe.Selection,Fe.MediaInteraction]);function r6(e,t,n){e.handleClick(t,n)}class s6{constructor(t,n,r=Hu){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=e6(()=>{this._lastMutation=ub()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(o6(n,this._ignoreSelector)||!a6(t))return;const r={timestamp:Tm(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Tm(t)}registerScroll(t=Date.now()){this._lastScroll=Tm(t)}registerClick(t){const n=pR(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=ub();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:l,clickBreadcrumb:u}=t;if(o){const d=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,f=d<this._timeout*1e3?"mutation":"timeout",p={type:"default",message:u.message,timestamp:u.timestamp,category:"ui.slowClickDetected",data:{...u.data,url:dt.location.href,route:n.getCurrentRoute(),timeAfterClickMs:d,endReason:f,clickCount:l||1}};this._addBreadcrumbEvent(n,p);return}if(l>1){const d={type:"default",message:u.message,timestamp:u.timestamp,category:"ui.multiClick",data:{...u.data,url:dt.location.href,route:n.getCurrentRoute(),clickCount:l,metric:!0}};this._addBreadcrumbEvent(n,d)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Vu(()=>this._checkClicks(),1e3)}}const i6=["A","BUTTON","INPUT"];function o6(e,t){return!!(!i6.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function a6(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function ub(){return Date.now()/1e3}function l6(e,t){try{if(!u6(t))return;const{source:n}=t.data;if(n6.has(n)&&e.registerMutation(t.timestamp),n===Fe.Scroll&&e.registerScroll(t.timestamp),c6(t)){const{type:r,id:s}=t.data,o=hs.mirror.getNode(s);o instanceof HTMLElement&&r===pn.Click&&e.registerClick(o)}}catch{}}function u6(e){return e.type===J8}function c6(e){return e.data.source===Fe.MouseInteraction}function Fr(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var sv=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(sv||{});const d6=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function f6(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(d6.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const h6=e=>t=>{if(!e.isEnabled())return;const n=p6(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&r6(e.clickDetector,n,mR(t.event)),Hu(e,n)};function yR(e,t){const n=hs.mirror.getId(e),r=n&&hs.mirror.getNode(n),s=r&&hs.mirror.getMeta(r),o=s&&g6(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(l=>l.type===sv.Text&&l.textContent).filter(Boolean).map(l=>l.trim()).join(""),attributes:f6(o.attributes)}}:{}}}function p6(e){const{target:t,message:n}=m6(e);return Fr({category:`ui.${e.name}`,...yR(t,n)})}function m6(e){const t=e.name==="click";let n,r=null;try{r=t?mR(e.event):gR(e.event),n=In(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function g6(e){return e.type===sv.Element}function y6(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=v6(t);n&&Hu(e,n)}function v6(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:l}=e;if(!l||_6(l)||!o)return null;const u=t||r||s,d=o.length===1;if(!u&&d)return null;const f=In(l,{maxStringLength:200})||"<unknown>",p=yR(l,f);return Fr({category:"ui.keyDown",message:f,data:{...p.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function _6(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const w6={resource:T6,paint:b6,navigation:k6};function Cm(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function S6(e){return e.map(E6).filter(Boolean)}function E6(e){const t=w6[e.entryType];return t?t(e):null}function Ia(e){return((On()||dt.performance.timeOrigin)+e)/1e3}function b6(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=Ia(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function k6(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:l,domContentLoadedEventStart:u,domContentLoadedEventEnd:d,domInteractive:f,loadEventStart:p,loadEventEnd:g,redirectCount:v,startTime:_,transferSize:w,type:S}=e;return s===0?null:{type:`${t}.${S}`,start:Ia(_),end:Ia(o),name:n,data:{size:w,decodedBodySize:r,encodedBodySize:l,duration:s,domInteractive:f,domContentLoadedEventStart:u,domContentLoadedEventEnd:d,loadEventStart:p,loadEventEnd:g,domComplete:o,redirectCount:v}}}function T6(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:l,encodedBodySize:u,responseStatus:d,transferSize:f}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Ia(o),end:Ia(s),name:r,data:{size:f,statusCode:d,decodedBodySize:l,encodedBodySize:u}}}function C6(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return iv(e,"largest-contentful-paint",n)}function x6(e){return e.sources!==void 0}function R6(e){const t=[],n=[];for(const r of e.entries)if(x6(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const l=hs.mirror.getId(o.node);l&&s.push(l)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return iv(e,"cumulative-layout-shift",n,t)}function I6(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return iv(e,"interaction-to-next-paint",n)}function iv(e,t,n,r){const s=e.value,o=e.rating,l=Ia(s);return{type:"web-vital",name:t,start:l,end:l,data:{value:s,size:s,rating:o,nodeIds:n?n.map(u=>hs.mirror.getId(u)):void 0,attributions:r}}}function A6(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(so(s,n))}),r.push(Ky(Cm(C6,e)),qy(Cm(R6,e)),Ox(Cm(I6,e))),()=>{r.forEach(s=>s())}}const Ne=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,O6='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function P6(){const e=new Blob([O6]);return URL.createObjectURL(e)}const cb=["log","warn","error"],Hd="[Replay] ";function xm(e,t="info"){li({category:"console",data:{logger:"replay"},level:t,message:`${Hd}${e}`},{level:t})}function N6(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return Ne?(cb.forEach(r=>{n[r]=(...s)=>{ue[r](Hd,...s),t&&xm(s.join(""),px(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),ue.error(Hd,r),e?KC(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&xm(r,"error")},n.infoTick=(...r)=>{ue.log(Hd,...r),t&&setTimeout(()=>xm(r[0]),0)}):cb.forEach(r=>{n[r]=()=>{}}),n}const Le=N6();class ov extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Yy}.`)}}class vR{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Yy)throw new ov;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?rv(t):null}}class L6{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Ne&&Le.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const l=({data:u})=>{const d=u;if(d.method===t&&d.id===r){if(this._worker.removeEventListener("message",l),!d.success){Ne&&Le.error("Error in compression worker: ",d.response),o(new Error("Error in compression worker"));return}s(d.response)}};this._worker.addEventListener("message",l),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class D6{constructor(t){this._worker=new L6(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=rv(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Yy?Promise.reject(new ov):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{Ne&&Le.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class $6{constructor(t){this._fallback=new vR,this._compression=new D6(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){Ne&&Le.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){Ne&&Le.exception(o,"Failed to add events when switching buffers.")}}}function M6({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=j6(t);if(n)return n}return Ne&&Le.log("Using simple buffer"),new vR}function j6(e){try{const t=e||F6();if(!t)return;Ne&&Le.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new $6(n)}catch(t){Ne&&Le.exception(t,"Failed to create compression worker")}}function F6(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?P6():""}function av(){try{return"sessionStorage"in dt&&!!dt.sessionStorage}catch{return!1}}function U6(e){z6(),e.session=void 0}function z6(){if(av())try{dt.sessionStorage.removeItem(Zy)}catch{}}function _R(e){return e===void 0?!1:Math.random()<e}function eh(e){if(av())try{dt.sessionStorage.setItem(Zy,JSON.stringify(e))}catch{}}function wR(e){const t=Date.now(),n=e.id||Wn(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,l=e.sampled,u=e.previousSessionId,d=e.dirty||!1;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:l,previousSessionId:u,dirty:d}}function B6(e,t){return _R(e)?"session":t?"buffer":!1}function db({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=B6(e,t),o=wR({sampled:s,previousSessionId:r});return n&&eh(o),o}function V6(){if(!av())return null;try{const e=dt.sessionStorage.getItem(Zy);if(!e)return null;const t=JSON.parse(e);return Ne&&Le.infoTick("Loading existing session"),wR(t)}catch{return null}}function Ng(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function SR(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Ng(e.started,t,r)||Ng(e.lastActivity,n,r)}function ER(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!SR(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Rm({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&V6();return s?ER(s,{sessionIdleExpire:e,maxReplayDuration:t})?(Ne&&Le.infoTick("Session in sessionStorage is expired, creating new one..."),db(r,{previousSessionId:s.id})):s:(Ne&&Le.infoTick("Creating new session"),db(r,{previousSessionId:n}))}function W6(e){return e.type===Ve.Custom}function lv(e,t,n){return kR(e,t)?(bR(e,t,n),!0):!1}function H6(e,t,n){return kR(e,t)?bR(e,t,n):Promise.resolve(null)}async function bR(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),l=q6(t,o.beforeAddRecordingEvent);return l?await r.addEvent(l):void 0}catch(o){const l=o&&o instanceof ov,u=l?"addEventSizeExceeded":"addEvent",d=Ke();if(d){const f=l?"buffer_overflow":"internal_sdk_error";d.recordDroppedEvent(f,"replay")}if(l&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:u})}}function kR(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=rv(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Ne&&Le.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function q6(e,t){try{if(typeof t=="function"&&W6(e))return t(e)}catch(n){return Ne&&Le.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function uv(e){return!e.type}function Lg(e){return e.type==="transaction"}function K6(e){return e.type==="replay_event"}function fb(e){return e.type==="feedback"}function G6(e){return(t,n)=>{if(!e.isEnabled()||!uv(t)&&!Lg(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(Lg(t)){Z6(e,t);return}J6(e,t)}}}function Z6(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function J6(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Vu(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function Y6(e){return t=>{!e.isEnabled()||!uv(t)||Q6(e,t)}}function Q6(e,t){var r,s,o;const n=(o=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:o.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const l=Fr({category:"replay.hydrate-error",data:{url:za()}});Hu(e,l)}}function X6(e){const t=Ke();t&&t.on("beforeAddBreadcrumb",n=>eq(e,n))}function eq(e,t){if(!e.isEnabled()||!TR(t))return;const n=tq(t);n&&Hu(e,n)}function tq(e){return!TR(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?nq(e):Fr(e)}function nq(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return Fr(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Cd?(n=!0,`${o.slice(0,Cd)}`):o;if(typeof o=="object")try{const l=Er(o,7);return JSON.stringify(l).length>Cd?(n=!0,`${JSON.stringify(l,null,2).slice(0,Cd)}`):l}catch{}return o});return Fr({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function TR(e){return!!e.category}function rq(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function CR(){const e=nt().getPropagationContext().dsc;e&&delete e.replay_id;const t=vn();if(t){const n=_s(t);delete n.replay_id}}function sq(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Ve.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function iq(e,t){return e.recordingMode!=="buffer"||t.message===Jy||!t.exception||t.type?!1:_R(e.getOptions().errorSampleRate)}function oq(e){return Object.assign((t,n)=>{var l;if(!e.isEnabled()||e.isPaused())return t;if(K6(t))return delete t.breadcrumbs,t;if(!uv(t)&&!Lg(t)&&!fb(t))return t;if(!e.checkAndHandleExpiredSession())return CR(),t;if(fb(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),sq(e,t),t;if(rq(t,n)&&!e.getOptions()._experiments.captureExceptions)return Ne&&Le.log("Ignoring error from rrweb internals",t),null;const s=iq(e,t);if((s||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),s&&e.recordingMode==="buffer"&&((l=e.session)==null?void 0:l.sampled)==="buffer"){const u=e.session;u.dirty=!0,e.getOptions().stickySession&&eh(u)}return t},{id:"Replay"})}function th(e,t){return t.map(({type:n,start:r,end:s,name:o,data:l})=>{const u=e.throttledAddEvent({type:Ve.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:l}}});return typeof u=="string"?Promise.resolve(null):u})}function aq(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function lq(e){return t=>{if(!e.isEnabled())return;const n=aq(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(th(e,[n]),!1)))}}function uq(e,t){return Ne&&e.getOptions()._experiments.traceInternals?!1:G5(t,Ke())}function xR(e,t){e.isEnabled()&&t!==null&&(uq(e,t.name)||e.addUpdate(()=>(th(e,[t]),!0)))}function nh(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Ux(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function RR(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Sf(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function IR(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:l,request:u,response:d}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:o,statusCode:l,request:u,response:d}}}function Eu(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function oi(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=cq(n);return r.body=s,o!=null&&o.length&&(r._meta={warnings:o}),r}function Dg(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function cq(e){if(!e||typeof e!="string")return{body:e};const t=e.length>qE,n=dq(e);if(t){const r=e.slice(0,qE);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function dq(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Ef(e,t){const n=fq(e);return ds(n,t)}function fq(e,t=dt.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(dt.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function hq(e,t,n){try{const r=await mq(e,t,n),s=IR("resource.fetch",r);xR(n.replay,s)}catch(r){Ne&&Le.exception(r,"Failed to capture fetch breadcrumb")}}function pq(e,t){const{input:n,response:r}=t,s=n?Bx(n):void 0,o=nh(s),l=r?RR(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),l!==void 0&&(e.data.response_body_size=l)}async function mq(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:l,method:u,status_code:d=0,request_body_size:f,response_body_size:p}=e.data,g=Ef(l,n.networkDetailAllowUrls)&&!Ef(l,n.networkDetailDenyUrls),v=g?gq(n,t.input,f):Eu(f),_=await yq(g,n,t.response,p);return{startTimestamp:s,endTimestamp:o,url:l,method:u,statusCode:d,request:v,response:_}}function gq({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?wq(n,t):{};if(!e)return oi(s,r,void 0);const o=Bx(n),[l,u]=zx(o,Le),d=oi(s,r,l);return u?Sf(d,u):d}async function yq(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Eu(s);const o=r?AR(r.headers,n):{};if(!r||!t&&s!==void 0)return oi(o,s,void 0);const[l,u]=await _q(r),d=vq(l,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return u?Sf(d,u):d}function vq(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e!=null&&e.length&&n===void 0?nh(e):n;return r?t?oi(s,o,e):oi(s,o,void 0):Eu(o)}catch(o){return Ne&&Le.exception(o,"Failed to serialize response body"),oi(s,n,void 0)}}async function _q(e){const t=Sq(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Eq(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(Ne&&Le.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(Ne&&Le.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function AR(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function wq(e,t){return e.length===1&&typeof e[0]!="string"?hb(e[0],t):e.length===2?hb(e[1],t):{}}function hb(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?AR(n,t):Array.isArray(n)?{}:Dg(n,t):{}}function Sq(e){try{return e.clone()}catch(t){Ne&&Le.exception(t,"Failed to clone response body")}}function Eq(e){return new Promise((t,n)=>{const r=Vu(()=>n(new Error("Timeout while trying to read response body")),500);bq(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function bq(e){return await e.text()}async function kq(e,t,n){try{const r=Cq(e,t,n),s=IR("resource.xhr",r);xR(n.replay,s)}catch(r){Ne&&Le.exception(r,"Failed to capture xhr breadcrumb")}}function Tq(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=nh(r),o=n.getResponseHeader("content-length")?RR(n.getResponseHeader("content-length")):Iq(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function Cq(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:l,xhr:u}=t,{url:d,method:f,status_code:p=0,request_body_size:g,response_body_size:v}=e.data;if(!d)return null;if(!u||!Ef(d,n.networkDetailAllowUrls)||Ef(d,n.networkDetailDenyUrls)){const B=Eu(g),$=Eu(v);return{startTimestamp:s,endTimestamp:o,url:d,method:f,statusCode:p,request:B,response:$}}const _=u[Fi],w=_?Dg(_.request_headers,n.networkRequestHeaders):{},S=Dg(Vx(u),n.networkResponseHeaders),[b,C]=n.networkCaptureBodies?zx(l,Le):[void 0],[T,R]=n.networkCaptureBodies?xq(u):[void 0],O=oi(w,g,b),z=oi(S,v,T);return{startTimestamp:s,endTimestamp:o,url:d,method:f,statusCode:p,request:C?Sf(O,C):O,response:R?Sf(z,R):z}}function xq(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Rq(e.response,e.responseType)}catch(n){t.push(n)}return Ne&&Le.warn("Failed to get xhr response body",...t),[void 0]}function Rq(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return Ne&&Le.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Ne&&Le.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Iq(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return nh(n)}catch{return}}function Aq(e){const t=Ke();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:l}=e.getOptions(),u={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:l};t&&t.on("beforeAddBreadcrumb",(d,f)=>Oq(u,d,f))}catch{}}function Oq(e,t,n){if(t.data)try{Pq(t)&&Lq(n)&&(Tq(t,n),kq(t,n,e)),Nq(t)&&Dq(n)&&(pq(t,n),hq(t,n,e))}catch(r){Ne&&Le.exception(r,"Error when enriching network breadcrumb")}}function Pq(e){return e.category==="xhr"}function Nq(e){return e.category==="fetch"}function Lq(e){return e==null?void 0:e.xhr}function Dq(e){return e==null?void 0:e.response}function $q(e){const t=Ke();Mx(h6(e)),Jf(lq(e)),X6(e),Aq(e);const n=oq(e);p5(n),t&&(t.on("beforeSendEvent",Y6(e)),t.on("afterSendEvent",G6(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var l;const o=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&o&&((l=r.contexts)!=null&&l.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=o)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function Mq(e){try{return Promise.all(th(e,[jq(dt.performance.memory)]))}catch{return[]}}function jq(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Fq(e,t,n){return e4(e,t,{...n,setTimeoutImpl:Vu})}const Xn=qe.navigator;function Uq(){return/iPhone|iPad|iPod/i.test((Xn==null?void 0:Xn.userAgent)??"")||/Macintosh/i.test((Xn==null?void 0:Xn.userAgent)??"")&&(Xn!=null&&Xn.maxTouchPoints)&&(Xn==null?void 0:Xn.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function zq(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){Ne&&Le.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&l6(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!lv(e,n,s))return!0;if(!s)return!1;const o=e.session;if(Vq(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer&&!o.dirty){const l=e.eventBuffer.getEarliestTimestamp();l&&(Ne&&Le.log(`Updating session start time to earliest event in buffer to ${new Date(l)}`),o.started=l,e.getOptions().stickySession&&eh(o))}return o!=null&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function Bq(e){const t=e.getOptions();return{type:Ve.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Vq(e,t){!t||!e.session||e.session.segmentId!==0||lv(e,Bq(e),!1)}function Wq(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Hq(e,t,n,r){return gi(UC(e,Py(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function qq({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function Kq({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const l=await qC(e.getOptions(),r,o,t,e,Rr());if(!l)return null;e.emit("postprocessEvent",l,o),l.platform=l.platform||"javascript";const u=e.getSdkMetadata(),{name:d,version:f,settings:p}=(u==null?void 0:u.sdk)||{};return l.sdk={...l.sdk,name:d||"sentry.javascript.unknown",version:f||"0.0.0",settings:p},l}async function Gq({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const l=qq({recordingData:e,headers:{segment_id:n}}),{urls:u,errorIds:d,traceIds:f,initialTimestamp:p}=r,g=Ke(),v=nt(),_=g==null?void 0:g.getTransport(),w=g==null?void 0:g.getDsn();if(!g||!_||!w||!o.sampled)return Promise.resolve({});const S={type:kH,replay_start_timestamp:p/1e3,timestamp:s/1e3,error_ids:d,trace_ids:f,urls:u,replay_id:t,segment_id:n,replay_type:o.sampled},b=await Kq({scope:v,client:g,replayId:t,event:S});if(!b)return g.recordDroppedEvent("event_processor","replay"),Ne&&Le.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete b.sdkProcessingMetadata;const C=Hq(b,l,w,g.getOptions().tunnel);let T;try{T=await _.send(C)}catch(O){const z=new Error(Jy);try{z.cause=O}catch{}throw z}const R=sx({},T);if(rx(R,"replay"))throw new cv(R);if(typeof T.statusCode=="number"&&(T.statusCode<200||T.statusCode>=300))throw new OR(T.statusCode);return T}class OR extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class cv extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}class pb extends Error{constructor(){super("Session is too long, not sending replay")}}async function PR(e,t={count:0,interval:AH}){const{recordingData:n,onError:r}=e;if(n.length)try{return await Gq(e),!0}catch(s){if(s instanceof OR||s instanceof cv)throw s;if(ZC("Replays",{_retryCount:t.count}),r&&r(s),t.count>=OH){const o=new Error(`${Jy} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,l)=>{Vu(async()=>{try{await PR(e,t),o(!0)}catch(u){l(u)}},t.interval)})}}const NR="__THROTTLED",Zq="__SKIPPED";function Jq(e,t,n){const r=new Map,s=u=>{const d=u-n;r.forEach((f,p)=>{p<d&&r.delete(p)})},o=()=>[...r.values()].reduce((u,d)=>u+d,0);let l=!1;return(...u)=>{const d=Math.floor(Date.now()/1e3);if(s(d),o()>=t){const p=l;return l=!0,p?Zq:NR}l=!1;const f=r.get(d)||0;return r.set(d,f+1),e(...u)}}class Yq{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:TH,sessionIdleExpire:CH},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Fq(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Jq((l,u)=>H6(this,l,u),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(PH,r),timeout:r,scrollTimeout:NH,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new s6(this,o)),Ne){const l=t._experiments;Le.setConfig({captureExceptions:!!l.captureExceptions,traceInternals:!!l.traceInternals})}this._handleVisibilityChange=()=>{dt.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const l=Fr({category:"ui.blur"});this._doChangeToBackgroundTasks(l)},this._handleWindowFocus=()=>{const l=Fr({category:"ui.focus"});this._doChangeToForegroundTasks(l)},this._handleKeyboardEvent=l=>{y6(this,l)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){Ne&&Le.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){Ne&&Le.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Ne&&Le.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){Ne&&Le.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){Ne&&Le.log("Buffering is in progress, call `flush()` to save the replay");return}Ne&&Le.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Rm({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){Ne&&Le.log("Buffering is in progress, call `flush()` to save the replay");return}Ne&&Le.infoTick("Starting replay in buffer mode");const t=Rm({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=hs({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:IH}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:zq(this),...Uq(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{Ne&&Le.log(`Stopping Replay${n?` triggered by ${n}`:""}`),CR(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,U6(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ne&&Le.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ne&&Le.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Ne&&Le.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var n,r;if(!(t&&((n=this.session)==null?void 0:n.sampled)===!1))return(r=this.session)==null?void 0:r.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Ng(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${dt.location.pathname}${dt.location.hash}${dt.location.search}`,n=`${dt.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===NR){const s=Fr({category:"replay.throttled"});this.addUpdate(()=>!lv(this,{type:Y8,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||vn(),n=t&&an(t),s=(n&&Qe(n).data||{})[Cr];if(!(!n||!s||!["route","custom"].includes(s)))return Qe(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=M6({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Rm({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return ER(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{dt.document.addEventListener("visibilitychange",this._handleVisibilityChange),dt.addEventListener("blur",this._handleWindowBlur),dt.addEventListener("focus",this._handleWindowFocus),dt.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||($q(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=A6(this)}_removeListeners(){try{dt.document.removeEventListener("visibilitychange",this._handleVisibilityChange),dt.removeEventListener("blur",this._handleWindowBlur),dt.removeEventListener("focus",this._handleWindowFocus),dt.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||SR(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Ne&&Le.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Ve.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=S6(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(th(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){Ne&&Le.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await Mq(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new pb;const s=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const l=await this.eventBuffer.finish();await PR({replayId:t,recordingData:l,segmentId:o,eventContext:s,session:this.session,timestamp:r,onError:u=>this.handleException(u)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=Ke();if(s){let o;r instanceof cv?o="ratelimit_backoff":r instanceof pb?o="invalid":o="send_error",s.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){Ne&&Le.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,l=s>this._options.maxReplayDuration+5e3;if(o||l){Ne&&Le.log(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const u=this.eventBuffer;u&&this.session.segmentId===0&&!u.hasCheckout&&Ne&&Le.log("Flushing initial segment without checkout.");const d=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(f){this.handleException(f)}finally{this._flushLock=void 0,d&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&eh(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(u=>{const d=Wq(u.target),f=n.join(",");return d==null?void 0:d.matches(f)}))return!1;const r=t.length,s=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,l=s&&r>s;if(r>o||l){const u=Fr({category:"replay.mutations",data:{count:r,limit:l}});this._createCustomBreadcrumb(u)}return l?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Ul(e,t){return[...e,...t].join(",")}function Qq({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],l=Ul(e,[".sentry-mask","[data-sentry-mask]"]),u=Ul(t,[]);return{maskTextSelector:l,unmaskTextSelector:u,blockSelector:Ul(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:Ul(r,[]),ignoreSelector:Ul(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Xq({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const mb='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',e9=["content-length","content-type","accept"],t9=Symbol.for("sentry__originalRequestBody");let gb=!1,yb=!1;function n9(){if(typeof Request>"u"||yb)return;const e=Request;try{const t=function(n,r){const s=new e(n,r);return(r==null?void 0:r.body)!=null&&(s[t9]=r.body),s};t.prototype=e.prototype,qe.Request=t,yb=!0}catch{}}const r9=(e=>new s9(e));class s9{constructor({flushMinDelay:t=xH,flushMaxDelay:n=RH,minReplayDuration:r=LH,maxReplayDuration:s=KE,stickySession:o=!0,useCompression:l=!0,workerUrl:u,_experiments:d={},maskAllText:f=!0,maskAllInputs:p=!0,blockAllMedia:g=!0,mutationBreadcrumbLimit:v=750,mutationLimit:_=1e4,slowClickTimeout:w=7e3,slowClickIgnoreSelectors:S=[],networkDetailAllowUrls:b=[],networkDetailDenyUrls:C=[],networkCaptureBodies:T=!0,networkRequestHeaders:R=[],networkResponseHeaders:O=[],mask:z=[],maskAttributes:B=["title","placeholder","aria-label"],unmask:$=[],block:j=[],unblock:te=[],ignore:J=[],maskFn:ce,beforeAddRecordingEvent:ne,beforeErrorSampling:le,onError:G,attachRawBodyFromRequest:me=!1}={}){this.name="Replay";const fe=Qq({mask:z,unmask:$,block:j,unblock:te,ignore:J});if(this._recordingOptions={maskAllInputs:p,maskAllText:f,maskInputOptions:{password:!0},maskTextFn:ce,maskInputFn:ce,maskAttributeFn:(de,N,re)=>Xq({maskAttributes:B,maskAllText:f,privacyOptions:fe,key:de,value:N,el:re}),...fe,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:de=>{try{de.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!d.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,DH),maxReplayDuration:Math.min(s,KE),stickySession:o,useCompression:l,workerUrl:u,blockAllMedia:g,maskAllInputs:p,maskAllText:f,mutationBreadcrumbLimit:v,mutationLimit:_,slowClickTimeout:w,slowClickIgnoreSelectors:S,networkDetailAllowUrls:b,networkDetailDenyUrls:C,networkCaptureBodies:T,networkRequestHeaders:vb(R),networkResponseHeaders:vb(O),beforeAddRecordingEvent:ne,beforeErrorSampling:le,onError:G,attachRawBodyFromRequest:me,_experiments:d},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${mb}`:mb,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&vg())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return gb}set _isInitialized(t){gb=t}afterAllSetup(t){!vg()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&n9(),this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=i9(this._initialOptions,t);this._replay=new Yq({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function i9(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=no(n.replaysSessionSampleRate),o=no(n.replaysOnErrorSampleRate);return s==null&&o==null&&lo(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function vb(e){return[...e9,...e.map(t=>t.toLowerCase())]}function o9(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function LR(e){try{return new URL(e,Xe.location.origin).href}catch{return}}function a9(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function DR(e){try{return new Headers(e)}catch{return}}const _b=new WeakMap,Im=new Map,$R={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function l9(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:l,tracePropagationTargets:u,onRequestSpanStart:d,onRequestSpanEnd:f}={...$R,...t},p=typeof o=="function"?o:w=>!0,g=w=>u9(w,u),v={},_=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(w=>(w.type==="transaction"&&w.spans&&w.spans.forEach(S=>{if(S.op==="http.client"){const b=Im.get(S.span_id);b&&(S.timestamp=b/1e3,Im.delete(S.span_id))}}),w)),s&&M4(w=>{if(w.response){const S=_b.get(w.response);S&&w.endTimestamp&&Im.set(S,w.endTimestamp)}}),vx(w=>{const S=R4(w,p,g,v,{propagateTraceparent:_,onRequestSpanEnd:f});if(w.response&&w.fetchData.__span&&_b.set(w.response,w.fetchData.__span),S){const b=LR(w.fetchData.url),C=b?Ji(b).host:void 0;S.setAttributes({"http.url":b?si(b):void 0,"server.address":C}),l&&wb(S),d==null||d(S,{headers:w.headers})}})),r&&Fx(w=>{var b;const S=c9(w,p,g,v,_,f);S&&(l&&wb(S),d==null||d(S,{headers:DR((b=w.xhr.__sentry_xhr_v3__)==null?void 0:b.request_headers)}))})}function wb(e){const{url:t}=Qe(e).data;if(!t||typeof t!="string")return;const n=so("resource",({entries:r})=>{r.forEach(s=>{a9(s)&&s.name.endsWith(t)&&(e.setAttributes($x(s)),setTimeout(n))})})}function u9(e,t){const n=za();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?ds(r.toString(),t)||o&&ds(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?ds(e,t):r}}function c9(e,t,n,r,s,o){const l=e.xhr,u=l==null?void 0:l[Fi];if(!l||l.__sentry_own_request__||!u)return;const{url:d,method:f}=u,p=xr()&&t(d);if(e.endTimestamp&&p){const C=l.__sentry_xhr_span_id__;if(!C)return;const T=r[C];T&&u.status_code!==void 0&&(kC(T,u.status_code),T.end(),o==null||o(T,{headers:DR(Vx(l)),error:e.error}),delete r[C]);return}const g=LR(d),v=Ji(g||d),_=si(K5(d)),w=!!vn(),S=p&&w?Ha({name:`${f} ${_}`,attributes:{url:si(d),type:"xhr","http.method":f,"http.url":g?si(g):void 0,"server.address":v==null?void 0:v.host,[Vt]:"auto.http.browser",[vs]:"http.client",...(v==null?void 0:v.search)&&{"http.query":v==null?void 0:v.search},...(v==null?void 0:v.hash)&&{"http.fragment":v==null?void 0:v.hash}}}):new ai;l.__sentry_xhr_span_id__=S.spanContext().spanId,r[l.__sentry_xhr_span_id__]=S,n(d)&&d9(l,xr()&&w?S:void 0,s);const b=Ke();return b&&b.emit("beforeOutgoingRequestSpan",S,e),S}function d9(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:o}=fx({span:t,propagateTraceparent:n});r&&f9(e,r,s,o)}function f9(e,t,n,r){var o;const s=(o=e.__sentry_xhr_v3__)==null?void 0:o.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",r),n){const l=s==null?void 0:s.baggage;(!l||!o9(l))&&e.setRequestHeader("baggage",n)}}catch{}}function h9(){Xe.document?Xe.document.addEventListener("visibilitychange",()=>{const e=vn();if(!e)return;const t=an(e);if(Xe.document.hidden&&t){const n="cancelled",{op:r,status:s}=Qe(t);sr&&ue.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:Bt,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):sr&&ue.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const p9=3600,MR="sentry_previous_trace",m9="sentry.previous_trace";function g9(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?_9():void 0;e.on("spanStart",l=>{if(an(l)!==l)return;const u=nt().getPropagationContext();s=y9(s,l,u),r&&v9(s)});let o=!0;n&&e.on("beforeSampling",l=>{if(!s)return;const u=nt(),d=u.getPropagationContext();if(o&&d.parentSpanId){o=!1;return}u.setPropagationContext({...d,dsc:{...d.dsc,sample_rate:String(s.sampleRate),sampled:String($g(s.spanContext))},sampleRand:s.sampleRand}),l.parentSampled=$g(s.spanContext),l.parentSampleRate=s.sampleRate,l.spanAttributes={...l.spanAttributes,[bC]:s.sampleRate}})}function y9(e,t,n){const r=Qe(t);function s(){var u,d;try{return Number((u=n.dsc)==null?void 0:u.sample_rate)??Number((d=r.data)==null?void 0:d[Cy])}catch{return 0}}const o={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return o;const l=e.spanContext;return l.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=p9&&(sr&&ue.log(`Adding previous_trace \`${JSON.stringify(l)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:l,attributes:{[MB]:"previous_trace"}}),t.setAttribute(m9,`${l.traceId}-${l.spanId}-${$g(l)?1:0}`)),o)}function v9(e){try{Xe.sessionStorage.setItem(MR,JSON.stringify(e))}catch(t){sr&&ue.warn("Could not store previous trace in sessionStorage",t)}}function _9(){var e;try{const t=(e=Xe.sessionStorage)==null?void 0:e.getItem(MR);return JSON.parse(t)}catch{return}}function $g(e){return e.traceFlags===1}const w9="BrowserTracing",S9={...Fd,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...$R},E9=((e={})=>{const t={name:void 0,source:void 0},n=Xe.document,{enableInp:r,enableElementTiming:s,enableLongTask:o,enableLongAnimationFrame:l,_experiments:{enableInteractions:u,enableStandaloneClsSpans:d,enableStandaloneLcpSpans:f},beforeStartSpan:p,idleTimeout:g,finalTimeout:v,childSpanTimeout:_,markBackgroundSpan:w,traceFetch:S,traceXHR:b,trackFetchStreamPerformance:C,shouldCreateSpanForRequest:T,enableHTTPTimings:R,ignoreResourceSpans:O,ignorePerformanceApiSpans:z,instrumentPageLoad:B,instrumentNavigation:$,detectRedirects:j,linkPreviousTrace:te,consistentTraceSampling:J,enableReportPageLoaded:ce,onRequestSpanStart:ne,onRequestSpanEnd:le}={...S9,...e};let G,me,fe;function de(N,re,q=!0){const P=re.op==="pageload",H=re.name,oe=p?p(re):re,he=oe.attributes||{};if(H!==oe.name&&(he[Cr]="custom",oe.attributes=he),!q){const Ce=uo();Ha({...oe,startTime:Ce}).end(Ce);return}t.name=oe.name,t.source=he[Cr];const xe=HC(oe,{idleTimeout:g,finalTimeout:v,childSpanTimeout:_,disableAutoFinish:P,beforeSpanEnd:Ce=>{G==null||G(),KV(Ce,{recordClsOnPageloadSpan:!d,recordLcpOnPageloadSpan:!f,ignoreResourceSpans:O,ignorePerformanceApiSpans:z}),Eb(N,void 0);const Ue=nt(),He=Ue.getPropagationContext();Ue.setPropagationContext({...He,traceId:xe.spanContext().traceId,sampled:mi(xe),dsc:_s(Ce)}),P&&(fe=void 0)},trimIdleSpanEndTimestamp:!ce});P&&ce&&(fe=xe),Eb(N,xe);function je(){n&&["interactive","complete"].includes(n.readyState)&&N.emit("idleSpanEnableAutoFinish",xe)}P&&!ce&&n&&(n.addEventListener("readystatechange",()=>{je()}),je())}return{name:w9,setup(N){if(h3(),G=UV({recordClsStandaloneSpans:d||!1,recordLcpStandaloneSpans:f||!1,client:N}),r&&_W(),s&&iW(),l&&qe.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?BV():o&&zV(),u&&VV(),j&&n){const q=()=>{me=Gt()};addEventListener("click",q,{capture:!0}),addEventListener("keydown",q,{capture:!0,passive:!0})}function re(){const q=bu(N);q&&!Qe(q).timestamp&&(sr&&ue.log(`[Tracing] Finishing current active span with op: ${Qe(q).op}`),q.setAttribute(gu,"cancelled"),q.end())}N.on("startNavigationSpan",(q,P)=>{if(Ke()!==N)return;if(P!=null&&P.isRedirect){sr&&ue.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),de(N,{op:"navigation.redirect",...q},!1);return}me=void 0,re(),Rr().setPropagationContext({traceId:ys(),sampleRand:Math.random(),propagationSpanId:xr()?void 0:fs()});const H=nt();H.setPropagationContext({traceId:ys(),sampleRand:Math.random(),propagationSpanId:xr()?void 0:fs()}),H.setSDKProcessingMetadata({normalizedRequest:void 0}),de(N,{op:"navigation",...q,parentSpan:null,forceTransaction:!0})}),N.on("startPageLoadSpan",(q,P={})=>{if(Ke()!==N)return;re();const H=P.sentryTrace||Sb("sentry-trace"),oe=P.baggage||Sb("baggage"),he=s3(H,oe),xe=nt();xe.setPropagationContext(he),xr()||(xe.getPropagationContext().propagationSpanId=fs()),xe.setSDKProcessingMetadata({normalizedRequest:Uy()}),de(N,{op:"pageload",...q})}),N.on("endPageloadSpan",()=>{ce&&fe&&(fe.setAttribute(gu,"reportPageLoaded"),fe.end())})},afterAllSetup(N){let re=za();if(te!=="off"&&g9(N,{linkPreviousTrace:te,consistentTraceSampling:J}),Xe.location){if(B){const q=On();b9(N,{name:Xe.location.pathname,startTime:q?q/1e3:void 0,attributes:{[Cr]:"url",[Vt]:"auto.pageload.browser"}})}$&&Jf(({to:q,from:P})=>{if(P===void 0&&(re==null?void 0:re.indexOf(q))!==-1){re=void 0;return}re=void 0;const H=Fy(q),oe=bu(N),he=oe&&j&&C9(oe,me);k9(N,{name:(H==null?void 0:H.pathname)||Xe.location.pathname,attributes:{[Cr]:"url",[Vt]:"auto.navigation.browser"}},{url:q,isRedirect:he})})}w&&h9(),u&&T9(N,g,v,_,t),r&&EW(),l9(N,{traceFetch:S,traceXHR:b,trackFetchStreamPerformance:C,tracePropagationTargets:N.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:T,enableHTTPTimings:R,onRequestSpanStart:ne,onRequestSpanEnd:le})}}});function b9(e,t,n){e.emit("startPageLoadSpan",t,n),nt().setTransactionName(t.name);const r=bu(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function k9(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const o=nt();return o.setTransactionName(t.name),r&&!s&&o.setSDKProcessingMetadata({normalizedRequest:{...Uy(),url:r}}),bu(e)}function Sb(e){const t=Xe.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function T9(e,t,n,r,s){const o=Xe.document;let l;const u=()=>{const d="ui.action.click",f=bu(e);if(f){const p=Qe(f).op;if(["navigation","pageload"].includes(p)){sr&&ue.warn(`[Tracing] Did not create ${d} span because a pageload or navigation span is in progress.`);return}}if(l&&(l.setAttribute(gu,"interactionInterrupted"),l.end(),l=void 0),!s.name){sr&&ue.warn(`[Tracing] Did not create ${d} transaction because _latestRouteName is missing.`);return}l=HC({name:s.name,op:d,attributes:{[Cr]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",u,{capture:!0})}const jR="_sentry_idleSpan";function bu(e){return e[jR]}function Eb(e,t){An(e,jR,t)}const bb=1.5;function C9(e,t){const n=Qe(e),r=uo(),s=n.start_timestamp;return!(r-s>bb||t&&r-t<=bb)}function x9(e){const t={...e};return dx(t,"react"),ZC("react",{version:k.version}),bH(t)}function R9(){if(!Wl||!tr.VITE_SENTRY_DSN||!hu.errorReportingEnabled){console.log("Sentry disabled:",{isProd:Wl,hasDSN:!!tr.VITE_SENTRY_DSN,enabled:hu.errorReportingEnabled});return}x9({dsn:tr.VITE_SENTRY_DSN,integrations:[E9(),r9({maskAllText:!0,blockAllMedia:!0})],tracesSampleRate:Wl?.1:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:tr.MODE,release:"salesboost-frontend@dev",beforeSend(e,t){var n;return(n=e.request)!=null&&n.headers&&(delete e.request.headers.Authorization,delete e.request.headers.Cookie),Wl?e:(console.log("Sentry event (dev):",e),null)},ignoreErrors:["top.GLOBALS","chrome-extension://","moz-extension://","NetworkError","Failed to fetch","AbortError","Request aborted"],denyUrls:[/extensions\//i,/^chrome:\/\//i,/^moz-extension:\/\//i]}),console.log("Sentry initialized successfully")}let FR=-1;const Ga=e=>{addEventListener("pageshow",(t=>{t.persisted&&(FR=t.timeStamp,e(t))}),!0)},zr=(e,t,n,r)=>{let s,o;return l=>{t.value>=0&&(l||r)&&(o=t.value-(s??0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=((u,d)=>u>d[1]?"poor":u>d[0]?"needs-improvement":"good")(t.value,n),e(t)))}},dv=e=>{requestAnimationFrame((()=>requestAnimationFrame((()=>e()))))},fv=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},qu=()=>{const e=fv();return(e==null?void 0:e.activationStart)??0},Br=(e,t=-1)=>{const n=fv();let r="navigate";return FR>=0?r="back-forward-cache":n&&(document.prerendering||qu()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Am=new WeakMap;function hv(e,t){return Am.get(e)||Am.set(e,new t),Am.get(e)}class I9{constructor(){fn(this,"t");fn(this,"i",0);fn(this,"o",[])}h(t){var s;if(t.hadRecentInput)return;const n=this.o[0],r=this.o.at(-1);this.i&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this.i+=t.value,this.o.push(t)):(this.i=t.value,this.o=[t]),(s=this.t)==null||s.call(this,t)}}const Ku=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((s=>{Promise.resolve().then((()=>{t(s.getEntries())}))}));return r.observe({type:e,buffered:!0,...n}),r}}catch{}},pv=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let ua=-1;const UR=new Set,kb=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Mg=e=>{if(document.visibilityState==="hidden"){if(e.type==="visibilitychange")for(const t of UR)t();isFinite(ua)||(ua=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("prerenderingchange",Mg,!0))}},rh=()=>{var e;if(ua<0){const t=qu();ua=(document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter((r=>r.name==="hidden"&&r.startTime>t))[0])==null?void 0:e.startTime)??kb(),addEventListener("visibilitychange",Mg,!0),addEventListener("prerenderingchange",Mg,!0),Ga((()=>{setTimeout((()=>{ua=kb()}))}))}return{get firstHiddenTime(){return ua},onHidden(t){UR.add(t)}}},sh=e=>{document.prerendering?addEventListener("prerenderingchange",(()=>e()),!0):e()},Tb=[1800,3e3],zR=(e,t={})=>{sh((()=>{const n=rh();let r,s=Br("FCP");const o=Ku("paint",(l=>{for(const u of l)u.name==="first-contentful-paint"&&(o.disconnect(),u.startTime<n.firstHiddenTime&&(s.value=Math.max(u.startTime-qu(),0),s.entries.push(u),r(!0)))}));o&&(r=zr(e,s,Tb,t.reportAllChanges),Ga((l=>{s=Br("FCP"),r=zr(e,s,Tb,t.reportAllChanges),dv((()=>{s.value=performance.now()-l.timeStamp,r(!0)}))})))}))},Cb=[.1,.25],A9=(e,t={})=>{const n=rh();zR(pv((()=>{let r,s=Br("CLS",0);const o=hv(t,I9),l=d=>{for(const f of d)o.h(f);o.i>s.value&&(s.value=o.i,s.entries=o.o,r())},u=Ku("layout-shift",l);u&&(r=zr(e,s,Cb,t.reportAllChanges),n.onHidden((()=>{l(u.takeRecords()),r(!0)})),Ga((()=>{o.i=0,s=Br("CLS",0),r=zr(e,s,Cb,t.reportAllChanges),dv((()=>r()))})),setTimeout(r))})))};let BR=0,Om=1/0,Ad=0;const O9=e=>{for(const t of e)t.interactionId&&(Om=Math.min(Om,t.interactionId),Ad=Math.max(Ad,t.interactionId),BR=Ad?(Ad-Om)/7+1:0)};let jg;const xb=()=>jg?BR:performance.interactionCount??0,P9=()=>{"interactionCount"in performance||jg||(jg=Ku("event",O9,{type:"event",buffered:!0,durationThreshold:0}))};let Rb=0;class N9{constructor(){fn(this,"u",[]);fn(this,"l",new Map);fn(this,"m");fn(this,"p")}v(){Rb=xb(),this.u.length=0,this.l.clear()}L(){const t=Math.min(this.u.length-1,Math.floor((xb()-Rb)/50));return this.u[t]}h(t){var s,o;if((s=this.m)==null||s.call(this,t),!t.interactionId&&t.entryType!=="first-input")return;const n=this.u.at(-1);let r=this.l.get(t.interactionId);if(r||this.u.length<10||t.duration>n.P){if(r?t.duration>r.P?(r.entries=[t],r.P=t.duration):t.duration===r.P&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],P:t.duration},this.l.set(r.id,r),this.u.push(r)),this.u.sort(((l,u)=>u.P-l.P)),this.u.length>10){const l=this.u.splice(10);for(const u of l)this.l.delete(u.id)}(o=this.p)==null||o.call(this,r)}}}const VR=e=>{const t=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?e():(e=pv(e),addEventListener("visibilitychange",e,{once:!0,capture:!0}),t((()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})})))},Ib=[200,500],L9=(e,t={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const n=rh();sh((()=>{P9();let r,s=Br("INP");const o=hv(t,N9),l=d=>{VR((()=>{for(const p of d)o.h(p);const f=o.L();f&&f.P!==s.value&&(s.value=f.P,s.entries=f.entries,r())}))},u=Ku("event",l,{durationThreshold:t.durationThreshold??40});r=zr(e,s,Ib,t.reportAllChanges),u&&(u.observe({type:"first-input",buffered:!0}),n.onHidden((()=>{l(u.takeRecords()),r(!0)})),Ga((()=>{o.v(),s=Br("INP"),r=zr(e,s,Ib,t.reportAllChanges)})))}))};class D9{constructor(){fn(this,"m")}h(t){var n;(n=this.m)==null||n.call(this,t)}}const Ab=[2500,4e3],$9=(e,t={})=>{sh((()=>{const n=rh();let r,s=Br("LCP");const o=hv(t,D9),l=d=>{t.reportAllChanges||(d=d.slice(-1));for(const f of d)o.h(f),f.startTime<n.firstHiddenTime&&(s.value=Math.max(f.startTime-qu(),0),s.entries=[f],r())},u=Ku("largest-contentful-paint",l);if(u){r=zr(e,s,Ab,t.reportAllChanges);const d=pv((()=>{l(u.takeRecords()),u.disconnect(),r(!0)})),f=p=>{p.isTrusted&&(VR(d),removeEventListener(p.type,f,{capture:!0}))};for(const p of["keydown","click","visibilitychange"])addEventListener(p,f,{capture:!0});Ga((p=>{s=Br("LCP"),r=zr(e,s,Ab,t.reportAllChanges),dv((()=>{s.value=performance.now()-p.timeStamp,r(!0)}))}))}}))},Ob=[800,1800],Fg=e=>{document.prerendering?sh((()=>Fg(e))):document.readyState!=="complete"?addEventListener("load",(()=>Fg(e)),!0):setTimeout(e)},M9=(e,t={})=>{let n=Br("TTFB"),r=zr(e,n,Ob,t.reportAllChanges);Fg((()=>{const s=fv();s&&(n.value=Math.max(s.responseStart-qu(),0),n.entries=[s],r(!0),Ga((()=>{n=Br("TTFB",0),r=zr(e,n,Ob,t.reportAllChanges),r(!0)})))}))},j9={CLS:{good:.1,needsImprovement:.25},FID:{good:100,needsImprovement:300},FCP:{good:1800,needsImprovement:3e3},LCP:{good:2500,needsImprovement:4e3},TTFB:{good:800,needsImprovement:1800},INP:{good:200,needsImprovement:500}};function F9(e,t){const n=j9[e];return!n||t<=n.good?"good":t<=n.needsImprovement?"needs-improvement":"poor"}function zl(e){const t=F9(e.name,e.value);console.log(`[Web Vitals] ${e.name}:`,{value:e.value,rating:t,id:e.id,navigationType:e.navigationType}),hu.analyticsEnabled&&window.gtag&&window.gtag("event",e.name,{value:Math.round(e.name==="CLS"?e.value*1e3:e.value),event_category:"Web Vitals",event_label:e.id,non_interaction:!0}),hu.analyticsEnabled&&U9({metric:e.name,value:e.value,rating:t,id:e.id,navigationType:e.navigationType})}async function U9(e){try{if(navigator.sendBeacon){const t=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon("/api/v1/analytics/web-vitals",t)}else await fetch("/api/v1/analytics/web-vitals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),keepalive:!0})}catch(t){console.error("Failed to send web vitals:",t)}}function z9(){if(!hu.analyticsEnabled){console.log("Web Vitals monitoring disabled");return}A9(zl),zR(zl),$9(zl),M9(zl),L9(zl),console.log("Web Vitals monitoring initialized")}R9();z9();const B9=new SO({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:300*1e3},mutations:{retry:1}}});GA.createRoot(document.getElementById("root")).render(M.jsx(k.StrictMode,{children:M.jsxs(EO,{client:B9,children:[M.jsx(tB,{}),!Wl&&M.jsx(TO,{initialIsOpen:!1})]})}));export{fy as $,H9 as A,ig as B,q9 as C,Zs as D,oo as E,eo as F,Xi as G,Vb as H,sC as I,pu as J,xf as K,Rf as L,Z9 as M,ZP as N,G9 as O,TF as P,jj as Q,at as R,bf as S,Bn as T,uT as U,$F as V,oT as W,Dz as X,aC as Y,zg as Z,TS as _,Kg as a,Aj as b,Ff as c,Ss as d,ci as e,K9 as f,tr as g,vj as h,OT as i,M as j,Bb as k,tO as l,Nm as m,yr as n,kf as o,uO as p,XA as q,k as r,W9 as s,eO as t,ay as u,Pm as v,Kb as w,mO as x,sO as y,gn as z};
