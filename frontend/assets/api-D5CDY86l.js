import{a}from"./index-D5GkNzM3.js";import{g as r,D as t}from"./index-Brw-vjna.js";const s=a.create({baseURL:r.VITE_API_URL,headers:{"Content-Type":"application/json"},timeout:3e4});s.interceptors.request.use(async e=>{const{data:{session:o}}=await t.auth.getSession();return o!=null&&o.access_token&&(e.headers.Authorization=`Bearer ${o.access_token}`),e},e=>Promise.reject(e));s.interceptors.response.use(e=>e,async e=>{var o;return((o=e.response)==null?void 0:o.status)===401&&(console.error("Unauthorized access - redirecting to login"),await t.auth.signOut(),window.location.pathname!=="/login"&&(window.location.href="/login")),e.response||console.error("Network error - please check your connection"),Promise.reject(e)});export{s as a};
