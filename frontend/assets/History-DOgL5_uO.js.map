{"version":3,"file":"History-DOgL5_uO.js","sources":["../../node_modules/lucide-react/dist/esm/icons/download.js","../../node_modules/lucide-react/dist/esm/icons/rotate-cw.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../src/pages/student/History.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 15V3\", key: \"m9g1x1\" }],\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"path\", { d: \"m7 10 5 5 5-5\", key: \"brsn70\" }]\n];\nconst Download = createLucideIcon(\"download\", __iconNode);\n\nexport { __iconNode, Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8\", key: \"1p45f6\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }]\n];\nconst RotateCw = createLucideIcon(\"rotate-cw\", __iconNode);\n\nexport { __iconNode, RotateCw as default };\n//# sourceMappingURL=rotate-cw.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 7h6v6\", key: \"box55l\" }],\n  [\"path\", { d: \"m22 7-8.5 8.5-5-5L2 17\", key: \"1t1m79\" }]\n];\nconst TrendingUp = createLucideIcon(\"trending-up\", __iconNode);\n\nexport { __iconNode, TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","import { useEffect, useState } from 'react';\nimport { \n  RotateCw, \n  TrendingUp, \n  Award, \n  Clock, \n  Search, \n  Download,\n  Eye,\n  MoreHorizontal\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Card, CardContent } from '@/components/ui/card';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { getHistory } from '@/services/mockData';\nimport { HistoryRecord, HistoryStats } from '@/types/business';\nimport { StatCard } from '@/components/dashboard/StatCard';\n\nexport default function StudentHistory() {\n  const [stats, setStats] = useState<HistoryStats | null>(null);\n  const [records, setRecords] = useState<HistoryRecord[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const data = await getHistory();\n        setStats(data.stats);\n        setRecords(data.records);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">历史记录</h1>\n        <p className=\"text-sm text-gray-500 mt-1\">查看所有练习记录</p>\n      </div>\n\n      {/* Stats Cards */}\n      {stats && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <StatCard \n            title=\"总训练次数\" \n            value={stats.totalRehearsals} \n            subtitle=\"累计训练记录\" \n            icon={RotateCw}\n            iconColor=\"text-purple-600\"\n            iconBgColor=\"bg-purple-100\"\n          />\n          <StatCard \n            title=\"平均分数\" \n            value={stats.averageScore} \n            subtitle=\"保持进步\" \n            icon={TrendingUp}\n            iconColor=\"text-blue-500\"\n            iconBgColor=\"bg-blue-100\"\n          />\n          <StatCard \n            title=\"最高分数\" \n            value={stats.bestScore} \n            subtitle=\"优秀表现\" \n            icon={Award}\n            iconColor=\"text-green-500\"\n            iconBgColor=\"bg-green-100\"\n          />\n          <StatCard \n            title=\"总练习时长\" \n            value={stats.totalDurationMinutes} \n            subtitle=\"分钟\" \n            icon={Clock}\n            iconColor=\"text-orange-500\"\n            iconBgColor=\"bg-orange-100\"\n          />\n        </div>\n      )}\n\n      {/* Filter Bar */}\n      <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 py-2\">\n        <div className=\"relative w-full sm:w-[350px]\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <Input \n            placeholder=\"搜索课程名称、客户名称、类别...\" \n            className=\"pl-9 bg-white border-gray-200 rounded-lg\"\n          />\n        </div>\n        \n        <div className=\"flex items-center gap-3 w-full sm:w-auto overflow-x-auto\">\n           <Select>\n            <SelectTrigger className=\"w-[120px] bg-white border-gray-200\">\n              <SelectValue placeholder=\"个别时间\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">全部时间</SelectItem>\n            </SelectContent>\n          </Select>\n\n          <Select>\n            <SelectTrigger className=\"w-[120px] bg-white border-gray-200\">\n              <SelectValue placeholder=\"个别分数\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">全部分数</SelectItem>\n            </SelectContent>\n          </Select>\n\n          <Button variant=\"outline\" className=\"gap-2 border-gray-200 text-gray-600\">\n            <Download className=\"w-4 h-4\" />\n            导出\n          </Button>\n        </div>\n      </div>\n\n      {/* History Table */}\n      <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden\">\n        <Table>\n          <TableHeader className=\"bg-gray-50/50\">\n            <TableRow className=\"hover:bg-transparent\">\n              <TableHead className=\"w-[200px]\">日期时间</TableHead>\n              <TableHead className=\"w-[200px]\">课程信息</TableHead>\n              <TableHead className=\"w-[200px]\">客户角色</TableHead>\n              <TableHead>类别</TableHead>\n              <TableHead>时长</TableHead>\n              <TableHead>得分</TableHead>\n              <TableHead className=\"text-right\">操作</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {records.map((record) => (\n              <TableRow key={record.id} className=\"hover:bg-gray-50/50 border-gray-100\">\n                <TableCell className=\"py-4\">\n                  <div className=\"flex items-center gap-2 text-gray-500 text-sm\">\n                    <Clock className=\"w-4 h-4 text-gray-300\" />\n                    <div className=\"flex flex-col\">\n                      <span>{record.dateTime.split(' ')[0]}</span>\n                      <span className=\"text-xs text-gray-400\">{record.dateTime.split(' ')[1]}</span>\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell className=\"font-medium text-gray-900 py-4\">{record.courseName}</TableCell>\n                <TableCell className=\"py-4\">\n                  <div className=\"flex flex-col\">\n                    <span className=\"text-sm font-medium text-gray-900\">{record.customerName}</span>\n                    <span className=\"text-xs text-gray-500\">{record.customerRole}</span>\n                  </div>\n                </TableCell>\n                <TableCell className=\"py-4\">\n                   <Badge variant=\"secondary\" className=\"bg-purple-50 text-purple-700 hover:bg-purple-100 font-normal border-0\">\n                     {record.category}\n                   </Badge>\n                </TableCell>\n                <TableCell className=\"text-gray-500 text-sm py-4\">\n                  <div className=\"flex items-center gap-1\">\n                    <Clock className=\"w-3 h-3 text-gray-300\" />\n                    {record.duration}\n                  </div>\n                </TableCell>\n                <TableCell className=\"py-4\">\n                  <div className={`\n                    w-12 h-12 rounded-xl flex items-center justify-center text-lg font-bold border\n                    ${record.score >= 90 \n                      ? 'bg-green-50 text-green-600 border-green-100' \n                      : record.score >= 80 \n                        ? 'bg-blue-50 text-blue-600 border-blue-100'\n                        : 'bg-orange-50 text-orange-600 border-orange-100'\n                    }\n                  `}>\n                    {record.score}\n                  </div>\n                </TableCell>\n                <TableCell className=\"text-right py-4\">\n                  <div className=\"flex justify-end gap-2\">\n                    <Button variant=\"ghost\" size=\"sm\" className=\"text-gray-500 hover:text-gray-900 gap-1 rounded-full px-3\">\n                      <Eye className=\"w-4 h-4\" /> 查看详情\n                    </Button>\n                    <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-gray-400 hover:text-gray-600 rounded-full\">\n                      <RotateCw className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  );\n}\n"],"names":["__iconNode","Download","createLucideIcon","RotateCw","TrendingUp","StudentHistory","stats","setStats","useState","records","setRecords","loading","setLoading","useEffect","data","getHistory","fetchData","jsxs","jsx","StatCard","totalRehearsals","averageScore","bestScore","Award","totalDurationMinutes","Clock","Search","Input","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Button","Table","TableHeader","TableRow","TableHead","TableBody","map","TableCell","record","dateTime","split","courseName","customerName","customerRole","Badge","category","duration","score","Eye","id"],"mappings":"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","x_google_ignoreList":[0,1,2]}