{"version":3,"file":"StudentLayout-rBXynUbB.js","sources":["../../node_modules/lucide-react/dist/esm/icons/smartphone.js","../../src/layouts/StudentLayout.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"14\", height: \"20\", x: \"5\", y: \"2\", rx: \"2\", ry: \"2\", key: \"1yt0o3\" }],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }]\n];\nconst Smartphone = createLucideIcon(\"smartphone\", __iconNode);\n\nexport { __iconNode, Smartphone as default };\n//# sourceMappingURL=smartphone.js.map\n","import { Outlet, NavLink, useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '@/store/auth.store';\nimport { \n  LayoutDashboard, \n  Users, \n  Clock, \n  Share2,\n  Smartphone,\n  Settings\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\nimport { useToast } from '@/hooks/use-toast';\n\nexport default function StudentLayout() {\n  const { user, signOut } = useAuthStore();\n  const navigate = useNavigate();\n  const { toast } = useToast();\n\n  const handleSignOut = async () => {\n    await signOut();\n    navigate('/login');\n  };\n\n  const handleLogin = () => {\n    navigate('/login');\n  };\n\n  const handleSwitchToAdmin = () => {\n    const userRole = user?.user_metadata?.role || user?.app_metadata?.role;\n    if (userRole === 'admin') {\n      navigate('/admin/dashboard');\n    } else {\n      toast({\n        title: '权限不足',\n        description: '您没有管理员权限，无法切换到管理端',\n        variant: 'destructive'\n      });\n    }\n  };\n\n  const handleViewH5 = () => {\n    toast({\n      title: 'H5版本',\n      description: '移动端H5版本正在开发中，敬请期待',\n    });\n  };\n\n  const handleShare = () => {\n    if (navigator.share) {\n      navigator.share({\n        title: '销冠AI系统',\n        text: 'AI智能销售培训平台',\n        url: window.location.href,\n      });\n    } else {\n      toast({\n        title: '分享链接',\n        description: '链接已复制到剪贴板',\n      });\n    }\n  };\n\n  const navItems = [\n    { to: '/student/dashboard', icon: LayoutDashboard, label: '任务管理' },\n    { to: '/student/customers', icon: Users, label: '客户预演' },\n    { to: '/student/history', icon: Clock, label: '历史记录' },\n  ];\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      {/* Sidebar */}\n      <aside className=\"w-64 bg-white border-r border-gray-100 flex flex-col shadow-sm z-10\">\n        <div className=\"p-6 flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white font-bold shadow-md shadow-primary/30\">\n            AI\n          </div>\n          <div className=\"flex flex-col\">\n            <span className=\"font-bold text-gray-900 text-lg leading-tight\">销冠AI系统</span>\n            <span className=\"text-xs text-gray-500 font-medium\">学员端</span>\n          </div>\n        </div>\n        \n        <nav className=\"flex-1 px-4 space-y-2 mt-4\">\n          {navItems.map((item) => (\n            <NavLink\n              key={item.to}\n              to={item.to}\n              className={({ isActive }) =>\n                cn(\n                  \"flex items-center px-4 py-3 text-sm font-medium rounded-full transition-all duration-200\",\n                  isActive\n                    ? \"bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-md shadow-primary/20\"\n                    : \"text-gray-500 hover:bg-gray-50 hover:text-gray-900\"\n                )\n              }\n            >\n              <item.icon className={cn(\"w-5 h-5 mr-3\")} />\n              {item.label}\n            </NavLink>\n          ))}\n        </nav>\n\n        <div className=\"p-4 border-t border-gray-100\">\n          <div className=\"flex items-center gap-3 p-2\">\n            <div className=\"w-10 h-10 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold\">\n              {user?.email?.charAt(0).toUpperCase() || '张'}\n            </div>\n            <div className=\"flex flex-col overflow-hidden\">\n              <span className=\"font-bold text-gray-900 text-sm truncate\">\n                {user?.user_metadata?.full_name || '张伟'}\n              </span>\n              <span className=\"text-xs text-gray-400 truncate\">学员数据</span>\n            </div>\n          </div>\n        </div>\n      </aside>\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        {/* Top Navigation Bar */}\n        <header className=\"h-16 bg-white border-b border-gray-100 flex items-center justify-between px-8 shadow-sm\">\n          <div className=\"text-lg font-medium text-gray-900\">\n            AI Sales Training Agent\n          </div>\n          \n          <div className=\"flex items-center gap-3\">\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              className=\"rounded-full gap-2 border-gray-200 text-gray-600 hover:bg-gray-50\"\n              onClick={handleSwitchToAdmin}\n            >\n              切换到管理端\n            </Button>\n\n            <Button \n              size=\"sm\" \n              className=\"rounded-full gap-2 bg-purple-50 text-purple-600 hover:bg-purple-100 border border-purple-100 shadow-none\"\n              onClick={handleViewH5}\n            >\n              <Smartphone className=\"w-4 h-4\" />\n              查看 H5 版本\n            </Button>\n\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              className=\"rounded-full gap-2 border-gray-200 text-gray-600 hover:bg-gray-50\"\n              onClick={handleShare}\n            >\n              <Share2 className=\"w-4 h-4\" />\n              Share\n            </Button>\n          </div>\n        </header>\n\n        {/* Page Content */}\n        <main className=\"flex-1 overflow-auto p-8\">\n          <Outlet />\n        </main>\n      </div>\n    </div>\n  );\n}\n"],"names":["__iconNode","Smartphone","createLucideIcon","StudentLayout","user","signOut","useAuthStore","navigate","useNavigate","toast","useToast","handleSwitchToAdmin","user_metadata","role","app_metadata","title","description","variant","handleViewH5","handleShare","navigator","share","text","url","window","location","href","navItems","to","icon","LayoutDashboard","label","Users","Clock","jsxs","jsx","map","item","NavLink","isActive","cn","email","charAt","toUpperCase","full_name","Button","Share2","Outlet"],"mappings":"iOAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,EAAa,CACjB,CAAC,OAAQ,CAAE,MAAO,KAAM,OAAQ,KAAM,EAAG,IAAK,EAAG,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,SAAU,EACvF,CAAC,OAAQ,CAAE,EAAG,aAAc,IAAK,QAAQ,CAAE,CAC7C,EACMC,EAAaC,EAAiB,aAAcF,CAAU,ECC5D,SAAwBG,GAAgB,SACtC,KAAM,CAAEC,KAAAA,EAAMC,QAAAA,CAAAA,EAAYC,EAAAA,EACpBC,EAAWC,EAAAA,EACX,CAAEC,MAAAA,CAAAA,EAAUC,EAAAA,EAWZC,EAAsBA,IAAM,YACfP,EAAAA,GAAAA,YAAAA,EAAMQ,gBAANR,YAAAA,EAAqBS,SAAQT,EAAAA,GAAAA,YAAAA,EAAMU,eAANV,YAAAA,EAAoBS,SACjD,QACfN,EAAS,kBAAkB,EAE3BE,EAAM,CACJM,MAAO,OACPC,YAAa,oBACbC,QAAS,aAAA,CACV,CAEL,EAEMC,EAAeA,IAAM,CACzBT,EAAM,CACJM,MAAO,OACPC,YAAa,mBAAA,CACd,CACH,EAEMG,EAAcA,IAAM,CACpBC,UAAUC,MACZD,UAAUC,MAAM,CACdN,MAAO,SACPO,KAAM,aACNC,IAAKC,OAAOC,SAASC,IAAAA,CACtB,EAEDjB,EAAM,CACJM,MAAO,OACPC,YAAa,WAAA,CACd,CAEL,EAEMW,EAAW,CACf,CAAEC,GAAI,qBAAsBC,KAAMC,EAAiBC,MAAO,MAAA,EAC1D,CAAEH,GAAI,qBAAsBC,KAAMG,EAAOD,MAAO,MAAA,EAChD,CAAEH,GAAI,mBAAoBC,KAAMI,EAAOF,MAAO,MAAA,CAAQ,EAGxD,OACEG,EAAAA,KAAC,MAAA,CAAG,4BAAA,KAAA,8BAAA,IAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,2BAEb,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAK,4BAAA,KAAA,8BAAA,IAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,sEACf,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAG,4BAAA,KAAA,8BAAA,IAAA,0BAAA,KAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,8BACb,SAAA,CAAAC,MAAC,MAAA,CAAG,4BAAA,KAAA,8BAAA,KAAA,0BAAA,KAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,0NAAC,UAAU,sHAAqH,SAAA,KAEpI,EACAD,EAAAA,KAAC,MAAA,CAAG,4BAAA,KAAA,8BAAA,KAAA,0BAAA,KAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,gBACb,SAAA,CAAAC,MAAC,OAAA,CAAI,4BAAA,KAAA,8BAAA,KAAA,0BAAA,KAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6PAAC,UAAU,gDAAgD,SAAA,SAAM,QACrE,OAAA,CAAI,4BAAA,KAAA,8BAAA,KAAA,0BAAA,KAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,kPAAC,UAAU,oCAAoC,SAAA,KAAA,CAAG,CAAA,CAAA,CACzD,CAAA,EACF,EAEAA,EAAAA,IAAC,MAAA,CAAG,4BAAA,KAAA,8BAAA,IAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,6BACZR,SAAAA,EAASS,IAAKC,GACbH,OAACI,EAAA,CAEC,GAAID,EAAKT,GACT,UAAW,CAAC,CAAEW,SAAAA,CAAAA,IACZC,EACE,2FACAD,EACI,wFACA,oDACN,EAGF,SAAA,CAAAJ,EAAAA,IAACE,EAAK,KAAL,CAAU,UAAWG,EAAG,cAAc,EAAE,EACxCH,EAAKN,KAAAA,CAAAA,EAZDM,EAAKT,EAaZ,CACD,EACH,EAEAO,EAAAA,IAAC,MAAA,CAAG,4BAAA,MAAA,8BAAA,IAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,+BACb,SAAAD,EAAAA,KAAC,MAAA,CAAG,4BAAA,MAAA,8BAAA,KAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAG,4BAAA,MAAA,8BAAA,KAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,kGACZ/B,WAAAA,EAAAA,GAAAA,YAAAA,EAAMqC,QAANrC,YAAAA,EAAasC,OAAO,GAAGC,gBAAiB,GAAA,CAC3C,EACAT,EAAAA,KAAC,MAAA,CAAG,4BAAA,MAAA,8BAAA,KAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,gCACb,SAAA,CAAAC,MAAC,QAAI,4BAAA,MAAA,8BAAA,KAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,2CACb/B,WAAAA,EAAAA,GAAAA,YAAAA,EAAMQ,gBAANR,YAAAA,EAAqBwC,YAAa,KACrC,QACC,OAAA,CAAI,4BAAA,MAAA,8BAAA,KAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6PAAC,UAAU,iCAAiC,SAAA,MAAA,CAAI,CAAA,CAAA,CACvD,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGAV,EAAAA,KAAC,MAAA,CAAG,4BAAA,MAAA,8BAAA,IAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,uCAEb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CAAM,4BAAA,MAAA,8BAAA,IAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,0FAChB,SAAA,CAAAC,MAAC,MAAA,CAAG,4BAAA,MAAA,8BAAA,KAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,sPAAC,UAAU,oCAAmC,SAAA,0BAElD,EAEAD,EAAAA,KAAC,MAAA,CAAG,4BAAA,MAAA,8BAAA,KAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACU,EAAA,CACC,QAAQ,UACR,KAAK,KACL,UAAU,oEACV,QAASlC,EAAoB,SAAA,QAAA,CAG/B,SAECkC,EAAA,CACC,KAAK,KACL,UAAU,2GACV,QAAS3B,EAET,SAAA,CAAAiB,EAAAA,IAAClC,EAAA,CAAW,UAAU,SAAA,CAAS,EAAA,UAAA,EAEjC,EAEAiC,EAAAA,KAACW,GACC,QAAQ,UACR,KAAK,KACL,UAAU,oEACV,QAAS1B,EAET,SAAA,CAAAgB,EAAAA,IAACW,EAAA,CAAO,UAAU,SAAA,CAAS,EAAA,OAAA,CAAA,CAE7B,CAAA,CAAA,CACF,CAAA,EACF,QAGC,OAAA,CAAI,4BAAA,MAAA,8BAAA,IAAA,0BAAA,MAAA,4BAAA,KAAA,2BAAA,sCAAA,8BAAA,6DAAC,UAAU,2BACd,SAAAX,EAAAA,IAACY,IAAM,CAAA,CACT,CAAA,CAAA,CACF,CAAA,EACF,CAEJ","x_google_ignoreList":[0]}