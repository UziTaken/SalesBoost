{"version":3,"file":"CourseList-CrlHUMaP.js","sources":["../../src/services/course.service.ts","../../src/pages/student/CourseList.tsx"],"sourcesContent":["/**\n * Course Service\n *\n * Handles all course-related API calls\n */\n\nimport { api } from './api';\n\nexport interface Course {\n  id: number;\n  title: string;\n  description?: string;\n  status: 'draft' | 'published' | 'archived';\n  user_status?: 'not_started' | 'in_progress' | 'completed';\n  progress?: number;\n  category?: string;\n  difficulty: number;\n  duration_minutes?: number;\n  thumbnail_url?: string;\n  instructor_name?: string;\n  learning_objectives?: string[];\n  prerequisites?: string[];\n  tags?: string[];\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface CourseCreate {\n  title: string;\n  description?: string;\n  status?: 'draft' | 'published' | 'archived';\n  category?: string;\n  difficulty?: number;\n  duration_minutes?: number;\n  thumbnail_url?: string;\n  instructor_name?: string;\n  learning_objectives?: string[];\n  prerequisites?: string[];\n  tags?: string[];\n}\n\nexport interface CourseListParams {\n  status?: string;\n  category?: string;\n  difficulty?: number;\n  search?: string;\n  page?: number;\n  page_size?: number;\n}\n\nexport interface CourseListResponse {\n  items: Course[];\n  total: number;\n  page: number;\n  page_size: number;\n}\n\nexport interface TaskSummary {\n  id: number;\n  title: string;\n  task_type: string;\n  status: string;\n  order: number;\n  points: number;\n}\n\nexport const courseService = {\n  /**\n   * Create a new course (Admin only)\n   */\n  createCourse: async (data: CourseCreate): Promise<Course> => {\n    return await api.post<Course>('/api/v1/courses', data);\n  },\n\n  /**\n   * List courses with filtering and pagination\n   */\n  listCourses: async (params?: CourseListParams): Promise<CourseListResponse> => {\n    return await api.get<CourseListResponse>('/api/v1/courses', { params });\n  },\n\n  listUserCourses: async (params?: CourseListParams): Promise<CourseListResponse> => {\n    return await api.get<CourseListResponse>('/api/v1/courses', { params });\n  },\n\n  /**\n   * Get course details\n   */\n  getCourse: async (courseId: number): Promise<Course> => {\n    return await api.get<Course>(`/api/v1/courses/${courseId}`);\n  },\n\n  /**\n   * Update course (Admin only)\n   */\n  updateCourse: async (courseId: number, data: Partial<CourseCreate>): Promise<Course> => {\n    return await api.put<Course>(`/api/v1/courses/${courseId}`, data);\n  },\n\n  /**\n   * Delete course (Admin only)\n   */\n  deleteCourse: async (courseId: number): Promise<void> => {\n    return await api.delete(`/api/v1/courses/${courseId}`);\n  },\n\n  /**\n   * Get tasks for a course\n   */\n  getCourseTasks: async (courseId: number): Promise<TaskSummary[]> => {\n    return await api.get<TaskSummary[]>(`/api/v1/courses/${courseId}/tasks`);\n  }\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { courseService } from '@/services/course.service';\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { CardSkeleton } from \"@/components/ui/skeleton\";\nimport { AlertCircle } from 'lucide-react';\n\nexport default function CourseList() {\n  const { data, isLoading, isError, error, refetch } = useQuery({\n    queryKey: ['user-courses'],\n    queryFn: () => courseService.listUserCourses(),\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-3xl font-bold tracking-tight\">My Courses</h1>\n        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n          {Array.from({ length: 3 }).map((_, i) => (\n            <CardSkeleton key={i} />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (isError) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-3xl font-bold tracking-tight\">My Courses</h1>\n        <Card className=\"border-red-200 bg-red-50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center gap-2 text-red-800 mb-4\">\n              <AlertCircle className=\"h-5 w-5\" />\n              <p className=\"font-medium\">Failed to load courses</p>\n            </div>\n            <p className=\"text-sm text-red-700 mb-4\">\n              {error instanceof Error ? error.message : 'An error occurred while loading courses'}\n            </p>\n            <Button onClick={() => refetch()} variant=\"outline\" size=\"sm\">\n              Try Again\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const courses = data?.items || [];\n\n  if (courses.length === 0) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-3xl font-bold tracking-tight\">My Courses</h1>\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"text-center py-12\">\n              <p className=\"text-muted-foreground mb-4\">No courses available yet</p>\n              <p className=\"text-sm text-muted-foreground\">\n                Check back later for new courses or contact your administrator\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold tracking-tight\">My Courses</h1>\n        <p className=\"text-sm text-muted-foreground\">\n          {courses.length} {courses.length === 1 ? 'course' : 'courses'}\n        </p>\n      </div>\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {courses.map((course) => (\n          <Card key={course.id} className=\"hover:shadow-lg transition-shadow\">\n            <CardHeader>\n              <CardTitle>{course.title}</CardTitle>\n              {course.description && (\n                <p className=\"text-sm text-muted-foreground line-clamp-2\">\n                  {course.description}\n                </p>\n              )}\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex justify-between items-center mb-4\">\n                <span className={`text-sm font-medium px-2 py-1 rounded ${\n                  course.user_status === 'completed'\n                    ? 'bg-green-100 text-green-800'\n                    : course.user_status === 'in_progress'\n                    ? 'bg-blue-100 text-blue-800'\n                    : 'bg-gray-100 text-gray-800'\n                }`}>\n                  {course.user_status === 'completed' ? 'Completed' :\n                   course.user_status === 'in_progress' ? 'In Progress' : 'Not Started'}\n                </span>\n                <span className=\"text-sm font-medium\">{course.progress || 0}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2.5 mb-4\">\n                <div\n                  className=\"bg-indigo-600 h-2.5 rounded-full transition-all\"\n                  style={{ width: `${course.progress || 0}%` }}\n                ></div>\n              </div>\n              <Button className=\"w-full\" asChild>\n                <a href={`/student/training/${course.id}`}>\n                  {course.user_status === 'completed' ? 'Review' : 'Continue'}\n                </a>\n              </Button>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":["courseService","createCourse","data","api","post","listCourses","params","get","listUserCourses","getCourse","courseId","updateCourse","put","deleteCourse","delete","getCourseTasks","CourseList","isLoading","isError","error","refetch","useQuery","queryKey","queryFn","jsxs","jsx","Array","from","length","map","_","i","CardSkeleton","Card","CardContent","AlertCircle","Error","message","Button","courses","items","course","CardHeader","CardTitle","title","description","user_status","progress","width","id"],"mappings":"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"}