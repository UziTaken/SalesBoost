import{u as y,r as f,j as t,B as A}from"./index-Brw-vjna.js";import{u as h}from"./useQuery-BLIH4P5b.js";import{s as g}from"./session.service-DPmON2dC.js";import{C as a,a as o,b as l,c as d}from"./card-CgWuGiW4.js";import{D as N}from"./skeleton-DQI6M_d0.js";import{C as k}from"./circle-alert-BeZxWhr5.js";import{R as v,T as j,C as w,X as L,Y as F}from"./CartesianChart-B0iZIDPM.js";import{R as M,P as R,a as _,b as P,c as T,B as K,d as q}from"./RadarChart-JV76oD3O.js";import"./api-D5CDY86l.js";import"./index-D5GkNzM3.js";import"./index-CrbLbUhv.js";function V(){var m,x;const{user:n}=y(),{data:e,isLoading:E}=h({queryKey:["user-sessions",n==null?void 0:n.id],queryFn:()=>g.listSessions({user_id:n==null?void 0:n.id,status:"completed"}),enabled:!!(n!=null&&n.id)}),i=(x=(m=e==null?void 0:e.items)==null?void 0:m[0])==null?void 0:x.id,{data:r,isLoading:S,isError:B,error:p,refetch:D}=h({queryKey:["session-review",i],queryFn:()=>g.getSessionReview(i||""),enabled:!!i}),b=E||S,u=f.useMemo(()=>{if(!(r!=null&&r.skill_improvement))return[];const s=r.skill_improvement;return[{subject:"Opening",score:s.opening||0,fullMark:100},{subject:"Discovery",score:s.discovery||0,fullMark:100},{subject:"Presentation",score:s.presentation||0,fullMark:100},{subject:"Objection",score:s.objection||0,fullMark:100},{subject:"Closing",score:s.closing||0,fullMark:100},{subject:"Follow-up",score:s.followup||0,fullMark:100}]},[r]),C=f.useMemo(()=>e!=null&&e.items?e.items.slice(0,5).reverse().map((s,c)=>({name:`Session ${c+1}`,score:Math.round(Math.random()*30+70),date:s.created_at?new Date(s.created_at).toLocaleDateString():"N/A"})):[],[e]);return b?t.jsxs("div",{"trae-inspector-start-line":"80","trae-inspector-start-column":"6","trae-inspector-end-line":"83","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"space-y-6",children:[t.jsx("h1",{"trae-inspector-start-line":"81","trae-inspector-start-column":"8","trae-inspector-end-line":"81","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Evaluation%20%26%20Feedback%22%2C%22textStartLine%22%3A%2281%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%2281%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-3xl font-bold tracking-tight",children:"Evaluation & Feedback"}),t.jsx(N,{})]}):B?t.jsxs("div",{"trae-inspector-start-line":"89","trae-inspector-start-column":"6","trae-inspector-end-line":"105","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"space-y-6",children:[t.jsx("h1",{"trae-inspector-start-line":"90","trae-inspector-start-column":"8","trae-inspector-end-line":"90","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Evaluation%20%26%20Feedback%22%2C%22textStartLine%22%3A%2290%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%2290%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-3xl font-bold tracking-tight",children:"Evaluation & Feedback"}),t.jsx(a,{className:"border-red-200 bg-red-50",children:t.jsxs(o,{className:"pt-6",children:[t.jsxs("div",{"trae-inspector-start-line":"93","trae-inspector-start-column":"12","trae-inspector-end-line":"96","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"flex items-center gap-2 text-red-800 mb-4",children:[t.jsx(k,{className:"h-5 w-5"}),t.jsx("p",{"trae-inspector-start-line":"95","trae-inspector-start-column":"14","trae-inspector-end-line":"95","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Failed%20to%20load%20evaluation%20data%22%2C%22textStartLine%22%3A%2295%22%2C%22textStartColumn%22%3A%2241%22%2C%22textEndLine%22%3A%2295%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"font-medium",children:"Failed to load evaluation data"})]}),t.jsx("p",{"trae-inspector-start-line":"97","trae-inspector-start-column":"12","trae-inspector-end-line":"99","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-sm text-red-700 mb-4",children:p instanceof Error?p.message:"An error occurred while loading your evaluation"}),t.jsx(A,{onClick:()=>D(),variant:"outline",size:"sm",children:"Try Again"})]})})]}):!(e!=null&&e.items)||e.items.length===0?t.jsxs("div",{"trae-inspector-start-line":"111","trae-inspector-start-column":"6","trae-inspector-end-line":"126","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"space-y-6",children:[t.jsx("h1",{"trae-inspector-start-line":"112","trae-inspector-start-column":"8","trae-inspector-end-line":"112","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Evaluation%20%26%20Feedback%22%2C%22textStartLine%22%3A%22112%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%22112%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-3xl font-bold tracking-tight",children:"Evaluation & Feedback"}),t.jsx(a,{children:t.jsx(o,{className:"pt-6",children:t.jsxs("div",{"trae-inspector-start-line":"115","trae-inspector-start-column":"12","trae-inspector-end-line":"123","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-center py-12",children:[t.jsx("p",{"trae-inspector-start-line":"116","trae-inspector-start-column":"14","trae-inspector-end-line":"116","trae-inspector-end-column":"92","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20evaluation%20data%20available%20yet%22%2C%22textStartLine%22%3A%22116%22%2C%22textStartColumn%22%3A%2256%22%2C%22textEndLine%22%3A%22116%22%2C%22textEndColumn%22%3A%2288%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-muted-foreground mb-4",children:"No evaluation data available yet"}),t.jsx("p",{"trae-inspector-start-line":"117","trae-inspector-start-column":"14","trae-inspector-end-line":"119","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Complete%20your%20first%20training%20session%20to%20see%20your%20evaluation%20and%20feedback%22%2C%22textStartLine%22%3A%22117%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22119%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-sm text-muted-foreground mb-6",children:"Complete your first training session to see your evaluation and feedback"}),t.jsx(A,{asChild:!0,children:t.jsx("a",{"trae-inspector-start-line":"121","trae-inspector-start-column":"16","trae-inspector-end-line":"121","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Start%20Training%22%2C%22textStartLine%22%3A%22121%22%2C%22textStartColumn%22%3A%2244%22%2C%22textEndLine%22%3A%22121%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",href:"/student/training",children:"Start Training"})})]})})})]}):t.jsxs("div",{"trae-inspector-start-line":"131","trae-inspector-start-column":"4","trae-inspector-end-line":"220","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"space-y-6",children:[t.jsxs("div",{"trae-inspector-start-line":"132","trae-inspector-start-column":"6","trae-inspector-end-line":"137","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"flex justify-between items-center",children:[t.jsx("h1",{"trae-inspector-start-line":"133","trae-inspector-start-column":"8","trae-inspector-end-line":"133","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Evaluation%20%26%20Feedback%22%2C%22textStartLine%22%3A%22133%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%22133%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-3xl font-bold tracking-tight",children:"Evaluation & Feedback"}),t.jsxs("p",{"trae-inspector-start-line":"134","trae-inspector-start-column":"8","trae-inspector-end-line":"136","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-sm text-muted-foreground",children:["Based on ",e.items.length," completed ",e.items.length===1?"session":"sessions"]})]}),t.jsxs("div",{"trae-inspector-start-line":"139","trae-inspector-start-column":"6","trae-inspector-end-line":"195","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"grid gap-6 md:grid-cols-2",children:[t.jsxs(a,{children:[t.jsx(l,{children:t.jsx(d,{children:"Skill Radar"})}),t.jsx(o,{children:u.length>0?t.jsx("div",{"trae-inspector-start-line":"146","trae-inspector-start-column":"14","trae-inspector-end-line":"162","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"h-[300px]",children:t.jsx(v,{width:"100%",height:"100%",children:t.jsxs(M,{cx:"50%",cy:"50%",outerRadius:"80%",data:u,children:[t.jsx(R,{}),t.jsx(_,{dataKey:"subject"}),t.jsx(P,{angle:30,domain:[0,100]}),t.jsx(T,{name:"My Skills",dataKey:"score",stroke:"#4f46e5",fill:"#4f46e5",fillOpacity:.6}),t.jsx(j,{})]})})}):t.jsx("div",{"trae-inspector-start-line":"164","trae-inspector-start-column":"14","trae-inspector-end-line":"166","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20skill%20data%20available%22%2C%22textStartLine%22%3A%22164%22%2C%22textStartColumn%22%3A%2296%22%2C%22textEndLine%22%3A%22166%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No skill data available"})})]}),t.jsxs(a,{children:[t.jsx(l,{children:t.jsx(d,{children:"Performance Trend"})}),t.jsx(o,{children:C.length>0?t.jsx("div",{"trae-inspector-start-line":"177","trae-inspector-start-column":"14","trae-inspector-end-line":"187","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"h-[300px]",children:t.jsx(v,{width:"100%",height:"100%",children:t.jsxs(K,{data:C,children:[t.jsx(w,{strokeDasharray:"3 3",vertical:!1}),t.jsx(L,{dataKey:"name"}),t.jsx(F,{domain:[0,100]}),t.jsx(j,{}),t.jsx(q,{dataKey:"score",fill:"#4f46e5",radius:[4,4,0,0]})]})})}):t.jsx("div",{"trae-inspector-start-line":"189","trae-inspector-start-column":"14","trae-inspector-end-line":"191","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Complete%20more%20sessions%20to%20see%20your%20trend%22%2C%22textStartLine%22%3A%22189%22%2C%22textStartColumn%22%3A%2296%22%2C%22textEndLine%22%3A%22191%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Complete more sessions to see your trend"})})]})]}),t.jsxs(a,{children:[t.jsx(l,{children:t.jsx(d,{children:"Recent Feedback"})}),t.jsx(o,{children:r!=null&&r.effective_adoptions&&r.effective_adoptions.length>0?t.jsx("div",{"trae-inspector-start-line":"203","trae-inspector-start-column":"12","trae-inspector-end-line":"212","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"space-y-4",children:r.effective_adoptions.slice(0,3).map((s,c)=>t.jsxs("div",{"trae-inspector-start-line":"205","trae-inspector-start-column":"16","trae-inspector-end-line":"210","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"p-4 bg-green-50 border border-green-100 rounded-lg",children:[t.jsxs("h3",{"trae-inspector-start-line":"206","trae-inspector-start-column":"18","trae-inspector-end-line":"206","trae-inspector-end-column":"119","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"font-semibold text-green-900",children:["Strength: ",s.strategy||"Good Performance"]}),t.jsx("p",{"trae-inspector-start-line":"207","trae-inspector-start-column":"18","trae-inspector-end-line":"209","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-green-800 text-sm mt-1",children:s.description||"You demonstrated effective techniques in this area."})]},c))}):t.jsx("div",{"trae-inspector-start-line":"214","trae-inspector-start-column":"12","trae-inspector-end-line":"216","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\student\\\\Evaluation.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20feedback%20available%20yet.%20Complete%20more%20training%20sessions%20to%20receive%20personalized%20feedback.%22%2C%22textStartLine%22%3A%22214%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%22216%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22D%3A%5C%5CSalesBoost%5C%5Cfrontend%22%7D",className:"text-center py-8 text-muted-foreground",children:"No feedback available yet. Complete more training sessions to receive personalized feedback."})})]})]})}export{V as default};
